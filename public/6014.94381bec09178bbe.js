"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[6014],{68:(Z,d,a)=>{a.d(d,{a:()=>i});const i={api:{create:"account/create",get:"account/with-group/all",getNotParent:"not-parents/accounts",getParent:"parents/accounts",getProfitLossParent:"profit-loss/parent-accounts",getExpensesParent:"account/parent/expenses",getAssetsParent:"account/parent/assets",getById:"account/",update:"account/update/",delete:"account/",exportExample:"account/export/example",exportExampleSub:"account/export/example/sub",export:"account/export/parent",exportPdf:"account/export/pdf",importAccount:"account/import",importAccountSub:"account/import/sub"},page:{}}},7344:(Z,d,a)=>{a.d(d,{t:()=>i});const i={api:{create:"project-management-category/create",get:"project-management-category",getById:"project-management-category/",update:"project-management-category/update/",delete:"project-management-category/",exportCvs:"project-management-category/export/cvs",exportPdf:"project-management-category/export/pdf",importAccount:"project-management-category/import"},page:{list:"/project-management-category/list",update:"/project-management-category/update",create:"/project-management-category/create",view:"/project-management-category/view",delete:"/project-management-category/delete"}}},6014:(Z,d,a)=>{a.d(d,{G:()=>F});var i=a(5861),p=a(7344),t=a(6223),v=a(8645),g=a(68),e=a(9291),m=a(8763),C=a(5118),x=a(6814),D=a(1771),c=a(8614),_=a(5253),r=a(4779),l=a(3999);function A(n,f){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const o=f.$implicit;e.xp6(1),e.hij(" ",o.value," ")}}function T(n,f){if(1&n&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(null==o.serverValidation?null:o.serverValidation.name[0])}}function j(n,f){if(1&n&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(null==o.serverValidation?null:o.serverValidation.description[0])}}let O=(()=>{class n{constructor(o,s,u,h,y){this.fb=o,this.toaster=s,this.categoriesService=u,this.config=h,this.dialogRef=y,this.unsubscribe=new v.x,this.formGroup=this.initForm(),this.isLoading=!1,this.accountConfig=g.a,this.categories=[],this.config.data?.data&&this.fillDataToUpdate()}ngOnInit(){this.categoriesService.getCategories().subscribe(o=>{this.categories=o.data})}reject(o){this.dialogRef.close(o)}initForm(){return this.fb.group({id:[Number],name:["",[t.kI.required,t.kI.minLength(1),t.kI.maxLength(50)]],description:["",t.kI.required]})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():(this.isLoading=!0,this.config.data.data?this.categoriesService.update(this.formGroup.value).subscribe(o=>{this.toaster.success(o.message),this.dialogRef.close(!0)},o=>{this.errors=o.error.errors,this.isLoading=!1}):this.categoriesService.create(this.formGroup.value).subscribe(o=>{this.toaster.success(o.message),this.dialogRef.close(!0)},o=>{this.errors=o.error.errors,this.isLoading=!1}))}fillDataToUpdate(){this.formGroup.patchValue({id:this.config.data.data?.id,name:this.config.data.data?.name,description:this.config.data.data?.description})}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(t.qu),e.Y36(m._W),e.Y36(F),e.Y36(C.S),e.Y36(C.E7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-categories-form"]],decls:24,vars:21,consts:[[1,"main"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","assets/Tabs/Icon/Active/inventory-icon.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],["translate","",1,"title"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],["text","name","formControlName","name","ngDefaultControl","","placeholder","",3,"type"],["class","error",4,"ngIf"],["text","description","formControlName","description","ngDefaultControl","","placeholder","",3,"type"],[1,"row","g-2","my-2"],[1,"col-6"],[3,"text","click"],[1,"text-error"],[1,"error"]],template:function(o,s){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"span",5),e.NdJ("click",function(){return s.reject(!1)}),e._UZ(6,"i",6),e.qZA()(),e.TgZ(7,"p",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"app-form",8),e.NdJ("onSubmit",function(){return s.accept()}),e.YNc(11,A,2,1,"div",9),e.ALo(12,"keyvalue"),e.TgZ(13,"div"),e._UZ(14,"app-text",10),e.YNc(15,T,2,1,"p",11),e.qZA(),e.TgZ(16,"div"),e._UZ(17,"app-textarea",12),e.YNc(18,j,2,1,"p",11),e.qZA(),e.TgZ(19,"div",13)(20,"div",14)(21,"app-button",15),e.NdJ("click",function(){return s.reject(!1)}),e.qZA()(),e.TgZ(22,"div",14)(23,"app-button",15),e.NdJ("click",function(){return s.accept()}),e.qZA()()()()()),2&o){let u;e.xp6(8),e.Oqu(e.lcZ(9,17,null!==(u=s.config.header)&&void 0!==u?u:"")),e.xp6(2),e.Q6J("formGroup",s.formGroup),e.xp6(1),e.Q6J("ngForOf",e.lcZ(12,19,s.errors)),e.xp6(3),e.Tol("d-flex flex-column justify-content-between"),e.Q6J("type","text"),e.xp6(1),e.Q6J("ngIf",null==s.serverValidation?null:s.serverValidation.name),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.Q6J("type","text"),e.xp6(1),e.Q6J("ngIf",null==s.serverValidation?null:s.serverValidation.description),e.xp6(3),e.Tol("btn-cancel"),e.Q6J("text","Cancel"),e.xp6(2),e.Tol("btn-filter"),e.Q6J("text",null==s.config.data?null:s.config.data.acceptLabel)}},dependencies:[x.sg,x.O5,D.U,t.Fj,t.JJ,t.JL,t.sg,t.u,c.T,_.R,r.r,l.Pi,x.Nd,l.X$]}),n})();var L=a(1732),E=a(3562);let F=(()=>{class n{constructor(o,s,u){this.http=o,this.dynamicDialog=s,this.toastr=u}getCategories(o){return this.http.get(p.t.api.get)}openDialogToCreateCategory(){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_category",data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},O)}create(o){return this.http.post(p.t.api.create,o)}delete(o,s,u){var h=this;return(0,i.Z)(function*(){const y={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...o},name:"name"},width:"500px",height:"auto"};if(yield h.dynamicDialog.confirm(y))try{const b=yield h.http.delete(p.t.api.delete+o.id).toPromise();return h.toastr.success(b.message),b}catch(b){throw h.toastr.error(b.error.message),b}return!1})()}openDialogToUpdateCategory(o,s,u){var h=this;return(0,i.Z)(function*(){const y={showHeader:!1,header:"update_category",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...o}},height:"330px",width:"auto"};return yield h.dynamicDialog.showDialogWithComponent(y,O)})()}update(o){return this.http.post(p.t.api.update+o.id,o)}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(L.O),e.LFG(E.U),e.LFG(m._W))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},1771:(Z,d,a)=>{a.d(d,{U:()=>v});var i=a(9291),p=a(6223);const t=["*"];let v=(()=>{class g{constructor(){this.onSubmit=new i.vpe}ngOnChanges(m){}getFormData(){return"function"==typeof this.formData?this.formData(this.formGroup.value):{...this.formGroup.value}}reset(){this.formGroup.reset()}submit(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const m=this.getFormData();this.onSubmit.emit(m)}ngAfterContentInit(){}ngAfterContentChecked(){}ngOnDestroy(){}}return g.\u0275fac=function(m){return new(m||g)},g.\u0275cmp=i.Xpm({type:g,selectors:[["app-form"]],inputs:{formGroup:"formGroup",formData:"formData"},outputs:{onSubmit:"onSubmit"},features:[i.TTD],ngContentSelectors:t,decls:2,vars:1,consts:[[3,"formGroup","ngSubmit"]],template:function(m,C){1&m&&(i.F$t(),i.TgZ(0,"form",0),i.NdJ("ngSubmit",function(){return C.submit()}),i.Hsn(1),i.qZA()),2&m&&i.Q6J("formGroup",C.formGroup)},dependencies:[p._Y,p.JL,p.sg]}),g})()},5253:(Z,d,a)=>{a.d(d,{R:()=>D});var i=a(67),p=a(6223),t=a(9291),v=a(6814),g=a(6218),e=a(3999);function m(c,_){1&c&&t._UZ(0,"i",6)}function C(c,_){if(1&c&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"translate"),t.TgZ(4,"span",4),t.YNc(5,m,1,0,"i",5),t.qZA()()),2&c){const r=t.oxw();t.xp6(1),t.hij("",t.lcZ(2,2,t.lcZ(3,4,r.text))," "),t.xp6(4),t.Q6J("ngIf",r.control&&(null==r.control.errors?null:r.control.errors.required))}}function x(c,_){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&c){const r=t.oxw();t.Tol("text-danger"),t.xp6(1),t.Oqu(r.object.keys(r.control.errors)[0])}}let D=(()=>{class c extends i.t{constructor(r){super(),this.formGroupDirective=r,this.placeholder="",this.rows="2",this.cols="",this.readOnly=!1,this.class="d-flex flex-column justify-content-between",this.object=Object}writeValue(r){this.value=r}onValueChange(r){this.onChange(r.target.value),this.onTouched()}}return c.\u0275fac=function(r){return new(r||c)(t.Y36(p.sg,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-textarea"]],inputs:{value:"value",text:"text",placeholder:"placeholder",rows:"rows",cols:"cols",readOnly:"readOnly",class:"class",type:"type"},features:[t._Bn([{provide:p.JU,useExisting:c,multi:!0},{provide:p.Cf,useExisting:c,multi:!0}]),t.qOj],decls:4,vars:8,consts:[[3,"ngClass"],[4,"ngIf"],["pInputTextarea","",3,"rows","cols","ngModel","placeholder","disabled","ngModelChange","input"],[3,"class",4,"ngIf"],[1,"required-aster"],["class","fa-solid fa-asterisk",4,"ngIf"],[1,"fa-solid","fa-asterisk"]],template:function(r,l){1&r&&(t.TgZ(0,"div",0),t.YNc(1,C,6,6,"label",1),t.TgZ(2,"textarea",2),t.NdJ("ngModelChange",function(T){return l.value=T})("input",function(T){return l.onValueChange(T)}),t.qZA(),t.YNc(3,x,2,3,"span",3),t.qZA()),2&r&&(t.Q6J("ngClass",l.class),t.xp6(1),t.Q6J("ngIf",l.text),t.xp6(1),t.Q6J("rows",l.rows)("cols",l.cols)("ngModel",l.value)("placeholder",l.placeholder)("disabled",l.readOnly),t.xp6(1),t.Q6J("ngIf",l.control&&l.control.errors&&(l.control.touched||l.formGroupDirective.submitted)))},dependencies:[v.mk,v.O5,p.Fj,p.JJ,p.On,g.g,v.rS,e.X$]}),c})()}}]);