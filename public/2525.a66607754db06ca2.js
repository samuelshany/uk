"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[2525],{9558:(O,h,n)=>{n.d(h,{t:()=>s});const s={api:{create:"groupType/create",get:"groupType",getById:"groupType/",update:"groupType/update/",delete:"groupType/"},page:{listGroupsType:"",updateGroupsType:"",viewGroupsType:"",createGroupsType:""}}},3641:(O,h,n)=>{n.d(h,{l:()=>s});const s={api:{create:"group/create",get:"group",getById:"group/",update:"group/update/",delete:"group/",exportExample:"group/export/example",exportCsv:"group/export/csv",exportPdf:"group/export/pdf",importGroup:"group/import/csv"},page:{listGroupsType:"",updateGroupsType:"",viewGroupsType:"",createGroupsType:""}}},2540:(O,h,n)=>{n.d(h,{Q:()=>P});var s=n(5861),f=n(5619),c=n(9558),u=n(6223),e=n(9291),C=n(8763),m=n(5118),t=n(6814),y=n(8614),b=n(1771),_=n(4779),G=n(3999);function L(l,v){if(1&l&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&l){const r=v.$implicit;e.xp6(1),e.hij(" ",r.value," ")}}const Z=function(){return{type:"name",length:2}};let x=(()=>{class l{constructor(r,a,p,o,i){this.toastr=r,this.dialogRef=a,this.formBuilder=p,this.groupTypeService=o,this.config=i,this.formGroup=this.initForm(),this.isLoading=!1,this.config.data?.data&&this.fillDataToUpdate()}initForm(){return this.formBuilder.group({id:[Number],name:["",[u.kI.required]]})}cancel(r){this.dialogRef.close(r)}onSubmit(){this.formGroup.invalid||(this.isLoading=!0,this.config.data.data?this.groupTypeService.update(this.formGroup.value).subscribe(r=>{this.toastr.success(r.message),this.errors={},this.isLoading=!1,this.cancel(!0)},r=>{this.errors=r.error.errors,this.toastr.error(r.error.message),this.isLoading=!1}):this.groupTypeService.addGroupType(this.formGroup.value).subscribe(r=>{this.toastr.success(r.message),this.errors={},this.isLoading=!1,this.cancel(!0)},r=>{this.errors=r.error.errors,this.isLoading=!1}))}fillDataToUpdate(){this.formGroup.patchValue({id:this.config.data.data.id,name:this.config.data.data.name})}}return l.\u0275fac=function(r){return new(r||l)(e.Y36(C._W),e.Y36(m.E7),e.Y36(u.qu),e.Y36(P),e.Y36(m.S))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-new-group-type"]],decls:20,vars:14,consts:[[1,"main"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","assets/Tabs/Icon/Active/craete-bank.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title"],[1,"form"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],["text","type_name","formControlName","name","ngDefaultControl","","placeholder","",3,"patternMessage","type"],[1,"footer"],[1,"cancel"],[1,"btn-cancel",3,"text","click"],[1,"create"],[3,"text","click"],[1,"text-error"]],template:function(r,a){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"span",5),e.NdJ("click",function(){return a.cancel(!1)}),e._UZ(6,"i",6),e.qZA()(),e.TgZ(7,"p",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",8)(11,"app-form",9),e.NdJ("onSubmit",function(){return a.onSubmit()}),e.YNc(12,L,2,1,"div",10),e.ALo(13,"keyvalue"),e._UZ(14,"app-text",11),e.TgZ(15,"div",12)(16,"div",13)(17,"app-button",14),e.NdJ("click",function(){return a.cancel(!1)}),e.qZA()(),e.TgZ(18,"div",15)(19,"app-button",16),e.NdJ("click",function(){return a.onSubmit()}),e.qZA()()()()()()),2&r){let p;e.xp6(8),e.Oqu(e.lcZ(9,9,null!==(p=a.config.header)&&void 0!==p?p:"")),e.xp6(3),e.Q6J("formGroup",a.formGroup),e.xp6(1),e.Q6J("ngForOf",e.lcZ(13,11,a.errors)),e.xp6(2),e.Tol("d-flex flex-column justify-content-between "),e.Q6J("patternMessage",e.DdM(13,Z))("type","text"),e.xp6(3),e.Q6J("text","Cancel"),e.xp6(2),e.Q6J("text",a.config.data.acceptLabel)}},dependencies:[t.sg,u.Fj,u.JJ,u.JL,u.sg,u.u,y.T,b.U,_.r,t.Nd,G.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{padding:0 10px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:1rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor);margin:2rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--red)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin:1rem 0;gap:20px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{width:50%;padding-right:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]     app-submit-btn .submit-btn{background-color:var(--white);color:var(--mainColor);max-width:100%}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{width:50%;padding-left:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]     app-submit-btn .submit-btn{margin:0!important;max-width:100%}"]}),l})();var D=n(1732),w=n(3562);let P=(()=>{class l{constructor(r,a,p){this.http=r,this.dynamicDialog=a,this.toastr=p,this.latestGroupType=new f.X([])}getGroupType(r){return this.http.get(c.t.api.get)}getGroupTypeById(r){return this.http.get(c.t.api.getById+r)}getLatestRoles(){return this.latestGroupType}setLatestRoles(r){return this.latestGroupType.next(r)}addGroupType(r){return this.http.post(c.t.api.create,r)}openDialogToCreateGroupType(r){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_group_type",data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},x)}deleteGroupType(r,a,p){var o=this;return(0,s.Z)(function*(){const i={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...r}},width:"480px",height:"164px"};if(!(yield o.dynamicDialog.confirm(i)))return!1;try{const g=yield o.http.delete(c.t.api.delete+r.id).toPromise();return o.toastr.success(g.message),g}catch(g){throw o.toastr.error(g.error.message),g}})()}openDialogToUpdate(r,a,p){var o=this;return(0,s.Z)(function*(){const i={showHeader:!1,header:"update_group_type",data:{acceptLabel:"update",rejectLabel:"Cancel",data:{...r}},width:"480px",height:"auto"};return yield o.dynamicDialog.showDialogWithComponent(i,x)})()}update(r,a){return this.http.post(c.t.api.update+r.id,r)}}return l.\u0275fac=function(r){return new(r||l)(e.LFG(D.O),e.LFG(w.U),e.LFG(C._W))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},2525:(O,h,n)=>{n.d(h,{l:()=>r});var s=n(5861),f=n(5619),c=n(3641),u=n(8763),e=n(6223),C=n(8645),m=n(9773),t=n(9291),y=n(5118),b=n(2540),_=n(6814),G=n(3999),L=n(8614),Z=n(3838),x=n(1771),D=n(4779);function w(a,p){if(1&a&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&a){const o=p.$implicit;t.xp6(1),t.hij(" ",o.value," ")}}let P=(()=>{class a{constructor(o,i,d,g,M,N){this.groupService=o,this.fb=i,this.toastr=d,this.dialogRef=g,this.config=M,this.groupTypeService=N,this.unsubscribe=new C.x,this.formGroup=this.initForm(),this.isLoading=!1,this.config.data?.data&&this.fillDataToUpdate()}ngOnInit(){this.groupTypeService.getGroupType().pipe((0,m.R)(this.unsubscribe)).subscribe({next:o=>{this.allGroupType=o.data},error:o=>{},complete:()=>{}})}initForm(){return this.fb.group({id:[Number],name:["",[e.kI.required]],group_type_id:["",[e.kI.required]]})}cancel(o){this.dialogRef.close(o)}accept(){this.formGroup.invalid||(this.isLoading=!0,this.config?.data?.data?this.groupService.update(this.formGroup.value).subscribe(o=>{this.toastr.success(o.message),this.errors={},this.isLoading=!1,this.cancel(!0)},o=>{this.errors=o.error.errors,this.isLoading=!1}):this.groupService.addGroup(this.formGroup.value).subscribe(o=>{this.toastr.success(o.message),this.errors={},this.isLoading=!1,this.cancel(!0)},o=>{this.errors=o.error.errors,this.isLoading=!1}))}fillDataToUpdate(){this.formGroup.patchValue({id:this.config.data.data.id,name:this.config.data.data.name,group_type_id:this.config.data?.data?.group_type_id})}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(r),t.Y36(e.qu),t.Y36(u._W),t.Y36(y.E7),t.Y36(y.S),t.Y36(b.Q))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-new-group"]],decls:24,vars:22,consts:[[1,"main"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","assets/Tabs/Icon/Active/craete-bank.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title"],[1,"form"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],[1,"mb-4"],["text","name","formControlName","name","ngDefaultControl","","placeholder","",3,"type"],[1,"mp-4"],["formControlName","group_type_id",3,"filter","text","data","optionLabel","optionValue","placeholder"],[1,"footer"],[1,"cancel"],[1,"btn-cancel",3,"text","click"],[1,"create"],["translate","",3,"text","click"],[1,"text-error"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"span",5),t.NdJ("click",function(){return i.cancel(!1)}),t._UZ(6,"i",6),t.qZA()(),t.TgZ(7,"p",7),t._uU(8),t.ALo(9,"titlecase"),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"div",8)(12,"app-form",9),t.NdJ("onSubmit",function(){return i.accept()}),t.YNc(13,w,2,1,"div",10),t.ALo(14,"keyvalue"),t.TgZ(15,"div",11),t._UZ(16,"app-text",12),t.qZA(),t.TgZ(17,"div",13),t._UZ(18,"app-dropdown",14),t.qZA(),t.TgZ(19,"div",15)(20,"div",16)(21,"app-button",17),t.NdJ("click",function(){return i.cancel(!1)}),t.qZA()(),t.TgZ(22,"div",18)(23,"app-button",19),t.NdJ("click",function(){return i.accept()}),t.qZA()()()()()()),2&o){let d;t.xp6(8),t.Oqu(t.lcZ(9,16,t.lcZ(10,18,null!==(d=i.config.header)&&void 0!==d?d:""))),t.xp6(4),t.Q6J("formGroup",i.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,20,i.errors)),t.xp6(3),t.Tol("d-flex flex-column justify-content-between "),t.Q6J("type","text"),t.xp6(2),t.Tol(""),t.Q6J("filter",!0)("text","type")("data",i.allGroupType)("optionLabel","name")("optionValue","id")("placeholder","select"),t.xp6(3),t.Q6J("text","Cancel"),t.xp6(2),t.Q6J("text",null==i.config.data?null:i.config.data.acceptLabel)}},dependencies:[_.sg,e.Fj,e.JJ,e.JL,e.sg,e.u,G.Pi,L.T,Z.J,x.U,D.r,_.rS,_.Nd,G.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{padding:0 10px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:1rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor);margin:2rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--red)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:1.6rem;background-color:var(--white);border:1px solid var(--mainColor);margin:1rem 0;height:50px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin:1rem 0;gap:20px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{width:50%;padding-right:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]     app-submit-btn .submit-btn{background-color:var(--white);color:var(--mainColor);max-width:100%}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{width:50%;padding-left:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]     app-submit-btn .submit-btn{margin:0!important;max-width:100%}"]}),a})();var l=n(1732),v=n(3562);let r=(()=>{class a{constructor(o,i,d){this.http=o,this.dynamicDialog=i,this.toastr=d,this.latestGroup=new f.X([])}getGroup(o){return this.http.get(c.l.api.get)}getGroupTypeById(o){return this.http.get(c.l.api.getById+o)}getLatestRoles(){return this.latestGroup}setLatestRoles(o){return this.latestGroup.next(o)}addGroup(o){return this.http.post(c.l.api.create,o)}openDialogToCreateGroup(){var o=this;return(0,s.Z)(function*(){return yield o.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_group",data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},P)})()}deleteGroup(o,i,d){var g=this;return(0,s.Z)(function*(){const M={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...o}},width:"480px",height:"164px"};if(!(yield g.dynamicDialog.confirm(M)))return!1;try{const T=yield g.http.delete(c.l.api.delete+o.id).toPromise();return g.toastr.success(T.message),T}catch(T){throw g.toastr.error(T.error.message),T}})()}openDialogToUpdate(o,i,d){var g=this;return(0,s.Z)(function*(){const M={showHeader:!1,header:"update_group",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...o}},width:"480px",height:"auto"};return yield g.dynamicDialog.showDialogWithComponent(M,P)})()}update(o,i){return this.http.post(c.l.api.update+o.id,o)}exportGroupsCsv(){return this.http.get(c.l.api.exportCsv)}exportExample(){return this.http.get(c.l.api.exportExample)}exportGroupsPdf(){return this.http.get(c.l.api.exportPdf)}importGroup(o){return this.http.post(c.l.api.importGroup,o)}}return a.\u0275fac=function(o){return new(o||a)(t.LFG(l.O),t.LFG(v.U),t.LFG(u._W))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},1771:(O,h,n)=>{n.d(h,{U:()=>u});var s=n(9291),f=n(6223);const c=["*"];let u=(()=>{class e{constructor(){this.onSubmit=new s.vpe}ngOnChanges(m){}getFormData(){return"function"==typeof this.formData?this.formData(this.formGroup.value):{...this.formGroup.value}}reset(){this.formGroup.reset()}submit(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const m=this.getFormData();this.onSubmit.emit(m)}ngAfterContentInit(){}ngAfterContentChecked(){}ngOnDestroy(){}}return e.\u0275fac=function(m){return new(m||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-form"]],inputs:{formGroup:"formGroup",formData:"formData"},outputs:{onSubmit:"onSubmit"},features:[s.TTD],ngContentSelectors:c,decls:2,vars:1,consts:[[3,"formGroup","ngSubmit"]],template:function(m,t){1&m&&(s.F$t(),s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return t.submit()}),s.Hsn(1),s.qZA()),2&m&&s.Q6J("formGroup",t.formGroup)},dependencies:[f._Y,f.JL,f.sg]}),e})()},9773:(O,h,n)=>{n.d(h,{R:()=>e});var s=n(9360),f=n(8251),c=n(4829),u=n(2420);function e(C){return(0,s.e)((m,t)=>{(0,c.Xf)(C).subscribe((0,f.x)(t,()=>t.complete(),u.Z)),!t.closed&&m.subscribe(t)})}}}]);