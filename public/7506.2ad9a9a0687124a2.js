"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[7506],{7506:(Z,f,r)=>{r.r(f),r.d(f,{OrderTrackingModule:()=>P});var i=r(6814),p=r(8209),t=r(9291),m=r(5861);const l_api_get="sales-order-tracking",l_api_update="sales-order-tracking/update/";var u=function(e){return e.create="Create Unit",e.view="View Unit",e.edit="Edit Unit",e.delete="Delete Unit",e}(u||{});const c=e=>{return{cols:[{field:"id",label:"code",class:""},{field:"customer_name",label:"customer_name",format:n=>n.customer_name?n.customer_name:"-"},{field:"delivery_date",label:"delivery_date",format:n=>n.delivery_date?n.delivery_date:"-"},{field:"quantity",label:"quantity",format:n=>n.quantity?n.quantity:"-"},{field:"notes",label:"note",format:n=>n.notes?n.notes:"-"},{field:"total",label:"total_amount",format:n=>n.total?n.total:"-"},{field:"status_name",label:"status",format:n=>n.status_name?n.status_name:"-",bgColor:n=>n.color?n?.color:"",custom_class_cel:n=>"status-empty",class:"text-center"},{label:"action",actions:[{id:u.delete,icon:"fa-solid fa-clipboard-list",class:"main-color",fun:(n=(0,m.Z)(function*(o){return yield e.orderTrackingService.openDialogToUpdate(o)}),function(a){return n.apply(this,arguments)})},{id:u.edit,icon:"fa-solid fa-location-dot",class:"main-color"}]}],Request:l_api_get};var n};var g=r(6924),h=r(5946),x=r(5219),d=r(6223),F=r(8645),L=r(9300),O=r(8763),b=r(5118),S=r(1771),D=r(3838),U=r(4779),v=r(3999);function G(e,n){if(1&e&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.value," ")}}let J=(()=>{class e{constructor(o,a,s,T,C){this.fb=o,this.toaster=a,this.orderTrackingService=s,this.config=T,this.dialogRef=C,this.configrationConfig=L.W,this.unsubscribe=new F.x,this.formGroup=this.initForm(),this.config.data?.data&&this.fillDataToUpdate()}ngOnInit(){}reject(o){this.dialogRef.close(o)}initForm(){return this.fb.group({id:[Number],status_id:["",[d.kI.required,d.kI.minLength(1)]]})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():this.config.data.data&&this.orderTrackingService.update(this.formGroup.value).subscribe(o=>{this.toaster.success(o.message),this.dialogRef.close(!0)},o=>{this.errors=o.error.errors})}fillDataToUpdate(){this.formGroup.patchValue({id:this.config.data.data?.id,status_id:this.config.data.data?.status_id})}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.qu),t.Y36(O._W),t.Y36(k),t.Y36(b.S),t.Y36(b.E7))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-order-tracking"]],decls:21,vars:22,consts:[[1,"main"],[1,"pb-3"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","../assets/Tabs/Icon/Active/purchase -2.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title","pb-2","fs-2"],[3,"formGroup"],["class","text-error",4,"ngFor","ngForOf"],[1,"row"],["ngDefaultControl","","formControlName","status_id",3,"text","request","optionValue","placeholder","optionLabel"],[1,"row","g-2","my-2"],[1,"col-6"],[3,"text","click"],[1,"text-error"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"span",5),t.NdJ("click",function(){return a.reject(!1)}),t._UZ(6,"i",6),t.qZA()(),t.TgZ(7,"p",7),t._uU(8),t.ALo(9,"titlecase"),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"app-form",8),t.YNc(12,G,2,1,"p",9),t.ALo(13,"keyvalue"),t.TgZ(14,"div",10),t._UZ(15,"app-dropdown",11),t.qZA(),t.TgZ(16,"div",12)(17,"div",13)(18,"app-button",14),t.NdJ("click",function(){return a.reject(!1)}),t.qZA()(),t.TgZ(19,"div",13)(20,"app-button",14),t.NdJ("click",function(){return a.accept()}),t.qZA()()()()()()),2&o&&(t.xp6(8),t.Oqu(t.lcZ(9,16,t.lcZ(10,18,"order_status"))),t.xp6(3),t.Q6J("formGroup",a.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(13,20,a.errors)),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","status")("request",a.configrationConfig.api.get)("optionValue","id")("placeholder","select")("optionLabel","status_name"),t.xp6(3),t.Tol("btn-cancel"),t.Q6J("text","Cancel"),t.xp6(2),t.Tol("btn-filter"),t.Q6J("text",null==a.config.data?null:a.config.data.acceptLabel))},dependencies:[i.sg,S.U,d.Fj,d.JJ,d.JL,d.sg,d.u,D.J,U.r,i.rS,i.Nd,v.X$]}),e})();var E=r(1732),j=r(3562);let k=(()=>{class e{constructor(o,a,s){this.http=o,this.dynamicDialog=a,this.toastr=s}get(o){return this.http.get(l_api_get)}openDialogToUpdate(o){var a=this;return(0,m.Z)(function*(){const s={showHeader:!1,header:"update_unit",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...o}},height:"330px",width:"auto"};return yield a.dynamicDialog.showDialogWithComponent(s,J)})()}update(o){return this.http.post(l_api_update+o.id,o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(E.O),t.LFG(j.U),t.LFG(O._W))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=r(2377),I=r(359),Q=r(5077),N=r(3826);let R=(()=>{class e{constructor(o){this.orderTrackingService=o,this.tableConfig=c(this),this.filtersConfig=[{field:"search",label:"search",type:g.W.TEXT,placeholder:"search"}],this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"Name",field:"name"},{label:"code",field:"id"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:h.q.asc,field:h.q.asc},{label:h.q.desc,field:h.q.desc}]}],this.permissions=u,this.icon=x.dv}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(k))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-order-tracking"]],decls:16,vars:11,consts:[[1,"page-card"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"title"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"tableConfig","pagination","filter","sort"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",3),t._UZ(7,"ukt-sort",4,5)(9,"ukt-filter",6,7),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-table",9),t.qZA(),t.TgZ(13,"div",10),t._UZ(14,"ukt-pagination",null,11),t.qZA()()),2&o){const s=t.MAs(8),T=t.MAs(10),C=t.MAs(15);t.xp6(3),t.Oqu(t.lcZ(4,7,t.lcZ(5,9,"order_tracking_list"))),t.xp6(4),t.Q6J("SortConfig",a.sortConfig),t.xp6(2),t.Q6J("config",a.filtersConfig),t.xp6(3),t.Q6J("tableConfig",a.tableConfig)("pagination",C)("filter",T)("sort",s)}},dependencies:[M.a,I.Q,Q.z,N.x,i.rS,v.X$]}),e})();const Y=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-tracking"]],decls:1,vars:0,template:function(o,a){1&o&&t._UZ(0,"app-list-order-tracking")},dependencies:[R]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(Y),p.Bz]}),e})();var X=r(1471),W=r(2115),V=r(4413),z=r(1890),$=r(1019),H=r(8096),K=r(1383);let P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.ez,B,X.X,W.u,V.e,z.f,$.i,H.J,v.aw,K.m]}),e})()},1771:(Z,f,r)=>{r.d(f,{U:()=>m});var i=r(9291),p=r(6223);const t=["*"];let m=(()=>{class l{constructor(){this.onSubmit=new i.vpe}ngOnChanges(c){}getFormData(){return"function"==typeof this.formData?this.formData(this.formGroup.value):{...this.formGroup.value}}reset(){this.formGroup.reset()}submit(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const c=this.getFormData();this.onSubmit.emit(c)}ngAfterContentInit(){}ngAfterContentChecked(){}ngOnDestroy(){}}return l.\u0275fac=function(c){return new(c||l)},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-form"]],inputs:{formGroup:"formGroup",formData:"formData"},outputs:{onSubmit:"onSubmit"},features:[i.TTD],ngContentSelectors:t,decls:2,vars:1,consts:[[3,"formGroup","ngSubmit"]],template:function(c,g){1&c&&(i.F$t(),i.TgZ(0,"form",0),i.NdJ("ngSubmit",function(){return g.submit()}),i.Hsn(1),i.qZA()),2&c&&i.Q6J("formGroup",g.formGroup)},dependencies:[p._Y,p.JL,p.sg]}),l})()}}]);