"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[6798],{6798:(G,f,o)=>{o.r(f),o.d(f,{ProductsModule:()=>V});var g=o(6814),u=o(2954),c=o(5861),a=function(e){return e.create="Create Product",e.view="View Product",e.edit="Edit Product",e.delete="Delete Product",e}(a||{}),v=o(3058);const p=e=>{return{cols:[{field:"code",label:"code",class:""},{field:"name",label:"name",class:""},{field:"quantity",label:"quantity",class:""},{field:"selling_price",label:"selling_price",class:""},{field:"category",label:"category",class:"",format:l=>l.category.name?l.category.name:"-"},{field:"material",label:"material",class:"",format:l=>l?.material?l?.material:"-"},{label:"action",actions:[{id:a.delete,icon:"trash",class:"main-color",fun:(l=(0,c.Z)(function*(n){return yield e.productService.delete(n)}),function(i){return l.apply(this,arguments)})},{id:a.edit,icon:"pen-to-square",class:"main-color",fun:function(){var l=(0,c.Z)(function*(n){return yield e.productService.openDialogToUpdateProduct(n)});return function(i){return l.apply(this,arguments)}}()}]}],Request:v.s.api.get};var l};var r=o(5946),s=o(6924),h=o(8718),b=o(5219),t=o(9291),T=o(6983),x=o(2377),Z=o(359),A=o(4779),P=o(5077),L=o(4811),M=o(8275),m=o(3999);function S(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"app-button",14),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.openDialogToCreate())}),t.qZA()}if(2&e){const n=t.oxw();t.Tol("btn-filter "),t.Q6J("text","new")("icon",n.icon.PLUS)("iconPos","left")}}const J=function(e){return[e]},D=[{path:"",component:(()=>{class e{constructor(n){this.productService=n,this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"name",field:"name"},{label:"purchase_price",field:"purchase_price"},{label:"selling_price",field:"selling_price"},{label:"creator",field:"creator_id"},{label:"quantity",field:"quantity"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:r.q.asc,field:r.q.asc},{label:r.q.desc,field:r.q.desc}]}],this.filtersConfig=[{field:"search",label:"search",type:s.W.TEXT,placeholder:"search"},{field:"creator_id",label:"created_by",type:s.W.SELECT,options:{value:"id",label:"name"},request:h.x.api.get,placeholder:"select"},{field:"from",label:"from",type:s.W.DATE},{field:"to",label:"to",type:s.W.DATE}],this.permissions=a,this.tableConfig=p(this),this.icon=b.dv}openDialogToCreate(){var n=this;return(0,c.Z)(function*(){(yield n.productService.openDialogToCreateUnitType())&&(n.tableConfig=p(n))})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(T.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],decls:17,vars:12,consts:[[1,"page-card"],[1,"d-flex","align-items-center","justify-content-between"],[1,"title"],[1,"d-flex"],[3,"text","class","icon","iconPos","click",4,"hasPermissions"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table","mt-2"],[3,"tableConfig","pagination","filter","sort"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""],[3,"text","icon","iconPos","click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,S,1,5,"app-button",4),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"ukt-sort",6,7)(10,"ukt-filter",8,9),t.qZA(),t.TgZ(12,"div",10),t._UZ(13,"app-table",11),t.qZA(),t.TgZ(14,"div",12),t._UZ(15,"ukt-pagination",null,13),t.qZA()()),2&n){const d=t.MAs(9),W=t.MAs(11),X=t.MAs(16);t.xp6(3),t.Oqu(t.lcZ(4,8,"list_of_products")),t.xp6(3),t.Q6J("hasPermissions",t.VKq(10,J,i.permissions.create)),t.xp6(2),t.Q6J("SortConfig",i.sortConfig),t.xp6(2),t.Q6J("config",i.filtersConfig),t.xp6(3),t.Q6J("tableConfig",i.tableConfig)("pagination",X)("filter",W)("sort",d)}},dependencies:[x.a,Z.Q,A.r,P.z,L.x,M.z,m.X$]}),e})()}];let E=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(D),u.Bz]}),e})();var U=o(8096),Q=o(1019),j=o(1890),z=o(4413),B=o(2115),F=o(1471),R=o(1383);let V=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,E,F.X,B.u,z.e,j.f,Q.i,U.J,m.aw,R.m]}),e})()}}]);