"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[9282],{9282:(P,v,r)=>{r.r(v),r.d(v,{ProjectsModule:()=>ae});var i=r(6814),u=r(8209),g=r(5861);const d_api_create="project/create",d_api_get="project",d_api_update="project/update/",d_api_getById="project/",d_api_getAssigmentById="project/assignments/",d_api_delete="project/",d_api_assign="project/assignment/";var h=function(n){return n.create="dashboard",n.view="dashboard",n.edit="dashboard",n.delete="dashboard",n}(h||{});const A=n=>{return{cols:[{field:"id",label:"id",class:""},{field:"project_name",label:"project_name",class:""},{field:"price",label:"price",format:a=>a.price?a.price:"-"},{label:"action",actions:[{id:h.delete,icon:"trash",class:"main-color",fun:(a=(0,g.Z)(function*(e){return yield n.projectsService.delete(e)}),function(o){return a.apply(this,arguments)})},{id:h.edit,icon:"pen-to-square",class:"main-color",route:"update"},{id:h.edit,icon:"eye",class:"main-color",route:"view"},{id:h.edit,icon:"copy",class:"main-color",route:"assign"}]}],Request:d_api_get};var a};var T=r(5219),m=r(6924),q=r(8718),p=r(5946),t=r(9291),s=r(6223),Z=r(8645),_=r(9773),k=r(4605),U=r(3012),Q=r(3816),I=r(5835),b=r(8763),V=r(1771),M=r(8614),Y=r(1904),L=r(3838),G=r(6098),E=r(5253),S=r(5304),B=r(4896),j=r(4779),C=r(3999);function R(n,a){1&n&&(t.TgZ(0,"div",6),t._UZ(1,"app-button",34),t.qZA()),2&n&&(t.xp6(1),t.Q6J("text","update_attachment")("iconPos","left")("icon","fa-solid fa-check"))}function $(n,a){if(1&n&&(t.TgZ(0,"div",35),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function z(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.project_name[0])}}function W(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.project_phases[0])}}function X(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.deduction_options[0])}}function K(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.client_infomartion[0])}}function H(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.start_date[0])}}function tt(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.end_date[0])}}function et(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.project_description[0])}}function nt(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.downpayment_option[0])}}function ot(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.suppliers[0])}}function at(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.assigned_engineer[0])}}function it(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.milestone[0])}}function rt(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.estimated_cost[0])}}function lt(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.assigned_budget[0])}}function st(n,a){if(1&n&&(t.TgZ(0,"p",36),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.downpayment[0])}}function pt(n,a){if(1&n&&(t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"img",40),t.TgZ(3,"div",41)(4,"h3"),t._uU(5),t.qZA(),t._UZ(6,"i",42),t.qZA()()()),2&n){const e=a.$implicit;t.xp6(5),t.Oqu(e.file_name)}}function ct(n,a){if(1&n&&(t.ynx(0),t.YNc(1,pt,7,1,"div",37),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.data.files)}}let w=(()=>{class n{constructor(e,o,l,c){this.fb=e,this.toaster=o,this.projectsService=l,this.route=c,this.unsubscribe=new Z.x,this.formGroup=this.initForm(),this.engineers=q.x,this.clients=I.G,this.suppliers=k.h,this.projectPhases=U.N,this.deductionOptions=Q.n,this.isLoading=!1,this.projects=[],this.values=new FormData}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.title="update_project",this.route.data.pipe((0,_.R)(this.unsubscribe)).subscribe({next:e=>{this.data=e.project.data,this.fillDataToUpdate()},error:e=>{}}))}reject(e){}convertFormGroupToFormData(){this.values.set("id",this.id),console.log(this.formGroup.get("project_phases")?.value),this.values.set("project_name",this.formGroup.get("project_name")?.value),this.values.set("start_date",this.formGroup.get("start_date")?.value),this.values.set("end_date",this.formGroup.get("end_date")?.value),this.values.set("deadline",this.formGroup.get("deadlines")?.value),this.values.set("downpayment_option",this.formGroup.get("downpayment_option")?.value),this.values.set("client_information_id",this.formGroup.get("client_information")?.value),this.values.set("downpayment",this.formGroup.get("downpayment")?.value),this.values.set("project_description",this.formGroup.get("project_description")?.value),this.values.set("assigned_engineer_id",this.formGroup.get("assigned_engineer")?.value),this.values.set("assigned_budget",this.formGroup.get("assigned_budget")?.value),this.values.set("estimated_cost",this.formGroup.get("estimated_cost")?.value),this.values.set("milestone",this.formGroup.get("milestone")?.value),this.values.delete("suppliers"),this.formGroup.get("suppliers")?.value.map((e,o)=>{this.values.set(`suppliers[${o}]`,e)}),this.values.delete("project_phases"),this.formGroup.get("project_phases")?.value.map((e,o)=>{this.values.set(`project_phases[${o}]`,e)}),this.values.delete("deduction_options"),this.formGroup.get("deduction_options")?.value.map((e,o)=>{this.values.set(`deduction_options[${o}]`,e)})}onSubmit(){}onFileUpload(e){if(e.target.files[0])for(const[o,l]of Object.entries(e.target.files))this.values.set(`files[${o}]`,e.target.files[o])}setArrayData(e,o){for(const c of o)this.values.set(e+"[i]",c)}initForm(){return this.fb.group({id:[Number],project_name:["",s.kI.required],project_phases:[""],start_date:["4-1-2025",s.kI.required],end_date:["",s.kI.required],deadlines:[""],client_information:[Number,s.kI.required],deduction_options:[""],downpayment_option:[""],downpayment:[""],project_description:[""],assigned_engineer:[""],assigned_budget:[""],estimated_cost:[""],suppliers:["",s.kI.required],milestone:[""],files:this.fb.array([])})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():(this.convertFormGroupToFormData(),this.isLoading=!0,this.data?(console.log(this.values),this.projectsService.update(this.values).subscribe(e=>{this.toaster.success(e.message)},e=>{this.errors=e.error.errors,this.isLoading=!1})):this.projectsService.create(this.values).subscribe(e=>{this.toaster.success(e.message)},e=>{this.errors=e.error.errors,this.isLoading=!1}))}fillDataToUpdate(){this.formGroup.patchValue({id:this.data?.id,project_name:this.data?.project_name,project_phases:this.getIds(this.data?.project_phases),start_date:this.data?.start_date,client_information:this.data?.client_information_id,end_date:this.data?.end_date,deduction_options:this.getIds(this.data?.deduction_options),downpayment_option:this.data?.downpayment_option,downpayment:this.data?.downpayment,assigned_budget:this.data?.assigned_budget,assigned_engineer:Number(this.data?.assigned_engineer_id),milestone:this.data?.milestone,suppliers:this.getIds(this.data?.suppliers),deadlines:this.data?.deadline,estimated_cost:this.data?.estimated_cost,project_description:this.data?.project_description})}getIds(e){let o=[];for(const l of e)o.push(l.id);return o}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(b._W),t.Y36(O),t.Y36(u.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-project"]],decls:96,vars:146,consts:[[1,"container-sm","main","rounded"],[1,"header","row","justify-content-between","align-items-center"],["routerLink","/key/project-management/projects",1,"title","pointer","col-md-6"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"d-flex","align-items-center","justify-content-end","g-2","col-md-6"],["class","px-1",4,"ngIf"],[1,"px-1"],["routerLink","/key/project-management/projects",1,"btn-cancel",3,"iconPos","icon","text"],[1,"btn-filter",3,"text","iconPos","icon","click"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"fw-bold","mb-4"],[1,"col-md-4","col-12"],["formControlName","project_name","ngDefaultControl","","placeholder","",3,"type","text"],["class","error",4,"ngIf"],["formControlName","project_phases","optionLabel","name","optionValue","id","ngDefaultControl","","placeholder","select",3,"text","request"],["optionLabel","name","optionValue","id","placeholder","select","formControlName","deduction_options","ngDefaultControl","",3,"request","text"],["optionLabel","name","optionValue","id","formControlName","client_information","ngDefaultControl","","placeholder","select",3,"request","text"],["formControlName","start_date","ngDefaultControl","",3,"text","placeholder"],["formControlName","end_date","ngDefaultControl","",3,"text","placeholder"],[1,"col-12"],["formControlName","project_description","ngDefaultControl","","placeholder","",3,"type","text"],["optionLabel","name","optionValue","id","formControlName","downpayment_option","ngDefaultControl","","placeholder","select",3,"text"],["optionLabel","name","optionValue","id","formControlName","suppliers","ngDefaultControl","",3,"request","text","placeholder"],["optionLabel","name","optionValue","id","formControlName","assigned_engineer","ngDefaultControl","","placeholder","select",3,"request","text"],["formControlName","milestone","ngDefaultControl","","placeholder","",3,"type","text"],["formControlName","deadlines","ngDefaultControl","",3,"text","placeholder"],["formControlName","estimated_cost","ngDefaultControl","","placeholder","",3,"showButtons","mode","maxFractionDigits","minFractionDigits","text"],["formControlName","assigned_budget","ngDefaultControl","","placeholder","",3,"showButtons","mode","maxFractionDigits","minFractionDigits","text"],["formControlName","downpayment","ngDefaultControl","","placeholder","",3,"showButtons","mode","maxFractionDigits","minFractionDigits","text"],[4,"ngIf"],[1,"mt-5"],["formControlName","files","text","File Upload",3,"onValueChange"],[1,"btn-cancel",3,"text","iconPos","icon"],[1,"text-error"],[1,"error"],["class","col-md-3 col-12",4,"ngFor","ngForOf"],[1,"col-md-3","col-12"],[1,"card",2,"width","100%"],["src","assets/icons/form.svg","alt","Card image cap",1,"card-img-top","p-5",2,"width","50%","margin","auto","height","40%"],[1,"card-body","d-flex","justify-content-between"],[1,"fa","fa-xl","my-auto","fa-trash",2,"color","red"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._UZ(3,"i",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,R,2,3,"div",5),t.TgZ(8,"div",6),t._UZ(9,"app-button",7),t.qZA(),t.TgZ(10,"div",6)(11,"app-button",8),t.NdJ("click",function(){return o.accept()}),t.qZA()()()(),t.TgZ(12,"app-form",9),t.NdJ("onSubmit",function(){return o.accept()}),t.YNc(13,$,2,1,"div",10),t.ALo(14,"keyvalue"),t.TgZ(15,"div",11)(16,"h3",12),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",13),t._UZ(20,"app-text",14),t.ALo(21,"translate"),t.YNc(22,z,2,1,"p",15),t.qZA(),t.TgZ(23,"div",13),t._UZ(24,"app-multiselect",16),t.ALo(25,"translate"),t.YNc(26,W,2,1,"p",15),t.qZA(),t.TgZ(27,"div",13),t._UZ(28,"app-multiselect",17),t.ALo(29,"translate"),t.YNc(30,X,2,1,"p",15),t.qZA()(),t.TgZ(31,"div",11)(32,"h3",12),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"div",13),t._UZ(36,"app-dropdown",18),t.ALo(37,"translate"),t.YNc(38,K,2,1,"p",15),t.qZA(),t.TgZ(39,"div",13),t._UZ(40,"app-date",19),t.ALo(41,"translate"),t.ALo(42,"translate"),t.YNc(43,H,2,1,"p",15),t.qZA(),t.TgZ(44,"div",13),t._UZ(45,"app-date",20),t.ALo(46,"translate"),t.ALo(47,"translate"),t.YNc(48,tt,2,1,"p",15),t.qZA(),t.TgZ(49,"div",21),t._UZ(50,"app-textarea",22),t.ALo(51,"translate"),t.YNc(52,et,2,1,"p",15),t.qZA(),t.TgZ(53,"div",13),t._UZ(54,"app-text",23),t.ALo(55,"translate"),t.YNc(56,nt,2,1,"p",15),t.qZA(),t.TgZ(57,"div",13),t._UZ(58,"app-multiselect",24),t.ALo(59,"translate"),t.YNc(60,ot,2,1,"p",15),t.qZA(),t.TgZ(61,"div",13),t._UZ(62,"app-dropdown",25),t.ALo(63,"translate"),t.YNc(64,at,2,1,"p",15),t.qZA(),t.TgZ(65,"div",13),t._UZ(66,"app-text",26),t.ALo(67,"translate"),t.YNc(68,it,2,1,"p",15),t.qZA(),t.TgZ(69,"div",13),t._UZ(70,"app-date",27),t.ALo(71,"translate"),t.ALo(72,"translate"),t.qZA()(),t.TgZ(73,"div",11)(74,"h3",12),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.TgZ(77,"div",13),t._UZ(78,"app-number-input",28),t.ALo(79,"translate"),t.YNc(80,rt,2,1,"p",15),t.qZA(),t.TgZ(81,"div",13),t._UZ(82,"app-number-input",29),t.ALo(83,"translate"),t.YNc(84,lt,2,1,"p",15),t.qZA(),t.TgZ(85,"div",13),t._UZ(86,"app-number-input",30),t.ALo(87,"translate"),t.YNc(88,st,2,1,"p",15),t.qZA()(),t.TgZ(89,"div",11)(90,"h3",12),t._uU(91),t.ALo(92,"translate"),t.qZA(),t.YNc(93,ct,2,1,"ng-container",31),t.TgZ(94,"div",32)(95,"app-file-upload",33),t.NdJ("onValueChange",function(c){return o.onFileUpload(c)}),t.qZA()()()()()),2&e&&(t.xp6(4),t.hij("",t.lcZ(5,98,o.data?"update_project":"add_new_project")," "),t.xp6(3),t.Q6J("ngIf","update_journal_entry"==o.title),t.xp6(2),t.Q6J("iconPos","left")("icon","fa-solid fa-ban")("text","cancel"),t.xp6(2),t.Q6J("text","save")("iconPos","left")("icon","fa-solid fa-check"),t.xp6(1),t.Q6J("formGroup",o.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,100,o.errors)),t.xp6(4),t.Oqu(t.lcZ(18,102,"project_creation")),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(21,104,"project_name")),t.Q6J("type","text"),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.project_name),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(25,106,"project_phase")),t.Q6J("request",o.projectPhases.api.get),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.project_phases),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(29,108,"deduction_options")),t.Q6J("request",o.deductionOptions.api.get),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.deduction_options),t.xp6(3),t.Oqu(t.lcZ(34,110,"project_assignment")),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(37,112,"client_information")),t.Q6J("request",o.clients.api.get),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.client_information),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(41,114,"start_date")),t.s9C("placeholder",t.lcZ(42,116,"Start Date")),t.xp6(3),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.start_date),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(46,118,"end_date")),t.s9C("placeholder",t.lcZ(47,120,"End Date")),t.xp6(3),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.end_date),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(51,122,"project_description")),t.Q6J("type","text"),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.project_description),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(55,124,"Downpayment_options")),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.downpayment_option),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(59,126,"suppliers")),t.s9C("placeholder","select"),t.Q6J("request",o.suppliers.api.get),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.suppliers),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(63,128,"assigned_engineer")),t.Q6J("request",o.engineers.api.get),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.assigned_engineer),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(67,130,"milestones")),t.Q6J("type","text"),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.milestone),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(71,132,"deadlines")),t.s9C("placeholder",t.lcZ(72,134,"deadlines")),t.xp6(5),t.Oqu(t.lcZ(76,136,"budget_management")),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(79,138,"estimated_cost_for_resource")),t.Q6J("showButtons",!1)("mode","decimal")("maxFractionDigits",3)("minFractionDigits",2),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.estimated_cost),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(83,140,"assigned_budget")),t.Q6J("showButtons",!1)("mode","decimal")("maxFractionDigits",3)("minFractionDigits",2),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.assigned_budget),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(87,142,"downpayment")),t.Q6J("showButtons",!1)("mode","decimal")("maxFractionDigits",3)("minFractionDigits",2),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.downpayment),t.xp6(3),t.Oqu(t.lcZ(92,144,"document_management")),t.xp6(2),t.Q6J("ngIf",o.data))},dependencies:[i.sg,i.O5,u.rH,V.U,s.Fj,s.JJ,s.JL,s.sg,s.u,M.T,Y.D,L.J,G.I,E.R,S.z,B.Y,j.r,i.Nd,C.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .entry-no[_ngcontent-%COMP%]{padding-right:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{padding-left:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;padding:17px 5px;border:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background-color:var(--mainColor)!important;color:var(--white);font-size:14px;padding:10px}.col-12[_ngcontent-%COMP%]{margin-top:2rem}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:auto;font-weight:700;color:#003d5b;padding-left:15px}"]}),n})();var N=r(7344),J=r(6655),F=r(2823),ut=r(1732),dt=r(3562);let O=(()=>{class n{constructor(e,o,l){this.http=e,this.dynamicDialog=o,this.toastr=l}get(e){return this.http.get(d_api_get)}getById(e){return this.http.get(d_api_getById+e)}getAssignmentById(e){return this.http.get(d_api_getAssigmentById+e)}getCategories(){return this.http.getWithParam(N.t.api.get,{limit:"all"})}getUnits(){return this.http.getWithParam(J.R.api.get,{limit:"all"})}getClauses(){return this.http.getWithParam(F.N.api.get,{limit:"all"})}openDialogToCreate(){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_project",data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},w)}create(e){return this.http.post(d_api_create,e)}delete(e){var o=this;return(0,g.Z)(function*(){const l={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...e},name:"name"},width:"500px",height:"auto"};if(yield o.dynamicDialog.confirm(l))try{const f=yield o.http.delete(d_api_delete+e.id).toPromise();return o.toastr.success(f.message),f}catch(f){throw o.toastr.error(f.error.message),f}return!1})()}openDialogToUpdate(e){var o=this;return(0,g.Z)(function*(){const l={showHeader:!1,header:"update_project",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...e}},height:"330px",width:"auto"};return yield o.dynamicDialog.showDialogWithComponent(l,w)})()}update(e){return console.log(e.get("id")),this.http.post(d_api_update+e.get("id"),e)}assign(e){return console.log(e.get("id")),this.http.post(d_api_assign+e.get("id"),e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ut.O),t.LFG(dt.U),t.LFG(b._W))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var gt=r(2377),mt=r(359),_t=r(5077),ft=r(3826);let ht=(()=>{class n{constructor(e){this.projectsService=e,this.tableConfig=A(this),this.filtersConfig=[{field:"search",label:"search",type:m.W.TEXT,placeholder:"search"},{field:"creator_id",label:"created_by",type:m.W.SELECT,options:{value:"id",label:"name"},request:q.x.api.get,placeholder:"select"},{field:"from",label:"from",type:m.W.DATE},{field:"to",label:"to",type:m.W.DATE}],this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"Name",field:"name"},{label:"id",field:"id"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:p.q.asc,field:p.q.asc},{label:p.q.desc,field:p.q.desc}]}],this.permissions=h,this.icon=T.dv}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-projects"]],decls:17,vars:14,consts:[[1,"page-card"],[1,"d-flex","align-items-center","justify-content-between"],[1,"title"],[1,"d-flex"],["routerLink","/key/project-management/projects/create",3,"text","icon","iconPos"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"tableConfig","pagination","filter","sort"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"app-button",4),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"ukt-sort",6,7)(10,"ukt-filter",8,9),t.qZA(),t.TgZ(12,"div",10),t._UZ(13,"app-table",11),t.qZA(),t.TgZ(14,"div",12),t._UZ(15,"ukt-pagination",null,13),t.qZA()()),2&e){const l=t.MAs(9),c=t.MAs(11),f=t.MAs(16);t.xp6(3),t.Oqu(t.lcZ(4,12,"projects_list")),t.xp6(3),t.Tol("btn-filter"),t.Q6J("text","new")("icon",o.icon.PLUS)("iconPos","left"),t.xp6(2),t.Q6J("SortConfig",o.sortConfig),t.xp6(2),t.Q6J("config",o.filtersConfig),t.xp6(3),t.Q6J("tableConfig",o.tableConfig)("pagination",f)("filter",c)("sort",l)}},dependencies:[u.rH,gt.a,mt.Q,j.r,_t.z,ft.x,C.X$]}),n})(),D=(()=>{class n{constructor(e){this.projectService=e}resolve(e){return this.projectService.getById(e.params.id)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(O))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vt(n,a){if(1&n&&(t.TgZ(0,"h4",13),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.name)}}function xt(n,a){if(1&n&&(t.TgZ(0,"h4",13),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.name)}}function Zt(n,a){if(1&n&&(t.TgZ(0,"h4",17),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.name)}}function Ct(n,a){if(1&n&&(t.TgZ(0,"div",20)(1,"div",21),t._UZ(2,"img",22),t.TgZ(3,"div",23)(4,"h3"),t._uU(5),t.qZA()()()()),2&n){const e=a.$implicit;t.xp6(5),t.Oqu(e.file_name)}}let At=(()=>{class n{constructor(e){this.route=e,this.unsubscribe=new Z.x}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.route.snapshot.paramMap.get("id"),this.route.data.pipe((0,_.R)(this.unsubscribe)).subscribe({next:e=>{this.data=e.project.data,console.log(e)},error:e=>{}}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-project"]],decls:132,vars:90,consts:[[1,"p-5","bg-white"],[1,"d-flex"],[1,"fw-bold","fs-1"],[1,"inventory-view-btns"],["routerLink","/key/project-management/projects/track/4",3,"text","iconPos"],[3,"text","iconPos"],[1,"row","mt-5"],[1,"my-5"],[1,"col-12","p-2","rounded-5","detail"],[1,"row"],[1,"col-12","col-md-4"],[1,"p-4"],[1,"mb-4","fs-2","fw-bold"],[1,"mb-4","fs-2"],["class"," mb-4 fs-2",4,"ngFor","ngForOf"],[1,"p-2"],[1,"mb-2","fw-bold"],[1,"mb-2"],["class"," mb-2",4,"ngFor","ngForOf"],["class","col-md-3 col-12",4,"ngFor","ngForOf"],[1,"col-md-3","col-12"],[1,"card",2,"width","100%"],["src","assets/icons/form.svg","alt","Card image cap",1,"card-img-top","p-5",2,"width","50%","margin","auto","height","40%"],[1,"card-body","d-flex","justify-content-between"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"app-button",4)(7,"app-button",5),t.ALo(8,"translate"),t._UZ(9,"app-button",5),t.qZA()(),t.TgZ(10,"div",6)(11,"h2",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"h4",12),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"h4",13),t._uU(22),t.qZA()()(),t.TgZ(23,"div",10)(24,"div",11)(25,"h4",12),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.YNc(28,vt,2,1,"h4",14),t.qZA()(),t.TgZ(29,"div",10)(30,"div",11)(31,"h4",12),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.YNc(34,xt,2,1,"h4",14),t.qZA()()()(),t.TgZ(35,"h2",7),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"div",8)(39,"div",9)(40,"div",10)(41,"div",15)(42,"h4",16),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"h4",17),t._uU(46),t.qZA()()(),t.TgZ(47,"div",10)(48,"div",15)(49,"h4",16),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"h4",17),t._uU(53),t.qZA()()(),t.TgZ(54,"div",10)(55,"div",15)(56,"h4",16),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"h4",17),t._uU(60),t.qZA()()(),t.TgZ(61,"div",10)(62,"div",15)(63,"h4",16),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"h4",17),t._uU(67),t.qZA()()(),t.TgZ(68,"div",10)(69,"div",15)(70,"h4",16),t._uU(71),t.ALo(72,"translate"),t.qZA(),t.YNc(73,Zt,2,1,"h4",18),t.qZA()(),t.TgZ(74,"div",10)(75,"div",15)(76,"h4",16),t._uU(77),t.ALo(78,"translate"),t.qZA(),t.TgZ(79,"h4",17),t._uU(80),t.qZA()()(),t.TgZ(81,"div",10)(82,"div",15)(83,"h4",16),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.TgZ(86,"h4",17),t._uU(87),t.qZA()()(),t.TgZ(88,"div",10)(89,"div",15)(90,"h4",16),t._uU(91),t.ALo(92,"translate"),t.qZA(),t.TgZ(93,"h4",17),t._uU(94),t.qZA()()(),t.TgZ(95,"div",10)(96,"div",15)(97,"h4",16),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"h4",17),t._uU(101),t.qZA()()()()(),t.TgZ(102,"h2",7),t._uU(103),t.ALo(104,"translate"),t.qZA(),t.TgZ(105,"div",8)(106,"div",9)(107,"div",10)(108,"div",15)(109,"h4",16),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"h4",17),t._uU(113),t.qZA()()(),t.TgZ(114,"div",10)(115,"div",15)(116,"h4",16),t._uU(117),t.ALo(118,"translate"),t.qZA(),t.TgZ(119,"h4",17),t._uU(120),t.qZA()()(),t.TgZ(121,"div",10)(122,"div",15)(123,"h4",16),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"h4",17),t._uU(127),t.qZA()()()()(),t.TgZ(128,"h2",7),t._uU(129),t.ALo(130,"translate"),t.qZA(),t.YNc(131,Ct,6,1,"div",19),t.qZA()()),2&e&&(t.xp6(3),t.hij("",t.lcZ(4,48,"project_details")," "),t.xp6(3),t.Tol("btn-cancel d-inline-block "),t.Q6J("text","track")("iconPos","left"),t.xp6(1),t.Tol("btn-cancel d-inline-block "),t.Q6J("text",t.lcZ(8,50,"download"))("iconPos","left"),t.xp6(2),t.Tol("btn-cancel d-inline-block "),t.Q6J("text","edit")("iconPos","left"),t.xp6(3),t.Oqu(t.lcZ(13,52,"project_creation")),t.xp6(7),t.hij("",t.lcZ(20,54,"project_name"),": "),t.xp6(3),t.Oqu(o.data.project_name),t.xp6(4),t.Oqu(t.lcZ(27,56,"deduction_options")),t.xp6(2),t.Q6J("ngForOf",o.data.deduction_options),t.xp6(4),t.hij("",t.lcZ(33,58,"Project-phases"),":"),t.xp6(2),t.Q6J("ngForOf",o.data.project_phases),t.xp6(2),t.Oqu(t.lcZ(37,60,"project_assignment")),t.xp6(7),t.Oqu(t.lcZ(44,62,"client_information")),t.xp6(3),t.Oqu(o.data.client_information_name),t.xp6(4),t.Oqu(t.lcZ(51,64,"downpayment_option")),t.xp6(3),t.Oqu(o.data.downpayment_option),t.xp6(4),t.Oqu(t.lcZ(58,66,"Assigned Engineer")),t.xp6(3),t.Oqu(o.data.assigned_engineer_name),t.xp6(4),t.Oqu(t.lcZ(65,68,"start_date")),t.xp6(3),t.Oqu(o.data.start_date),t.xp6(4),t.Oqu(t.lcZ(72,70,"suppliers")),t.xp6(2),t.Q6J("ngForOf",o.data.suppliers),t.xp6(4),t.Oqu(t.lcZ(78,72,"milestones")),t.xp6(3),t.Oqu(o.data.milestone),t.xp6(4),t.Oqu(t.lcZ(85,74,"end_date")),t.xp6(3),t.Oqu(o.data.end_date),t.xp6(4),t.Oqu(t.lcZ(92,76,"project_description")),t.xp6(3),t.Oqu(o.data.project_description),t.xp6(4),t.Oqu(t.lcZ(99,78,"deadlines")),t.xp6(3),t.Oqu(o.data.deadline),t.xp6(2),t.Oqu(t.lcZ(104,80,"budget_management")),t.xp6(7),t.Oqu(t.lcZ(111,82,"estimated_cost_for_resource")),t.xp6(3),t.Oqu(o.data.estimated_cost),t.xp6(4),t.Oqu(t.lcZ(118,84,"assigned_budget")),t.xp6(3),t.Oqu(o.data.assigned_budget),t.xp6(4),t.Oqu(t.lcZ(125,86,"downpayment")),t.xp6(3),t.Oqu(o.data.downpayment),t.xp6(2),t.Oqu(t.lcZ(130,88,"document_management")),t.xp6(2),t.Q6J("ngForOf",o.data.files))},dependencies:[i.sg,u.rH,j.r,C.X$],styles:[".detail[_ngcontent-%COMP%]{background-color:var(--lightGray);padding:20px!important}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}i[_ngcontent-%COMP%]{cursor:pointer}h2[_ngcontent-%COMP%]{color:#003d5b}"]}),n})();function Tt(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA()()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.clause_name),t.xp6(2),t.Oqu(e.unit_name),t.xp6(2),t.Oqu(e.ratio),t.xp6(2),t.Oqu(e.project_management_category_name),t.xp6(2),t.Oqu(e.previous_amount),t.xp6(2),t.Oqu(e.current_amount),t.xp6(2),t.Oqu(e.total_amount),t.xp6(2),t.Oqu(e.total_price),t.xp6(2),t.Oqu(e.notes)}}function jt(n,a){1&n&&(t.TgZ(0,"tr"),t._UZ(1,"td",19),t.TgZ(2,"td",20),t._uU(3,"Title here"),t.qZA(),t.TgZ(4,"td",19),t._uU(5,"10000$"),t.qZA()())}function Ot(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h2",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8)(5,"div",9)(6,"label",10),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",11)(10,"h4",12),t._uU(11),t.qZA()()(),t.TgZ(12,"div",9)(13,"label",10),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",11)(17,"h4",12),t._uU(18),t.qZA()()(),t.TgZ(19,"div",9)(20,"label",10),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",11)(24,"h4",13),t._uU(25),t.qZA()()()(),t.TgZ(26,"div",14)(27,"table",15)(28,"thead")(29,"tr")(30,"th",16),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"th",16),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th",16),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"th",16),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"th",16),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"th",17),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"th",16),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"th",16),t._uU(52),t.ALo(53,"translate"),t.qZA()(),t.TgZ(54,"tr")(55,"th"),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"th"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"th"),t._uU(62),t.ALo(63,"translate"),t.qZA()()(),t.TgZ(64,"tbody"),t.YNc(65,Tt,21,10,"tr",6),t.YNc(66,jt,6,0,"tr",6),t.qZA(),t.TgZ(67,"tfoot")(68,"tr")(69,"td",18),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"td",19),t._uU(73),t.qZA()()()()(),t.BQk()),2&n){const e=a.$implicit,o=a.index,l=t.oxw();t.xp6(2),t.AsE("",t.lcZ(3,23,"reference")," ",o+1,""),t.xp6(5),t.Oqu(t.lcZ(8,25,"project_name")),t.xp6(4),t.Oqu(e.project_phase_name),t.xp6(3),t.Oqu(t.lcZ(15,27,"construction_name")),t.xp6(4),t.Oqu(e.construction_name),t.xp6(3),t.Oqu(t.lcZ(22,29,"project_type")),t.xp6(4),t.Oqu(e.work_type_name),t.xp6(6),t.Oqu(t.lcZ(32,31,"code")),t.xp6(3),t.Oqu(t.lcZ(35,33,"clauses")),t.xp6(3),t.Oqu(t.lcZ(38,35,"unit")),t.xp6(3),t.Oqu(t.lcZ(41,37,"percentage")),t.xp6(3),t.Oqu(t.lcZ(44,39,"category")),t.xp6(3),t.Oqu(t.lcZ(47,41,"quantity")),t.xp6(3),t.Oqu(t.lcZ(50,43,"total")),t.xp6(3),t.Oqu(t.lcZ(53,45,"note")),t.xp6(4),t.Oqu(t.lcZ(57,47,"previous")),t.xp6(3),t.Oqu(t.lcZ(60,49,"current")),t.xp6(3),t.Oqu(t.lcZ(63,51,"total")),t.xp6(3),t.Q6J("ngForOf",e.work_clauses),t.xp6(1),t.Q6J("ngForOf",l.fakeData),t.xp6(4),t.Oqu(t.lcZ(71,53,"total_due")),t.xp6(3),t.hij(" ",e.total_due," ")}}let qt=(()=>{class n{constructor(e){this.route=e,this.fakeData=[{},{},{},{},{},{},{},{}],this.unsubscribe=new Z.x}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.route.snapshot.paramMap.get("id"),this.route.data.pipe((0,_.R)(this.unsubscribe)).subscribe({next:e=>{this.data=e.assignment.data},error:e=>{}}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-track-project"]],decls:9,vars:8,consts:[[1,"p-5","bg-white"],[1,"d-flex"],[1,"fw-bold","fs-1"],[1,"inventory-view-btns"],[3,"text","iconPos"],[1,"container","mt-5"],[4,"ngFor","ngForOf"],[1,"mb-5","header"],[1,"row","mb-5"],[1,"col-12","col-md-4"],["for",""],[1,"p-2","rounded-5","detail"],[1,"mb-2"],[1,"mb-2","fs"],[1,"table-responsive"],[1,"table","shadow","mt-5"],["scope","col","rowspan","3"],["scope","col","colspan","3",1,"text-center"],["colspan","8"],["colspan","2"],["colspan","6"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"app-button",4),t.qZA()(),t.TgZ(7,"div",5),t.YNc(8,Ot,74,55,"ng-container",6),t.qZA()()),2&e&&(t.xp6(3),t.hij("",t.lcZ(4,6,"project_details")," "),t.xp6(3),t.Tol("btn-cancel d-inline-block "),t.Q6J("text","download")("iconPos","left"),t.xp6(2),t.Q6J("ngForOf",o.data))},dependencies:[i.sg,j.r,C.X$],styles:["input[_ngcontent-%COMP%]{background-color:#d3d3d3!important}.detail[_ngcontent-%COMP%]{background-color:var(--lightGray);padding:20px!important}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}i[_ngcontent-%COMP%]{cursor:pointer}h2[_ngcontent-%COMP%]{color:#003d5b}table[_ngcontent-%COMP%]{margin-top:60px!important;font-size:15px;background-color:#f8f8f8!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 5px!important}label[_ngcontent-%COMP%]{font-weight:700;font-size:17px}tbody[_ngcontent-%COMP%]{background-color:#f8f8f8!important}.header[_ngcontent-%COMP%]{margin-top:70px!important}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;color:#979797}tfoot[_ngcontent-%COMP%]{background-color:#115fa4!important}tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#115fa4;color:#fff}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;background-color:#f8f8f8!important}"]}),n})();var wt=r(1556),Pt=r(3271),yt=r(6014);function bt(n,a){if(1&n&&(t.TgZ(0,"div",29),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function Ut(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.project_phase[0])}}function Vt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.construction_name[0])}}function Mt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.work_types[0])}}function Lt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.clauses[0])}}function Nt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.units[0])}}function Jt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.category[0])}}function Ft(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.price[0])}}function Dt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.quantity[0])}}function kt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.ratio[0])}}function Qt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.quantity[0])}}function It(n,a){if(1&n){const e=t.EpF();t.ynx(0,31),t.TgZ(1,"div",11),t._UZ(2,"app-text",32),t.ALo(3,"translate"),t.YNc(4,Lt,2,1,"p",13),t.qZA(),t.TgZ(5,"div",11),t._UZ(6,"app-text",33),t.ALo(7,"translate"),t.YNc(8,Nt,2,1,"p",13),t.qZA(),t.TgZ(9,"div",11),t._UZ(10,"app-text",32),t.ALo(11,"translate"),t.YNc(12,Jt,2,1,"p",13),t.qZA(),t.TgZ(13,"div",11),t._UZ(14,"app-text",34),t.ALo(15,"translate"),t.YNc(16,Ft,2,1,"p",13),t.qZA(),t.TgZ(17,"div",11),t._UZ(18,"app-text",35),t.ALo(19,"translate"),t.YNc(20,Dt,2,1,"p",13),t.qZA(),t.TgZ(21,"div",11),t._UZ(22,"app-text",35),t.ALo(23,"translate"),t.YNc(24,kt,2,1,"p",13),t.qZA(),t.TgZ(25,"div",25),t._UZ(26,"app-text",35),t.ALo(27,"translate"),t.YNc(28,Qt,2,1,"p",13),t.qZA(),t.TgZ(29,"h3",27),t.NdJ("click",function(){const c=t.CHM(e).index,f=t.oxw();return t.KtG(f.deleteProductFromList(c))}),t._UZ(30,"i",36),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.BQk()}if(2&n){const e=a.$implicit,o=t.oxw();t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(3,43,"clauses")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.clause_name),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.clauses),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(7,45,"Units")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.unit_name),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.units),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(11,47,"category")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.category_name),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.category),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(15,49,"price")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.price),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.price),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(19,51,"quantity")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.quantity),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.quantity),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(23,53,"ratio")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.ratio),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.ratio),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(27,55,"notes")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.notes),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.notes),t.xp6(3),t.hij(" ",t.lcZ(32,57,"delete"),"")}}function Yt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.clauses[0])}}function Gt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.units[0])}}function Et(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.category[0])}}function St(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.price[0])}}function Bt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.quantity[0])}}function Rt(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.ratio[0])}}function $t(n,a){if(1&n&&(t.TgZ(0,"p",30),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.notes[0])}}const zt=[{path:"",component:ht},{path:"create",component:w},{path:"view/:id",component:At,resolve:{project:D}},{path:"update/:id",component:w,resolve:{project:D}},{path:"track/:id",component:qt,resolve:{assignment:(()=>{class n{constructor(e){this.projectService=e}resolve(e){return this.projectService.getAssignmentById(e.params.id)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(O))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}},{path:"assign/:id",component:(()=>{class n{constructor(e,o,l,c,f){this.fb=e,this.toaster=o,this.projectsService=l,this.route=c,this.categoriesService=f,this.unsubscribe=new Z.x,this.formGroup=this.initForm(),this.projectPhasesConfig=U.N,this.constructionNameConfig=wt.N,this.workTypeConfig=Pt.K,this.clausesConfig=F.N,this.categoryConfig=N.t,this.unitsConfig=J.R,this.isLoading=!1,this.values=new FormData,this.projects=[]}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.title="update_journal_entry",this.route.data.pipe((0,_.R)(this.unsubscribe)).subscribe({next:e=>{this.data=e,this.fillDataToUpdate()},error:e=>{}})),this.projectsService.getCategories().pipe((0,_.R)(this.unsubscribe)).subscribe({next:e=>{this.categories=e.data},error:e=>{}}),this.projectsService.getUnits().pipe((0,_.R)(this.unsubscribe)).subscribe({next:e=>{this.units=e.data},error:e=>{}}),this.projectsService.getClauses().pipe((0,_.R)(this.unsubscribe)).subscribe({next:e=>{this.clauses=e.data},error:e=>{}})}convertFormGroupToFormData(){this.values.set("id",this.id),this.values.set("work_type_id",this.formGroup.get("work_types")?.value),this.values.set("project_phase_id",this.formGroup.get("project_phase")?.value),this.values.set("construction_name_id",this.formGroup.get("construction_name")?.value);for(let e=0;e<this.workClauses.length;e++){const o=this.workClauses.at(e);this.values.set(`work_clauses[${e}][ratio]`,o.get("ratio")?.value),this.values.set(`work_clauses[${e}][project_management_category_id]`,o.get("category")?.value),this.values.set(`work_clauses[${e}][quantity]`,o.get("quantity")?.value),this.values.set(`work_clauses[${e}][notes]`,o.get("notes")?.value),this.values.set(`work_clauses[${e}][price]`,o.get("price")?.value),this.values.set(`work_clauses[${e}][clause_id]`,o.get("clauses")?.value),this.values.set(`work_clauses[${e}][unit_id]`,o.get("units")?.value),this.values.set(`work_clauses[${e}][notes]`,null)}}get workClauses(){return this.formGroup.get("work_clauses")}get workClause(){return this.formGroup.get("work")}addWorkToList(){this.workClauses.push(this.fb.group({clauses:this.workClause?.value.clauses,clause_name:this.workClause?.value.clause_name,category:this.workClause?.value.category,category_name:this.workClause?.value.category_name,units:this.workClause?.value.units,unit_name:this.workClause?.value.unit_name,work_types:this.workClause?.value.work_types,notes:this.workClause?.value.notes,price:this.workClause?.value.price,quantity:this.workClause?.value.quantity,ratio:this.workClause?.value.ratio})),this.clearProductForm()}deleteProductFromList(e){this.workClauses.controls.forEach((o,l)=>{}),this.workClauses.removeAt(e)}reject(e){}onSubmit(){}initForm(){return this.fb.group({id:[Number],construction_name:["",s.kI.required],project_phase:[""],work_types:[""],work_clauses:this.fb.array([]),work:this.fb.group({category:[""],units:[""],clauses:[""],clause_name:[""],unit_name:[""],category_name:[""],price:[""],quantity:[""],notes:[""],ratio:[""]})})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():(this.isLoading=!0,this.convertFormGroupToFormData(),this.projectsService.assign(this.values).subscribe(e=>{this.toaster.success(e.message)},e=>{this.errors=e.error.errors,this.isLoading=!1}))}clearProductForm(){this.workClause?.patchValue({units:"",clauses:"",category:"",price:"",ratio:"",notes:"",quantity:""})}getCategories(e){let o=this.categories.find(l=>l.id===e.value);this.formGroup.get("work")?.patchValue({category_name:o.name})}getUnits(e){let o=this.units.find(l=>l.id===e.value);this.formGroup.get("work")?.patchValue({unit_name:o.name})}getClauses(e){let o=this.clauses.find(l=>l.id===e.value);this.formGroup.get("work")?.patchValue({clause_name:o.name})}fillDataToUpdate(){this.formGroup.patchValue({id:this.data?.id,project_name:this.data?.project_name,project_phase:this.data?.project_phase,start_date:this.data?.start_date,work_types:this.data?.work_types,end_date:this.data?.end_date,deduction_options:this.data?.deduction_options,downpayment_option:this.data?.downpayment_option,assigned_budget:this.data?.assigned_budget,assigned_engineer:this.data?.assigned_engineer,milestones:this.data?.milestones,suppliers:this.data?.suppliers,estimated_cost_for_resource:this.data?.estimated_cost_for_resource,project_description:this.data?.project_description})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(b._W),t.Y36(O),t.Y36(u.gz),t.Y36(yt.G))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-assign-project"]],decls:66,vars:89,consts:[[1,"container-sm","main","rounded"],[1,"header","row","justify-content-between","align-items-center"],["routerLink","/key/project-management/projects",1,"title","pointer","col-md-6"],[1,"d-flex","align-items-center","justify-content-end","g-2","col-md-6"],[1,"px-1"],["routerLink","/key/project-management/projects",1,"btn-cancel",3,"iconPos","icon","text"],[1,"btn-filter",3,"text","iconPos","icon","click"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"fw-bold","mb-4"],[1,"col-md-4","col-12"],["optionLabel","name","optionValue","id","formControlName","project_phase","ngDefaultControl","","placeholder","select",3,"request","text"],["class","error",4,"ngIf"],["optionLabel","name","optionValue","id","formControlName","construction_name","ngDefaultControl","","placeholder","select",3,"request","text"],["optionLabel","name","optionValue","id","formControlName","work_types","ngDefaultControl","","placeholder","select",3,"request","text"],[1,"fw-bold","my-4"],["formArrayName","work_clauses",4,"ngFor","ngForOf"],["formGroupName","work",1,"row","mt-4"],["optionLabel","name","optionValue","id","formControlName","clauses","ngDefaultControl","","placeholder","select",3,"data","text","onDropDownChange"],["optionLabel","name","optionValue","id","formControlName","units","ngDefaultControl","","placeholder","select",3,"data","text","onDropDownChange"],["optionLabel","name","optionValue","id","formControlName","category","ngDefaultControl","","placeholder","select",3,"data","text","onDropDownChange"],["formControlName","price","ngDefaultControl","","placeholder","",3,"text"],["formControlName","quantity","ngDefaultControl","","placeholder","",3,"text"],["formControlName","ratio","ngDefaultControl","","placeholder","",3,"text"],[1,"col-md-12","col-12"],["formControlName","notes","ngDefaultControl","","placeholder","",3,"text"],[1,"text-center",3,"click"],[1,"fa","fa-plus"],[1,"text-error"],[1,"error"],["formArrayName","work_clauses"],["optionLabel","name","optionValue","id","ngDefaultControl","","placeholder","",3,"text","readOnly","value"],["optionLabel","name","optionValue","id","ng","","DefaultControl","","placeholder","",3,"text","readOnly","value"],["DefaultControl","","placeholder","",3,"text","readOnly","value"],["ngDefaultControl","","placeholder","",3,"text","readOnly","value"],[1,"fa","fa-trash"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"app-button",5),t.qZA(),t.TgZ(8,"div",4)(9,"app-button",6),t.NdJ("click",function(){return o.accept()}),t.qZA()()()(),t.TgZ(10,"app-form",7),t.NdJ("onSubmit",function(){return o.accept()}),t.YNc(11,bt,2,1,"div",8),t.ALo(12,"keyvalue"),t.TgZ(13,"div",9)(14,"h3",10),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",11),t._UZ(18,"app-dropdown",12),t.ALo(19,"translate"),t.YNc(20,Ut,2,1,"p",13),t.qZA(),t.TgZ(21,"div",11),t._UZ(22,"app-dropdown",14),t.ALo(23,"translate"),t.YNc(24,Vt,2,1,"p",13),t.qZA(),t.TgZ(25,"div",11),t._UZ(26,"app-dropdown",15),t.ALo(27,"translate"),t.YNc(28,Mt,2,1,"p",13),t.qZA(),t.TgZ(29,"h3",16),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.YNc(32,It,33,59,"ng-container",17),t.qZA(),t.TgZ(33,"div",18)(34,"div",11)(35,"app-dropdown",19),t.NdJ("onDropDownChange",function(c){return o.getClauses(c)}),t.ALo(36,"translate"),t.qZA(),t.YNc(37,Yt,2,1,"p",13),t.qZA(),t.TgZ(38,"div",11)(39,"app-dropdown",20),t.NdJ("onDropDownChange",function(c){return o.getUnits(c)}),t.ALo(40,"translate"),t.qZA(),t.YNc(41,Gt,2,1,"p",13),t.qZA(),t.TgZ(42,"div",11)(43,"app-dropdown",21),t.NdJ("onDropDownChange",function(c){return o.getCategories(c)}),t.ALo(44,"translate"),t.qZA(),t.YNc(45,Et,2,1,"p",13),t.qZA(),t.TgZ(46,"div",11),t._UZ(47,"app-text",22),t.ALo(48,"translate"),t.YNc(49,St,2,1,"p",13),t.qZA(),t.TgZ(50,"div",11),t._UZ(51,"app-text",23),t.ALo(52,"translate"),t.YNc(53,Bt,2,1,"p",13),t.qZA(),t.TgZ(54,"div",11),t._UZ(55,"app-text",24),t.ALo(56,"translate"),t.YNc(57,Rt,2,1,"p",13),t.qZA(),t.TgZ(58,"div",25),t._UZ(59,"app-text",26),t.ALo(60,"translate"),t.YNc(61,$t,2,1,"p",13),t.qZA()(),t.TgZ(62,"h3",27),t.NdJ("click",function(){return o.addWorkToList()}),t._UZ(63,"i",28),t._uU(64),t.ALo(65,"translate"),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,59,"work_clause_assignments")," "),t.xp6(4),t.Q6J("iconPos","left")("icon","fa-solid fa-ban")("text","cancel"),t.xp6(2),t.Q6J("text","save")("iconPos","left")("icon","fa-solid fa-check"),t.xp6(1),t.Q6J("formGroup",o.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(12,61,o.errors)),t.xp6(4),t.Oqu(t.lcZ(16,63,"project_assignment")),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(19,65,"project_phase")),t.Q6J("request",o.projectPhasesConfig.api.get),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.project_phase),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(23,67,"construction_name")),t.Q6J("request",o.constructionNameConfig.api.get),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.construction_name),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(27,69,"work_type")),t.Q6J("request",o.workTypeConfig.api.get),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.work_types),t.xp6(2),t.Oqu(t.lcZ(31,71,"work_clauses")),t.xp6(2),t.Q6J("ngForOf",o.workClauses.controls),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(36,73,"clauses")),t.Q6J("data",o.clauses),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.clauses),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(40,75,"Units")),t.Q6J("data",o.units),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.units),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(44,77,"category")),t.Q6J("data",o.categories),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.category),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(48,79,"price")),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.price),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(52,81,"quantity")),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.quantity),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(56,83,"ratio")),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.ratio),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(60,85,"notes")),t.xp6(2),t.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.notes),t.xp6(3),t.hij(" ",t.lcZ(65,87,"add"),""))},dependencies:[i.sg,i.O5,u.rH,V.U,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,M.T,L.J,j.r,i.Nd,C.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .entry-no[_ngcontent-%COMP%]{padding-right:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{padding-left:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;padding:17px 5px;border:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background-color:var(--mainColor)!important;color:var(--white);font-size:14px;padding:10px}h3.text-center[_ngcontent-%COMP%]{cursor:pointer;margin-top:10px!important;margin-bottom:10px!important}"]}),n})()}];let Wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(zt),u.Bz]}),n})();var Xt=r(1383),Kt=r(4413),Ht=r(1890),te=r(1019),ee=r(2115),ne=r(8096),oe=r(1471);let ae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez,Wt,oe.X,ee.u,Kt.e,Ht.f,te.i,ne.J,C.aw,Xt.m]}),n})()},4896:(P,v,r)=>{r.d(v,{Y:()=>y});var i=r(9291),u=r(67),g=r(6223),d=r(6814),h=r(3999);function A(p,x){1&p&&i._UZ(0,"i",7)}function T(p,x){if(1&p&&(i.TgZ(0,"label",4),i._uU(1),i.ALo(2,"titlecase"),i.ALo(3,"translate"),i.TgZ(4,"span",5),i.YNc(5,A,1,0,"i",6),i.qZA()()),2&p){const t=i.oxw();i.xp6(1),i.hij("",i.lcZ(2,2,i.lcZ(3,4,t.label))," "),i.xp6(4),i.Q6J("ngIf",t.control&&(null==t.control.errors?null:t.control.errors.required))}}function m(p,x){if(1&p&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p){const t=i.oxw();i.xp6(1),i.Oqu(i.lcZ(2,1,t.selectedFileCount+"files"))}}function q(p,x){if(1&p&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p){const t=i.oxw();i.xp6(1),i.Oqu(t.selectedFileName?t.selectedFileName:i.lcZ(2,1,t.placeholder))}}let y=(()=>{class p extends u.t{set clear(t){t&&(this.selectedFileCount=0,this.selectedFileName="",this.value=null)}constructor(t){super(),this.formGroupDirective=t,this.uploadedFiles=[],this.multiple=!0,this.label="Upload",this.placeholder="drag_and_drop_you_file_or_Click_here_to_upload",this.accept=".jpg,.jpeg,.png,.pdf,.doc,.docx,.xls,.xlsx",this.onValueChange=new i.vpe,this.selectedFileName="",this.selectedFileCount=0}onFileSelected(t){this.onValueChange.emit(t),this.selectedFileName=t.target.files[0].name,t.target.files&&t.target.files.length>0&&(this.selectedFileCount=t.target.files.length)}onUpload(t){for(let s of t.files)this.uploadedFiles.push(s)}}return p.\u0275fac=function(t){return new(t||p)(i.Y36(g.sg,8))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-file-upload"]],inputs:{value:"value",multiple:"multiple",label:"label",placeholder:"placeholder",accept:"accept",clear:"clear"},outputs:{onValueChange:"onValueChange"},features:[i._Bn([{provide:g.JU,useExisting:p,multi:!0},{provide:g.Cf,useExisting:p,multi:!0}]),i.qOj],decls:5,vars:6,consts:[[1,"file-input"],["for","file",4,"ngIf"],[4,"ngIf"],["id","file","type","file","id","file",1,"form-control",3,"multiple","ngModel","accept","ngModelChange","change"],["for","file"],[1,"required-aster"],["class","fa-solid fa-asterisk",4,"ngIf"],[1,"fa-solid","fa-asterisk"]],template:function(t,s){1&t&&(i.TgZ(0,"div",0),i.YNc(1,T,6,6,"label",1),i.YNc(2,m,3,3,"p",2),i.YNc(3,q,3,3,"p",2),i.TgZ(4,"input",3),i.NdJ("ngModelChange",function(_){return s.value=_})("change",function(_){return s.onFileSelected(_)}),i.qZA()()),2&t&&(i.xp6(1),i.Q6J("ngIf",s.label),i.xp6(1),i.Q6J("ngIf",s.selectedFileCount>1),i.xp6(1),i.Q6J("ngIf",s.selectedFileCount<=1),i.xp6(1),i.Q6J("multiple",s.multiple)("ngModel",s.value)("accept",s.accept))},dependencies:[d.O5,g.Fj,g.JJ,g.On,d.rS,h.X$],styles:[".file-input[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:0;width:100%;height:100%;min-width:200px!important}.file-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;padding:8px;border:1px dashed #7ca0c5;border-radius:8px;font-size:14px;cursor:pointer;min-width:200px!important;text-align:center;overflow:hidden}"]}),p})()},8718:(P,v,r)=>{r.d(v,{x:()=>i});const i={api:{create:"user/create",get:"user",getById:"user/",update:"user/update/",delete:"user/",exportCvs:"user/export/cvs",exportPdf:"user/export/pdf",import:"user/import",export:"user/data/export"},page:{list:"",view:"view/:id"}}},9773:(P,v,r)=>{r.d(v,{R:()=>h});var i=r(9360),u=r(8251),g=r(4829),d=r(2420);function h(A){return(0,i.e)((T,m)=>{(0,g.Xf)(A).subscribe((0,u.x)(m,()=>m.complete(),d.Z)),!m.closed&&T.subscribe(m)})}}}]);