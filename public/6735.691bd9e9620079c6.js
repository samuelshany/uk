"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[6735],{6735:(T,h,a)=>{a.r(h),a.d(h,{CashModule:()=>Dt});var c=a(6814),_=a(8209),m=a(5861);const C_api_create="cash-management/create",C_api_get="cash-management?type=creditor",C_api_update="cash-management/update/",C_api_delete="cash-management/";var u=function(o){return o.list="View  Cash Movements",o.create="Create Cash Management",o.update="Edit Cash Management",o.delete="Delete Cash Management",o}(u||{});const y=o=>{return{cols:[{field:"id",label:"id",class:""},{field:"date",label:"date",class:""},{field:"payment_method_name",label:"payment_method",class:""},{field:"description",label:"description",format:r=>r.description?r.description:"-"},{field:"amount",label:"amount",class:""},{label:"action",actions:[{id:u.delete,icon:"trash",class:"main-color",fun:(r=(0,m.Z)(function*(e){return yield o.cashPaymentService.delete(e)}),function(n){return r.apply(this,arguments)})},{id:u.update,icon:"pen-to-square",class:"main-color",fun:function(){var r=(0,m.Z)(function*(e){return yield o.cashPaymentService.openDialogToUpdate(e)});return function(n){return r.apply(this,arguments)}}()}]}],Request:C_api_get};var r};var p=a(6924),f=a(8718),g=a(5946),F=a(5219),t=a(9291),M=a(68),s=a(6223),O=a(6785),D=a(1732),P=a(8763),A=a(5118),U=a(8614),S=a(1904),N=a(3838),R=a(6098),E=a(1771),L=a(4779),v=a(3999);function $(o,r){if(1&o&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function tt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"app-dropdown",24),t.NdJ("onDropDownChange",function(i){t.CHM(e);const d=t.oxw();return t.KtG(d.getPaymentAccounts(i))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Tol(""),t.Q6J("showClear",!0)("filter",!0)("text","payment_method")("request",e.PaymentConfig.api.get)}}function et(o,r){if(1&o&&(t.TgZ(0,"div",14),t._UZ(1,"app-dropdown",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","payment_accounts")("data",e.payment_accounts)("optionLabel","name_code")("optionValue","id")("placeholder","select")}}let Q=(()=>{class o{constructor(e,n,i,d,l,J){this.http=e,this.fb=n,this.toastr=i,this.dynamicDialogConfig=d,this.dialogRef=l,this.cashPaymentService=J,this.accountConfig=M.a,this.PaymentConfig=O.D,this.payment_accounts=[],this.formGroup=this.initForm(),this.permissions=u,this.dynamicDialogConfig.data?.data&&this.fillDataToUpdate(this.dynamicDialogConfig.data?.data)}ngOnInit(){this.http.get(this.accountConfig.api.getNotParent).subscribe({next:e=>{this.cashable_accounts=e.data}})}initForm(){return this.fb.group({id:[Number],date:[(new Date).toLocaleDateString("en-CA"),[s.kI.required]],description:[""],payment_method_id:["",[s.kI.required]],payment_account_id:["",[s.kI.required]],amount:["",[s.kI.required]],account_id:["",s.kI.required],cashable_id:["",s.kI.required],type:["creditor"]})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():this.dynamicDialogConfig.data.data?this.cashPaymentService.update(this.formGroup.value).subscribe({next:e=>{this.toastr.success(e.message),this.closePopup(!0)},error:e=>{this.errors=e.error.errors,this.toastr.error(e.error.message)}}):this.cashPaymentService.create(this.formGroup.value).subscribe({next:e=>{this.toastr.success(e.message),this.closePopup(!0)},error:e=>{this.errors=e.error.errors,this.toastr.error(e.error.message)}})}fillDataToUpdate(e){this.formGroup.patchValue({id:e.id,date:e.date,description:e?.description,account_id:e.account_id,cashable_id:e.cashable_id,amount:e.amount,payment_method_id:e?.payment_method_id,payment_account_id:e?.payment_account_id})}getChild(e){let n=e.value;n?this.http.getWithParam(this.accountConfig.api.getNotParent,{parent_id:n}).subscribe({next:i=>{this.cashable_accounts=i.data}}):this.http.get(this.accountConfig.api.getNotParent).subscribe({next:i=>{this.cashable_accounts=i.data}})}closePopup(e){this.dialogRef.close(e)}getPaymentAccounts(e){let n=e.value;n&&this.http.getWithParam(this.PaymentConfig.api.getPaymentAccount+n).subscribe({next:i=>{this.payment_accounts=i.data}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(D.O),t.Y36(s.qu),t.Y36(P._W),t.Y36(A.S),t.Y36(A.E7),t.Y36(I))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form-payment"]],decls:31,vars:38,consts:[[1,"main"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","../assets/Tabs/Icon/Active/craete-bank.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title"],[3,"formGroup"],["class","text-error",4,"ngFor","ngForOf"],[1,"row"],["class","mb-3 col-sm-12",4,"ngIf"],[1,"mb-5","col-sm-12"],["formControlName","date","ngDefaultControl","","placeholder","",3,"text"],[1,"mb-3","col-sm-12"],["formControlName","amount","placeholder","",3,"showButtons","mode","text"],[1,"mb-3","col-12"],["formControlName","description","ngDefaultControl","","placeholder","",3,"text"],["filterBy","name_code","placeholder","select","optionLabel","name_code","optionValue","id","formControlName","account_id","ngDefaultControl","",3,"showClear","filter","text","request","onDropDownChange"],["filterBy","name_code","placeholder","select","optionLabel","name_code","optionValue","id","formControlName","cashable_id",3,"showClear","filter","text","data"],[1,"row","g-2","my-2"],[1,"col-6"],[3,"text","click"],[1,"text-error"],["filterBy","name","placeholder","select","optionLabel","name","optionValue","id","formControlName","payment_method_id",3,"showClear","filter","text","request","onDropDownChange"],["ngDefaultControl","","formControlName","payment_account_id",3,"text","data","optionLabel","optionValue","placeholder"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"span",5),t.NdJ("click",function(){return n.closePopup(!1)}),t._UZ(6,"i",6),t.qZA()(),t.TgZ(7,"p",7),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"app-form",8),t.YNc(11,$,2,1,"div",9),t.ALo(12,"keyvalue"),t.TgZ(13,"div",10),t.YNc(14,tt,2,6,"div",11),t.YNc(15,et,2,7,"div",11),t.TgZ(16,"div",12),t._UZ(17,"app-date",13),t.qZA(),t.TgZ(18,"div",14),t._UZ(19,"app-number-input",15),t.qZA(),t.TgZ(20,"div",16),t._UZ(21,"app-text",17),t.qZA(),t.TgZ(22,"div",16)(23,"app-dropdown",18),t.NdJ("onDropDownChange",function(d){return n.getChild(d)}),t.qZA()(),t.TgZ(24,"div",14),t._UZ(25,"app-dropdown",19),t.qZA()(),t.TgZ(26,"div",20)(27,"div",21)(28,"app-button",22),t.NdJ("click",function(){return n.closePopup(!1)}),t.qZA()(),t.TgZ(29,"div",21)(30,"app-button",22),t.NdJ("click",function(){return n.accept()}),t.qZA()()()()()),2&e){let i;t.xp6(8),t.Oqu(t.lcZ(9,34,null!==(i=n.dynamicDialogConfig.header)&&void 0!==i?i:"")),t.xp6(2),t.Q6J("formGroup",n.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(12,36,n.errors)),t.xp6(3),t.Q6J("ngIf","add_cash_payment"==n.dynamicDialogConfig.header),t.xp6(1),t.Q6J("ngIf","add_cash_payment"==n.dynamicDialogConfig.header),t.xp6(2),t.Tol(""),t.Q6J("text","date"),t.xp6(2),t.Tol(""),t.Q6J("showButtons",!1)("mode","currency")("text","amount"),t.xp6(2),t.Tol(""),t.Q6J("text","description"),t.xp6(2),t.Tol(""),t.Q6J("showClear",!0)("filter",!0)("text","associated_account")("request",n.accountConfig.api.getParent),t.xp6(2),t.Tol(""),t.Q6J("showClear",!0)("filter",!0)("text","debtor_account")("data",n.cashable_accounts),t.xp6(3),t.Tol("btn-cancel"),t.Q6J("text","Cancel"),t.xp6(2),t.Tol("btn-filter"),t.Q6J("text",null==n.dynamicDialogConfig.data?null:n.dynamicDialogConfig.data.acceptLabel)}},dependencies:[c.sg,c.O5,s.Fj,s.JJ,s.JL,s.sg,s.u,U.T,S.D,N.J,R.I,E.U,L.r,c.Nd,v.X$]}),o})();var q=a(3562);let I=(()=>{class o{constructor(e,n,i){this.http=e,this.dynamicDialog=n,this.toastr=i}get(e){return this.http.get(C_api_get)}openDialogToCreate(){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_cash_payment",data:{acceptLabel:"add",rejectLabel:"cancel"},width:"500px",height:"auto"},Q)}create(e){return this.http.post(C_api_create,e)}delete(e){var n=this;return(0,m.Z)(function*(){const i={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...e}},width:"300px",height:"164px"};return!!(yield n.dynamicDialog.confirm(i))&&n.http.delete(C_api_delete+e.id).toPromise().then(l=>(n.toastr.success(l.message),l)).catch(l=>(n.toastr.error(l.error.message),l))})()}openDialogToUpdate(e){var n=this;return(0,m.Z)(function*(){const i={showHeader:!1,header:"update_cash_payment",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...e}},width:"480px",height:"auto"};return yield n.dynamicDialog.showDialogWithComponent(i,Q)})()}update(e){return this.http.post(C_api_update+e.id,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(D.O),t.LFG(q.U),t.LFG(P._W))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var G=a(8275),k=a(2377),B=a(359),W=a(5077),Y=a(3826);let j=(()=>{class o{constructor(){this.icon=F.dv}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cash"]],inputs:{cat:"cat"},decls:9,vars:8,consts:[[1,"options-cat"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],[1,"row","options","rounded-pill","p-1"],["routerLink","/key/accounting/cash-management/cash/receipt",3,"ngClass","click"],["routerLink","/key/accounting/cash-management/cash/payment",3,"ngClass","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t.NdJ("click",function(){return n.cat="receipt"}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"span",4),t.NdJ("click",function(){return n.cat="payment"}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()),2&e&&(t.xp6(3),t.Q6J("ngClass","receipt"==n.cat?"col-4 rounded-pill pointer active-option":"col-4 rounded-pill pointer"),t.xp6(1),t.Oqu(t.lcZ(5,4,"receipts")),t.xp6(2),t.Q6J("ngClass","payment"==n.cat?"col-4 rounded-pill pointer active-option":"col-4 rounded-pill pointer"),t.xp6(1),t.Oqu(t.lcZ(8,6,"payments")))},dependencies:[c.mk,_.rH,v.X$],styles:["[_nghost-%COMP%]{font-size:1.6rem}[_nghost-%COMP%]   .options-cat[_ngcontent-%COMP%]{margin:2rem 0}[_nghost-%COMP%]   .options-cat[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{border:2px solid var(--mainColor);width:100%}[_nghost-%COMP%]   .options-cat[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;padding:4px;width:50%}[_nghost-%COMP%]   .options-cat[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .active-option[_ngcontent-%COMP%]{background-color:var(--mainColor);color:#fff;padding:4px}"]}),o})();function ot(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openDialogToCreate())}),t.qZA()}if(2&o){const e=t.oxw();t.Tol("btn-filter"),t.Q6J("text","new")("icon",e.icon.PLUS)("iconPos","left")}}const nt=function(o){return[o]};let at=(()=>{class o{constructor(e){this.cashPaymentService=e,this.isSubmitted=!1,this.tableConfig=y(this),this.filtersConfig=[{field:"search",label:"search",type:p.W.TEXT,placeholder:"search"},{field:"creator_id",label:"creator",type:p.W.SELECT,options:{value:"id",label:"name"},request:f.x.api.get,placeholder:"select"},{field:"from",label:"from",type:p.W.DATE,placeholder:"From"},{field:"to",label:"to",type:p.W.DATE}],this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"date",field:"date"},{label:"amount",field:"amount"},{label:"payment_method",field:"payment_method"},{label:"id",field:"id"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:g.q.asc,field:g.q.asc},{label:g.q.desc,field:g.q.desc}]}],this.permissions=u,this.icon=F.dv}openDialogToCreate(){var e=this;return(0,m.Z)(function*(){(yield e.cashPaymentService.openDialogToCreate())&&(e.tableConfig=y(e))})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(I))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-payment"]],decls:21,vars:15,consts:[[1,"page-card"],[1,"title"],["cat","payment"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex"],[3,"text","class","icon","iconPos","click",4,"hasPermissions"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"filter","sort","tableConfig","pagination"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""],[3,"text","icon","iconPos","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-cash",2),t.TgZ(5,"div",3)(6,"h5",1),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",4),t.YNc(10,ot,1,5,"app-button",5),t.qZA()(),t.TgZ(11,"div",6),t._UZ(12,"ukt-sort",7,8)(14,"ukt-filter",9,10),t.qZA(),t.TgZ(16,"div",11),t._UZ(17,"app-table",12),t.qZA(),t.TgZ(18,"div",13),t._UZ(19,"ukt-pagination",null,14),t.qZA()()),2&e){const i=t.MAs(13),d=t.MAs(15),l=t.MAs(20);t.xp6(2),t.Oqu(t.lcZ(3,9,"cash_receipts_payment")),t.xp6(5),t.Oqu(t.lcZ(8,11,"list_of_payment")),t.xp6(3),t.Q6J("hasPermissions",t.VKq(13,nt,n.permissions.create)),t.xp6(2),t.Q6J("SortConfig",n.sortConfig),t.xp6(2),t.Q6J("config",n.filtersConfig),t.xp6(3),t.Q6J("filter",d)("sort",i)("tableConfig",n.tableConfig)("pagination",l)}},dependencies:[G.z,k.a,B.Q,L.r,W.z,Y.x,j,v.X$]}),o})();const x_api_create="cash-management/create",x_api_get="cash-management?type=debtor",x_api_update="cash-management/update/",x_api_delete="cash-management/";var b=function(o){return o.list="View  Cash Movements",o.create="Create Cash Management",o.update="Edit Cash Management",o.delete="Delete Cash Management",o}(b||{});const V=o=>{return{cols:[{field:"id",label:"id",class:""},{field:"date",label:"date",class:""},{field:"payment_method_name",label:"payment_method",class:""},{field:"description",label:"description",format:r=>r.description?r.description:"-"},{field:"amount",label:"amount",class:""},{label:"action",actions:[{id:b.delete,icon:"trash",class:"main-color",fun:(r=(0,m.Z)(function*(e){return yield o.cashReceiptService.delete(e)}),function(n){return r.apply(this,arguments)})},{id:b.update,icon:"pen-to-square",class:"main-color",fun:function(){var r=(0,m.Z)(function*(e){return yield o.cashReceiptService.openDialogToUpdate(e)});return function(n){return r.apply(this,arguments)}}()}]}],Request:x_api_get};var r};function st(o,r){if(1&o&&(t.TgZ(0,"p",23),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function ct(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"app-dropdown",24),t.NdJ("onDropDownChange",function(i){t.CHM(e);const d=t.oxw();return t.KtG(d.getPaymentAccounts(i))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Tol(""),t.Q6J("showClear",!0)("filter",!0)("text","payment_method")("request",e.PaymentConfig.api.get)}}function lt(o,r){if(1&o&&(t.TgZ(0,"div",14),t._UZ(1,"app-dropdown",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","payment_accounts")("data",e.payment_accounts)("optionLabel","name_code")("optionValue","id")("placeholder","select")}}let X=(()=>{class o{constructor(e,n,i,d,l,J){this.http=e,this.fb=n,this.toastr=i,this.dynamicDialogConfig=d,this.dialogRef=l,this.cashReceiptService=J,this.PaymentConfig=O.D,this.accountConfig=M.a,this.payment_accounts=[],this.formGroup=this.initForm(),this.permissions=b,this.dynamicDialogConfig.data?.data&&this.fillDataToUpdate(this.dynamicDialogConfig.data?.data)}ngOnInit(){this.http.get(this.accountConfig.api.getNotParent).subscribe({next:e=>{this.cashable_accounts=e.data}})}initForm(){return this.fb.group({id:[Number],date:[(new Date).toLocaleDateString("en-CA"),[s.kI.required]],description:[""],payment_method_id:["",[s.kI.required]],payment_account_id:["",[s.kI.required]],amount:["",[s.kI.required]],account_id:["",s.kI.required],cashable_id:["",s.kI.required],type:["debtor"]})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():this.dynamicDialogConfig.data.data?this.cashReceiptService.update(this.formGroup.value).subscribe({next:e=>{this.toastr.success(e.message),this.closePopup(!0)},error:e=>{this.errors=e.error.errors,this.toastr.error(e.error.message)}}):this.cashReceiptService.create(this.formGroup.value).subscribe({next:e=>{this.toastr.success(e.message),this.closePopup(!0)},error:e=>{this.errors=e.error.errors,this.toastr.error(e.error.message)}})}fillDataToUpdate(e){this.formGroup.patchValue({id:e.id,date:e.date,description:e?.description,account_id:e.account_id,cashable_id:e.cashable_id,amount:e.amount,payment_method_id:e?.payment_method_id,payment_account_id:e?.payment_account_id})}getChild(e){let n=e.value;n?this.http.getWithParam(this.accountConfig.api.getNotParent,{parent_id:n}).subscribe({next:i=>{this.cashable_accounts=i.data}}):this.http.get(this.accountConfig.api.getNotParent).subscribe({next:i=>{this.cashable_accounts=i.data}})}closePopup(e){this.dialogRef.close(e)}getPaymentAccounts(e){let n=e.value;n&&this.http.getWithParam(this.PaymentConfig.api.getPaymentAccount+n).subscribe({next:i=>{this.payment_accounts=i.data}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(D.O),t.Y36(s.qu),t.Y36(P._W),t.Y36(A.S),t.Y36(A.E7),t.Y36(K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form-receipt"]],decls:31,vars:38,consts:[[1,"main"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","../assets/Tabs/Icon/Active/craete-bank.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title"],[3,"formGroup"],["class","text-error",4,"ngFor","ngForOf"],[1,"row"],["class","mb-3 col-sm-12",4,"ngIf"],[1,"mb-5","col-sm-12"],["formControlName","date","ngDefaultControl","","placeholder","",3,"text"],[1,"mb-3","col-sm-12"],["formControlName","amount","placeholder","",3,"showButtons","mode","text"],[1,"mb-3","col-12"],["formControlName","description","ngDefaultControl","","placeholder","",3,"text"],["filterBy","name_code","placeholder","select","optionLabel","name_code","optionValue","id","formControlName","account_id","ngDefaultControl","",3,"showClear","filter","text","request","onDropDownChange"],["filterBy","name_code","placeholder","select","optionLabel","name_code","optionValue","id","formControlName","cashable_id",3,"showClear","filter","text","data"],[1,"row","g-2","my-2"],[1,"col-6"],[3,"text","click"],[1,"text-error"],["filterBy","name","placeholder","select","optionLabel","name","optionValue","id","formControlName","payment_method_id",3,"showClear","filter","text","request","onDropDownChange"],["ngDefaultControl","","formControlName","payment_account_id",3,"text","data","optionLabel","optionValue","placeholder"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"span",5),t.NdJ("click",function(){return n.closePopup(!1)}),t._UZ(6,"i",6),t.qZA()(),t.TgZ(7,"p",7),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"app-form",8),t.YNc(11,st,2,1,"p",9),t.ALo(12,"keyvalue"),t.TgZ(13,"div",10),t.YNc(14,ct,2,6,"div",11),t.YNc(15,lt,2,7,"div",11),t.TgZ(16,"div",12),t._UZ(17,"app-date",13),t.qZA(),t.TgZ(18,"div",14),t._UZ(19,"app-number-input",15),t.qZA(),t.TgZ(20,"div",16),t._UZ(21,"app-text",17),t.qZA(),t.TgZ(22,"div",16)(23,"app-dropdown",18),t.NdJ("onDropDownChange",function(d){return n.getChild(d)}),t.qZA()(),t.TgZ(24,"div",14),t._UZ(25,"app-dropdown",19),t.qZA()(),t.TgZ(26,"div",20)(27,"div",21)(28,"app-button",22),t.NdJ("click",function(){return n.closePopup(!1)}),t.qZA()(),t.TgZ(29,"div",21)(30,"app-button",22),t.NdJ("click",function(){return n.accept()}),t.qZA()()()()()),2&e){let i;t.xp6(8),t.Oqu(t.lcZ(9,34,null!==(i=n.dynamicDialogConfig.header)&&void 0!==i?i:"")),t.xp6(2),t.Q6J("formGroup",n.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(12,36,n.errors)),t.xp6(3),t.Q6J("ngIf","add_cash_receipt"==n.dynamicDialogConfig.header),t.xp6(1),t.Q6J("ngIf","add_cash_receipt"==n.dynamicDialogConfig.header),t.xp6(2),t.Tol(""),t.Q6J("text","date"),t.xp6(2),t.Tol(""),t.Q6J("showButtons",!1)("mode","currency")("text","amount"),t.xp6(2),t.Tol(""),t.Q6J("text","description"),t.xp6(2),t.Tol(""),t.Q6J("showClear",!0)("filter",!0)("text","associated_account")("request",n.accountConfig.api.getParent),t.xp6(2),t.Tol(""),t.Q6J("showClear",!0)("filter",!0)("text","creditor_account")("data",n.cashable_accounts),t.xp6(3),t.Tol("btn-cancel"),t.Q6J("text","Cancel"),t.xp6(2),t.Tol("btn-filter"),t.Q6J("text",null==n.dynamicDialogConfig.data?null:n.dynamicDialogConfig.data.acceptLabel)}},dependencies:[c.sg,c.O5,s.Fj,s.JJ,s.JL,s.sg,s.u,U.T,S.D,N.J,R.I,E.U,L.r,c.Nd,v.X$]}),o})(),K=(()=>{class o{constructor(e,n,i){this.http=e,this.dynamicDialog=n,this.toastr=i}get(e){return this.http.get(x_api_get)}openDialogToCreate(){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_cash_receipt",data:{acceptLabel:"add",rejectLabel:"cancel"},width:"500px",height:"auto"},X)}create(e){return this.http.post(x_api_create,e)}delete(e){var n=this;return(0,m.Z)(function*(){const i={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...e}},width:"300px",height:"164px"};return!!(yield n.dynamicDialog.confirm(i))&&n.http.delete(x_api_delete+e.id).toPromise().then(l=>(n.toastr.success(l.message),l)).catch(l=>(n.toastr.error(l.error.message),l))})()}openDialogToUpdate(e){var n=this;return(0,m.Z)(function*(){const i={showHeader:!1,header:"update_cash_receipt",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...e}},width:"480px",height:"auto"};return yield n.dynamicDialog.showDialogWithComponent(i,X)})()}update(e){return this.http.post(x_api_update+e.id,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(D.O),t.LFG(q.U),t.LFG(P._W))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function pt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.openDialogToCreate())}),t.qZA()}if(2&o){const e=t.oxw();t.Tol("btn-filter"),t.Q6J("text","new")("icon",e.icon.PLUS)("iconPos","left")}}const dt=function(o){return[o]};let H=(()=>{class o{constructor(e){this.cashReceiptService=e,this.isSubmitted=!1,this.tableConfig=V(this),this.filtersConfig=[{field:"search",label:"search",type:p.W.TEXT,placeholder:"search"},{field:"creator_id",label:"creator",type:p.W.SELECT,options:{value:"id",label:"name"},request:f.x.api.get,placeholder:"select"},{field:"from",label:"from",type:p.W.DATE,placeholder:"From"},{field:"to",label:"to",type:p.W.DATE}],this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"date",field:"date"},{label:"amount",field:"amount"},{label:"payment_method",field:"payment_method"},{label:"id",field:"id"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:g.q.asc,field:g.q.asc},{label:g.q.desc,field:g.q.desc}]}],this.permissions=b,this.icon=F.dv}openDialogToCreate(){var e=this;return(0,m.Z)(function*(){(yield e.cashReceiptService.openDialogToCreate())&&(e.tableConfig=V(e))})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-receipt"]],decls:21,vars:15,consts:[[1,"page-card"],[1,"title"],["cat","receipt"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex"],[3,"text","class","icon","iconPos","click",4,"hasPermissions"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"filter","sort","tableConfig","pagination"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""],[3,"text","icon","iconPos","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-cash",2),t.TgZ(5,"div",3)(6,"h5",1),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",4),t.YNc(10,pt,1,5,"app-button",5),t.qZA()(),t.TgZ(11,"div",6),t._UZ(12,"ukt-sort",7,8)(14,"ukt-filter",9,10),t.qZA(),t.TgZ(16,"div",11),t._UZ(17,"app-table",12),t.qZA(),t.TgZ(18,"div",13),t._UZ(19,"ukt-pagination",null,14),t.qZA()()),2&e){const i=t.MAs(13),d=t.MAs(15),l=t.MAs(20);t.xp6(2),t.Oqu(t.lcZ(3,9,"cash_receipts_payment")),t.xp6(5),t.Oqu(t.lcZ(8,11,"list_of_receipt")),t.xp6(3),t.Q6J("hasPermissions",t.VKq(13,dt,n.permissions.create)),t.xp6(2),t.Q6J("SortConfig",n.sortConfig),t.xp6(2),t.Q6J("config",n.filtersConfig),t.xp6(3),t.Q6J("filter",d)("sort",i)("tableConfig",n.tableConfig)("pagination",l)}},dependencies:[G.z,k.a,B.Q,L.r,W.z,Y.x,j,v.X$]}),o})();var w=a(2127);const mt=[{path:"payment",component:at,canActivate:[w.t],data:{permission:"View Cash Managements"}},{path:"receipt",component:H,canActivate:[w.t],data:{permission:"View Cash Managements"}},{path:"",component:H,canActivate:[w.t],data:{permission:"View Cash Managements"}}];let ut=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.Bz.forChild(mt),_.Bz]}),o})();var ft=a(1383),ht=a(1471),gt=a(9293),_t=a(9624),Ct=a(2115),yt=a(4413),vt=a(1890),xt=a(1019),bt=a(3992),Tt=a(8096),Zt=a(6145);let Dt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,ut,s.UX,ft.m,v.aw,ht.X,gt.Q,_t.U,Ct.u,yt.e,vt.f,xt.i,Zt.n,bt.Z,Tt.J]}),o})()},68:(T,h,a)=>{a.d(h,{a:()=>c});const c={api:{create:"account/create",get:"account/with-group/all",getNotParent:"not-parents/accounts",getParent:"parents/accounts",getProfitLossParent:"profit-loss/parent-accounts",getExpensesParent:"account/parent/expenses",getAssetsParent:"account/parent/assets",getById:"account/",update:"account/update/",delete:"account/",exportExample:"account/export/example",exportExampleSub:"account/export/example/sub",export:"account/export/parent",exportPdf:"account/export/pdf",importAccount:"account/import",importAccountSub:"account/import/sub"},page:{}}},6145:(T,h,a)=>{a.d(h,{n:()=>p});var c=a(6814),_=a(4819),m=a(1890),C=a(9624),u=a(3999),y=a(9291);let p=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=y.oAB({type:f}),f.\u0275inj=y.cJS({imports:[c.ez,_.O,C.U,m.f,u.aw]}),f})()},1771:(T,h,a)=>{a.d(h,{U:()=>C});var c=a(9291),_=a(6223);const m=["*"];let C=(()=>{class u{constructor(){this.onSubmit=new c.vpe}ngOnChanges(p){}getFormData(){return"function"==typeof this.formData?this.formData(this.formGroup.value):{...this.formGroup.value}}reset(){this.formGroup.reset()}submit(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const p=this.getFormData();this.onSubmit.emit(p)}ngAfterContentInit(){}ngAfterContentChecked(){}ngOnDestroy(){}}return u.\u0275fac=function(p){return new(p||u)},u.\u0275cmp=c.Xpm({type:u,selectors:[["app-form"]],inputs:{formGroup:"formGroup",formData:"formData"},outputs:{onSubmit:"onSubmit"},features:[c.TTD],ngContentSelectors:m,decls:2,vars:1,consts:[[3,"formGroup","ngSubmit"]],template:function(p,f){1&p&&(c.F$t(),c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return f.submit()}),c.Hsn(1),c.qZA()),2&p&&c.Q6J("formGroup",f.formGroup)},dependencies:[_._Y,_.JL,_.sg]}),u})()},8718:(T,h,a)=>{a.d(h,{x:()=>c});const c={api:{create:"user/create",get:"user",getById:"user/",update:"user/update/",delete:"user/",exportCvs:"user/export/cvs",exportPdf:"user/export/pdf",import:"user/import",export:"user/data/export"},page:{list:"",view:"view/:id"}}}}]);