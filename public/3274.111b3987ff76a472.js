"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[3274],{3274:(J,Z,r)=>{r.r(Z),r.d(Z,{CustomerSaleModule:()=>ut});var e=r(6814),f=r(8209),t=r(9291),v=r(5861);const _={api:{create:"purchase/create",get:"purchase?type=customer",getTaxes:"tax",getCustomers:"customer",getProducts:"product",getProductBasedOnWarehouse:"product/",getProductSales:"product/with-stock",getWarehouses:"warehouse",getById:"purchase/",update:"purchase/update/",updateFiles:"purchase/updateFiles",delete:"purchase/",exportCvs:"purchase/export/cvs",exportPdf:"purchase/export/pdf",importAccount:"purchase/import"},page:{list:"",update:"update/:id",updateAttachment:"update-attachment/:id",create:"new",view:"view/:id"}};var T=r(4874);const P=i=>{return{cols:[{field:"id",label:"code",class:""},{field:"invoice_number",label:"invoice_number"},{field:"date",label:"date"},{field:"total",label:"total_sales_amount",format:u=>u.total?u.total:0},{field:"total",label:"total_sales_amount",format:u=>u.total?u.total:0},{field:"is_collected",label:"status",format:u=>u.is_collected?"collected":"pending",custom_class_cel:u=>"0"==u.is_collected?"text-active":"text-non-active",class:"text-center"},{label:"action",actions:[{id:T.C.delete,icon:"money-bill-wave",class:"main-color",customClassCondition:u=>0!=u?.is_collected?"":"d-none"},{id:T.C.delete,icon:"eye",class:"main-color"},{id:T.C.delete,icon:"trash",class:"main-color",fun:(u=(0,v.Z)(function*(o){return yield i.customerSaleService.delete(o)}),function(a){return u.apply(this,arguments)})},{id:T.C.edit,icon:"pen-to-square",class:"main-color",route:"update"}]}],Request:_.api.get};var u};var O=r(5219),y=r(1732),M=r(3562),S=r(8763);let w=(()=>{class i{constructor(o,a,d){this.http=o,this.dynamicDialog=a,this.toastr=d}getById(o){return this.http.get(_.api.getById+o)}getTaxes(o){return this.http.getWithParam(_.api.getTaxes,{limit:"all"})}getCustomers(o){return this.http.getWithParam(_.api.getCustomers,{limit:"all"})}getProducts(o){return this.http.getWithParam(_.api.getProductSales,{limit:"all"})}getWarehouses(o){return this.http.getWithParam(_.api.getWarehouses,{limit:"all"})}create(o){return this.http.post(_.api.create,o)}delete(o){var a=this;return(0,v.Z)(function*(){const d={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...o}},width:"300px",height:"164px"};if(yield a.dynamicDialog.confirm(d))try{const A=yield a.http.delete(_.api.delete+o.id).toPromise();return a.toastr.success(A.message),A}catch(A){throw a.toastr.error(A.error.message),A}})()}update(o){return this.http.post(_.api.update+o.get("id"),o)}updateFiles(o){return this.http.post(_.api.updateFiles,o)}getCustomerSaleById(o){return this.http.get(_.api.getById+o)}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(y.O),t.LFG(M.U),t.LFG(S._W))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var D=r(2377),N=r(359),h=r(4779),s=r(8275),p=r(3999);function n(i,u){if(1&i&&t._UZ(0,"app-button",9),2&i){const o=t.oxw();t.Tol("btn-filter mx-2"),t.Q6J("text","new")("icon",o.icon.PLUS)("iconPos","left")}}const b=function(i){return[i]};let g=(()=>{class i{constructor(o){this.customerSaleService=o,this.tableConfig=P(this),this.permissions=T.C,this.icon=O.dv}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(w))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-customer-sale"]],decls:13,vars:10,consts:[[1,"d-flex","align-items-center","justify-content-between"],[1,"title"],[1,"d-flex"],["routerLink","new",3,"text","class","icon","iconPos",4,"hasPermissions"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[1,"table"],[3,"tableConfig","pagination"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""],["routerLink","new",3,"text","icon","iconPos"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.ALo(3,"titlecase"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,n,1,5,"app-button",3),t.qZA()(),t._UZ(7,"div",4),t.TgZ(8,"div",5),t._UZ(9,"app-table",6),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"ukt-pagination",null,8),t.qZA()),2&o){const d=t.MAs(12);t.xp6(2),t.Oqu(t.lcZ(3,4,t.lcZ(4,6,"customer_sale_list"))),t.xp6(4),t.Q6J("hasPermissions",t.VKq(8,b,a.permissions.create)),t.xp6(3),t.Q6J("tableConfig",a.tableConfig)("pagination",d)}},dependencies:[f.rH,D.a,N.Q,h.r,s.z,e.rS,p.X$]}),i})(),c=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customer-sale"]],decls:2,vars:0,consts:[[1,"page-card"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-list-customer-sale"),t.qZA())},dependencies:[g]}),i})();var x=r(8645),m=r(9773),l=r(6223),I=r(6785),L=r(7625),F=r(1771),Q=r(8614),j=r(1904),G=r(3838),k=r(6098),Y=r(4896);function B(i,u){if(1&i&&(t.TgZ(0,"div",6),t._UZ(1,"app-button",37),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("text","update_attachment")("iconPos","left")("icon","fa-solid fa-check")("routerLink","/key/sales/customer-sale/update-attachment/"+o.activeId)}}function R(i,u){if(1&i&&(t.TgZ(0,"div")(1,"p",38),t._uU(2),t.qZA()()),2&i){const o=u.$implicit;t.xp6(2),t.Oqu(o.value)}}function W(i,u){if(1&i&&(t.TgZ(0,"p",39),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Oqu(null==o.errors?null:o.errors.assigned_id[0])}}function K(i,u){if(1&i){const o=t.EpF();t.TgZ(0,"div",12)(1,"app-dropdown",40),t.NdJ("onDropDownChange",function(d){t.CHM(o);const C=t.oxw();return t.KtG(C.getPaymentAccounts(d))}),t.qZA()()}if(2&i){const o=t.oxw();t.xp6(1),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","payment_method")("request",o.PaymentConfig.api.get)("optionLabel","name")("optionValue","id")("placeholder","select")}}function V(i,u){if(1&i&&(t.TgZ(0,"div",12),t._UZ(1,"app-dropdown",41),t.qZA()),2&i){const o=t.oxw();let a;t.xp6(1),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("readOnly",""==(null==(a=o.formGroup.get("payment_type_id"))?null:a.value)||null==(null==(a=o.formGroup.get("payment_type_id"))?null:a.value))("text","payment_accounts")("data",o.payment_accounts)("optionLabel","name")("optionValue","id")("placeholder","select")}}function z(i,u){if(1&i){const o=t.EpF();t.TgZ(0,"div",42)(1,"app-file-upload",43),t.NdJ("onValueChange",function(d){t.CHM(o);const C=t.oxw();return t.KtG(C.onFileSelected(d))}),t.qZA()()}}function H(i,u){if(1&i){const o=t.EpF();t.TgZ(0,"tr",44)(1,"td"),t._UZ(2,"app-text",45),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"app-text",46),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"app-text",46),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"app-text",46),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"app-text",46),t.qZA(),t.TgZ(11,"td",31)(12,"i",47),t.NdJ("click",function(){const C=t.CHM(o).index,A=t.oxw();return t.KtG(A.deleteProductFromList(C))}),t.qZA(),t.TgZ(13,"i",48),t.NdJ("click",function(){const d=t.CHM(o),C=d.$implicit,A=d.index,E=t.oxw();return t.KtG(E.fillDataToUpdateProduct(C.value,A))}),t.qZA()()()}if(2&i){const o=u.$implicit;t.xp6(2),t.Q6J("readOnly",!0)("value",o.value.product_name),t.xp6(2),t.Q6J("readOnly",!0)("value",o.value.quantity)("text","")("placeholder",""),t.xp6(2),t.Q6J("readOnly",!0)("value",o.value.discount)("text","")("placeholder",""),t.xp6(2),t.Q6J("readOnly",!0)("value",o.value.product_price)("text","")("placeholder",""),t.xp6(2),t.Q6J("readOnly",!0)("value",o.value.total_product_price)("text","")("placeholder","")}}function $(i,u){if(1&i){const o=t.EpF();t.TgZ(0,"i",49),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.addProductToList())}),t.qZA()}}function X(i,u){if(1&i){const o=t.EpF();t.TgZ(0,"i",50),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.updateProductOnList())}),t.qZA()}}let U=(()=>{class i{constructor(o,a,d,C,A,E,dt){this.fb=o,this.texesService=a,this.router=d,this.route=C,this.customerSaleService=A,this.toastr=E,this.http=dt,this.permissions=T.C,this.showImportForm=!1,this.isLoading=!1,this.importError=[],this.PaymentConfig=I.D,this.payment_accounts=[],this.customerSaleConfig=_,this.taxes=[],this.warehouses=[],this.customers=[],this.products=[],this.unsubscribe=new x.x,this.formGroup=this.initForm(),this.title="add_new_sale",this.actionSale="create",this.total=0,this.productAction="create",this.savedAccounts=[],this.index=0,this.messageError="",this.values=new FormData,this.fileName="",this.minDate=new Date}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.activeId=this.route.snapshot.paramMap.get("id"),this.title="update_sale",this.actionSale="update",this.route.data.pipe((0,m.R)(this.unsubscribe)).subscribe({next:o=>{this.data=o,this.fillForm(this.data.sale.data)},error:o=>{}})),this.customerSaleService.getTaxes().pipe((0,m.R)(this.unsubscribe)).subscribe({next:o=>{this.taxes=o.data}}),this.customerSaleService.getProducts().pipe((0,m.R)(this.unsubscribe)).subscribe({next:o=>{this.products=o.data}}),this.customerSaleService.getCustomers().pipe((0,m.R)(this.unsubscribe)).subscribe({next:o=>{this.customers=o.data}}),this.customerSaleService.getWarehouses().pipe((0,m.R)(this.unsubscribe)).subscribe({next:o=>{this.warehouses=o.data}})}initForm(){return this.fb.group({id:[Number],invoice_image:[""],customer_id:["",[l.kI.required]],payment_type_id:["",[l.kI.required]],payment_account_id:["",[l.kI.required]],collection_date:["",[l.kI.required]],invoice_number:["",[l.kI.required]],date:["",[l.kI.required]],warehouse_id:["",[l.kI.required]],products:this.fb.array([]),product:this.fb.group({id:[Number],product_id:[""],quantity:[1,[l.kI.required]],discount:[0],product_name:[""],product_price:[""],total_product_price:[""]})})}get productsAtSale(){return this.formGroup.get("products")}get productAtSale(){return this.formGroup.get("product")}onSubmit(){this.formGroup.invalid?this.formGroup.markAllAsTouched():this.productsAtSale.length>=1?(this.convertFormGroupToFormData(),"create"==this.actionSale?this.customerSaleService.create(this.values).subscribe(o=>{this.toastr.success(o.message),this.errors=null,this.clearAllForm(),this.router.navigate(["/key/sales/customer-sale"])},o=>{this.errors=o.error.errors}):this.customerSaleService.update(this.values).subscribe(o=>{this.toastr.success(o.message),this.errors=null,this.clearAllForm(),this.router.navigate(["/key/sales/customer-sale"])},o=>{this.errors=o.error.errors})):this.toastr.error("must_be_add_product_1_at_least")}convertFormGroupToFormData(){this.values.set("id",this.formGroup.get("id")?.value),this.values.set("warehouse_id",this.formGroup.get("warehouse_id")?.value),this.values.set("date",this.formGroup.get("date")?.value),this.values.set("invoice_number",this.formGroup.get("invoice_number")?.value),this.values.set("collection_date",this.formGroup.get("collection_date")?.value),this.values.set("payment_type_id",this.formGroup.get("payment_type_id")?.value),this.values.set("payment_account_id",this.formGroup.get("payment_account_id")?.value),this.values.set("customer_id",this.formGroup.get("customer_id")?.value);let o=this.formGroup.get("products");for(let a=0;a<o.length;a++){const d=o.at(a),C=d.get("discount")?.value,A=d.get("quantity")?.value,E=d.get("product_id")?.value;this.values.set(`products[${a}][discount]`,C),this.values.set(`products[${a}][quantity]`,A),this.values.set(`products[${a}][product_id]`,E)}}getProduct(o){this.product=this.products.filter(a=>a.id==o)[0],this.formGroup.get("product")?.patchValue({product_name:this.product?.name,product_price:this.product?.selling_price})}getProductBasedOnWarehouse(o){let a=o.value;a&&this.http.getWithParam(this.customerSaleConfig.api.getProductBasedOnWarehouse+a).subscribe({next:d=>{this.products=d.data}}),this.product=this.products.filter(d=>d.id==a)[0],this.formGroup.get("product")?.patchValue({product_name:this.product?.name,product_price:this.product?.selling_price})}deleteProductFromList(o){this.productsAtSale.controls.forEach((a,d)=>{d==o&&(this.total-=parseFloat(a.value.total_product_price))}),this.productsAtSale.removeAt(o)}addProductToList(){let o=[];this.productAtSale?.value.product_id&&""!=this.productAtSale?.value.product_id?(o=this.productsAtSale.controls.map(a=>a.value.product_id),o.includes(this.productAtSale?.value.product_id)?this.toastr.error("this_product_is_exist"):this.productAtSale?.value.quantity>0?(this.productsAtSale.push(this.fb.group({product_id:this.productAtSale?.value.product_id,quantity:this.productAtSale?.value.quantity,discount:this.productAtSale?.value.discount,product_name:this.productAtSale?.value.product_name,product_price:this.productAtSale?.value.product_price,total_product_price:((parseFloat(this.productAtSale?.value.product_price)-this.productAtSale?.value.discount/100*parseFloat(this.productAtSale?.value.product_price))*parseInt(this.productAtSale?.value.quantity)).toFixed(2)})),this.clearProductForm()):this.toastr.error("quantity_must_be_1_or_more")):this.toastr.error("select_product"),this.calcTotal()}calcTotal(){this.total=0,this.productsAtSale.controls.forEach(o=>{this.total+=parseFloat(o.value.total_product_price)})}fillForm(o){this.formGroup.patchValue({id:o.id,customer_id:o.purchasable.id,invoice_number:o.invoice_number,date:o.date,warehouse_id:o.stock.id,collection_date:o.collection_date,payment_type_id:o.payment_type_id,payment_account_id:o.payment_account_id}),o.products.forEach(a=>{this.productsAtSale.push(this.fb.group({product_id:a.id,quantity:a.pivot.quantity,discount:a.pivot.discount,product_name:a.name,product_price:a.selling_price,total_product_price:((parseFloat(a?.selling_price)-a.pivot.discount/100*parseFloat(a?.selling_price))*parseInt(a.pivot.quantity)).toFixed(2)}))}),this.total=parseFloat(o.total)}fillDataToUpdateProduct(o,a){this.index=a,this.productAction="update",this.formGroup.get("product")?.patchValue({product_name:o.product_name,product_id:o.product_id,quantity:o.quantity,discount:o.discount,product_price:o.product_price,total_product_price:o.total_product_price})}updateProductOnList(){this.productsAtSale.controls.map((o,a)=>{this.productAtSale?.value?.product_id==o.value.product_id&&(this.index==a?(this.productsAtSale.controls[this.index].patchValue({product_id:this.productAtSale?.value?.product_id,product_name:this.productAtSale?.value?.product_name,quantity:this.productAtSale?.value?.quantity,discount:this.productAtSale?.value?.discount,product_price:this.productAtSale?.value?.product_price,total_product_price:((parseFloat(this.productAtSale?.value.product_price)-this.productAtSale?.value.discount/100*parseFloat(this.productAtSale?.value.product_price))*parseInt(this.productAtSale?.value.quantity)).toFixed(2)}),this.calcTotal(),this.clearProductForm(),this.productAction="create"):this.toastr.error("this_product_is_exist"))})}clearProductForm(){this.productAction="create",this.productAtSale?.patchValue({product_name:[""],product_id:[""],quantity:[""],discount:[0],product_price:[""],total_product_price:[""]})}clearAllForm(){for(;0!==this.productsAtSale.length;)this.productsAtSale.removeAt(0);this.formGroup.reset(),this.total=0;for(const[o,a]of this.values)this.values.delete(o)}onFileSelected(o){if(o.target.files[0])for(const[a,d]of Object.entries(o.target.files))this.values.set(`invoice_image[${a}]`,o.target.files[a])}getPaymentAccounts(o){let a=o.value;a&&this.http.getWithParam(this.PaymentConfig.api.getPaymentAccount+a).subscribe({next:d=>{this.payment_accounts=d.data}})}setMinDateForCollectionDate(o){this.minDate=new Date(o)}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.qu),t.Y36(L.N),t.Y36(f.F0),t.Y36(f.gz),t.Y36(w),t.Y36(S._W),t.Y36(y.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-new-customer-sale"]],decls:82,vars:86,consts:[[1,"page-card"],[1,"header","row","justify-content-between","align-items-center"],[1,"title","col-md-6"],["routerLink","/key/sales/customer-sale",1,"fa-solid","fa-arrow-left","me-2"],[1,"d-flex","align-items-center","justify-content-end","g-2","col-md-6"],["class","px-1",4,"ngIf"],[1,"px-1"],["routerLink","/key/sales/customer-sale",1,"btn-cancel",3,"iconPos","icon","text"],[1,"btn-filter",3,"text","iconPos","icon","click"],[4,"ngFor","ngForOf"],[3,"formGroup","onSubmit"],[1,"row"],[1,"col-md-6","mt-3"],["ngDefaultControl","","formControlName","invoice_number",3,"text","placeholder"],["ngDefaultControl","","formControlName","customer_id",3,"text","data","optionLabel","optionValue","placeholder"],["class","messageError",4,"ngIf"],[1,"date","col-md-6","mt-3"],["ngDefaultControl","","formControlName","date",3,"text","onDateChange"],["ngDefaultControl","","formControlName","warehouse_id",3,"text","data","optionLabel","optionValue","placeholder","onDropDownChange"],["class","col-md-6 mt-3",4,"ngIf"],["ngDefaultControl","","formControlName","collection_date",3,"readOnly","minDate","text"],["class"," col-md-6",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"table-head"],["scope","col",1,"head"],["formArrayName","products",4,"ngFor","ngForOf"],["formGroupName","product"],["formControlName","product_id","placeholder","select",3,"readOnly","data","optionLabel","optionValue","showClear","ngModelChange"],["formControlName","quantity",3,"showButtons","text","placeholder","keydown.enter"],["formControlName","discount",3,"showButtons","text","placeholder","keydown.enter"],[1,"action"],["class","fa-solid fa-plus fs-4 main-color pointer",3,"click",4,"ngIf"],["class","fa-solid fa-check fs-4 main-color mx-2 pointer",3,"click",4,"ngIf"],[1,"fa-solid","fa-cancel","fs-4","text-danger","mx-2","pointer",3,"click"],[1,"title"],[1,"btn-filter","text-light"],[1,"btn-cancel",3,"text","iconPos","icon","routerLink"],[1,"alert","alert-danger","text-center"],[1,"messageError"],["ngDefaultControl","","formControlName","payment_type_id",3,"text","request","optionLabel","optionValue","placeholder","onDropDownChange"],["ngDefaultControl","","formControlName","payment_account_id",3,"readOnly","text","data","optionLabel","optionValue","placeholder"],[1,"col-md-6"],["label","image","ngDefaultControl","","formControlName","invoice_image",3,"onValueChange"],["formArrayName","products"],[3,"readOnly","value"],[3,"readOnly","value","text","placeholder"],[1,"fa-solid","fa-trash","fs-4","text-danger","mx-2","pointer",3,"click"],[1,"fa-solid","fa-pen-to-square","fs-4","main-color","mx-2","pointer",3,"click"],[1,"fa-solid","fa-plus","fs-4","main-color","pointer",3,"click"],[1,"fa-solid","fa-check","fs-4","main-color","mx-2","pointer",3,"click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._UZ(3,"i",3),t._uU(4),t.ALo(5,"titlecase"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,B,2,4,"div",5),t.TgZ(9,"div",6),t._UZ(10,"app-button",7),t.qZA(),t.TgZ(11,"div",6)(12,"app-button",8),t.NdJ("click",function(){return a.onSubmit()}),t.qZA()()()(),t.YNc(13,R,3,1,"div",9),t.ALo(14,"keyvalue"),t.TgZ(15,"app-form",10),t.NdJ("onSubmit",function(){return a.onSubmit()}),t.TgZ(16,"div",11)(17,"div",12),t._UZ(18,"app-text",13),t.qZA(),t.TgZ(19,"div",12),t._UZ(20,"app-dropdown",14),t.YNc(21,W,2,1,"p",15),t.qZA(),t.TgZ(22,"div",16)(23,"app-date",17),t.NdJ("onDateChange",function(C){return a.setMinDateForCollectionDate(C)}),t.qZA()(),t.TgZ(24,"div",12)(25,"app-dropdown",18),t.NdJ("onDropDownChange",function(C){return a.getProductBasedOnWarehouse(C)}),t.qZA()(),t.YNc(26,K,2,7,"div",19),t.YNc(27,V,2,8,"div",19),t.TgZ(28,"div",16),t._UZ(29,"app-date",20),t.qZA(),t.YNc(30,z,2,0,"div",21),t.qZA(),t.TgZ(31,"div",22)(32,"table",23)(33,"thead",24)(34,"tr")(35,"th",25),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"th",25),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"th",25),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"th",25),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"th",25),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"th",25),t._uU(51),t.ALo(52,"translate"),t.qZA()()(),t.TgZ(53,"tbody"),t.YNc(54,H,14,18,"tr",26),t.TgZ(55,"tr",27)(56,"td")(57,"app-dropdown",28),t.NdJ("ngModelChange",function(C){return a.getProduct(C)}),t.qZA()(),t.TgZ(58,"td")(59,"app-number-input",29),t.NdJ("keydown.enter",function(){return a.addProductToList()}),t.qZA()(),t.TgZ(60,"td")(61,"app-number-input",30),t.NdJ("keydown.enter",function(){return a.addProductToList()}),t.qZA()(),t._UZ(62,"td")(63,"td"),t.TgZ(64,"td",31),t.YNc(65,$,1,0,"i",32),t.YNc(66,X,1,0,"i",33),t.TgZ(67,"i",34),t.NdJ("click",function(){return a.clearProductForm()}),t.qZA()()(),t.TgZ(68,"tr",35)(69,"th",36),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"th",36),t._uU(73),t.qZA(),t.TgZ(74,"th",36),t._uU(75),t.qZA(),t.TgZ(76,"th",36),t._uU(77),t.qZA(),t.TgZ(78,"th",36),t._uU(79),t.qZA(),t.TgZ(80,"th",36),t._uU(81),t.qZA()()()()()()()),2&o){let d,C;t.xp6(4),t.hij("",t.lcZ(5,66,t.lcZ(6,68,a.title))," "),t.xp6(4),t.Q6J("ngIf","update_sale"==a.title),t.xp6(2),t.Q6J("iconPos","left")("icon","fa-solid fa-ban")("text","cancel"),t.xp6(2),t.Q6J("text","save")("iconPos","left")("icon","fa-solid fa-check"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,70,a.errors)),t.xp6(2),t.Q6J("formGroup",a.formGroup),t.xp6(3),t.Tol("d-flex flex-column justify-content-between "),t.Q6J("text","invoice_number")("placeholder",""),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","customer")("data",a.customers)("optionLabel","name")("optionValue","id")("placeholder","select"),t.xp6(1),t.Q6J("ngIf",null==a.errors?null:a.errors.assigned_id),t.xp6(2),t.Tol("d-flex flex-column justify-content-between "),t.Q6J("text","date"),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","warehouse")("data",a.warehouses)("optionLabel","name")("optionValue","id")("placeholder","select"),t.xp6(1),t.Q6J("ngIf","create"==a.actionSale),t.xp6(1),t.Q6J("ngIf","create"==a.actionSale),t.xp6(2),t.Tol("d-flex flex-column justify-content-between "),t.Q6J("readOnly",""==(null==(d=a.formGroup.get("date"))?null:d.value)||null==(null==(d=a.formGroup.get("date"))?null:d.value))("minDate",a.minDate)("text","collection_date"),t.xp6(1),t.Q6J("ngIf","add_new_sale"==a.title),t.xp6(6),t.Oqu(t.lcZ(37,72,"product")),t.xp6(3),t.Oqu(t.lcZ(40,74,"quantity")),t.xp6(3),t.hij("",t.lcZ(43,76,"discount")," %"),t.xp6(3),t.Oqu(t.lcZ(46,78,"price")),t.xp6(3),t.Oqu(t.lcZ(49,80,"total_price")),t.xp6(3),t.Oqu(t.lcZ(52,82,"actions")),t.xp6(3),t.Q6J("ngForOf",a.productsAtSale.controls),t.xp6(3),t.Q6J("readOnly",""==(null==(C=a.formGroup.get("warehouse_id"))?null:C.value)||null==(null==(C=a.formGroup.get("warehouse_id"))?null:C.value))("data",a.products)("optionLabel","name")("optionValue","id")("showClear",!0),t.xp6(2),t.Q6J("showButtons",!1)("text","")("placeholder",""),t.xp6(2),t.Q6J("showButtons",!1)("text","")("placeholder",""),t.xp6(4),t.Q6J("ngIf","create"==a.productAction),t.xp6(1),t.Q6J("ngIf","update"==a.productAction),t.xp6(4),t.Oqu(t.lcZ(71,84,"total")),t.xp6(3),t.Oqu(a.total.toFixed(2)),t.xp6(2),t.Oqu(""),t.xp6(2),t.Oqu(""),t.xp6(2),t.Oqu(""),t.xp6(2),t.Oqu("")}},dependencies:[e.sg,e.O5,f.rH,F.U,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,Q.T,j.D,G.J,k.I,Y.Y,h.r,e.rS,e.Nd,p.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .entry-no[_ngcontent-%COMP%]{padding-right:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{padding-left:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;padding:17px 5px;border:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background-color:var(--mainColor)!important;color:var(--white);font-size:14px;padding:10px}.head[_ngcontent-%COMP%]{min-width:150px!important}"]}),i})(),q=(()=>{class i{constructor(o){this.customerSaleService=o}resolve(o){return this.customerSaleService.getById(o.params.id)}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(w))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var tt=r(5435);const ot=[{path:_.page.list,component:c},{path:_.page.create,component:U},{path:_.page.update,component:U,resolve:{sale:q}},{path:_.page.updateAttachment,component:(()=>{class i{constructor(o){this.route=o,this.customerSaleConfig=_,this.unsubscribe=new x.x}ngOnInit(){this.route.data.pipe((0,m.R)(this.unsubscribe)).subscribe({next:o=>{this.data=o.sale.data},error:o=>{}})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(f.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-attachment-sale-edit"]],decls:1,vars:5,consts:[[3,"filesName","data","listPageRoute","listPageTitle","endPoint"]],template:function(o,a){1&o&&t._UZ(0,"app-update-attachment",0),2&o&&t.Q6J("filesName","invoice_image")("data",a.data)("listPageRoute","/key/sales/customer-sale")("listPageTitle","customer_sale_list")("endPoint",a.customerSaleConfig.api.updateFiles)},dependencies:[tt.f],styles:[".items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:24px;color:#101828;margin:30px 0;width:100%}.items[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:200px;width:200px;border:1px solid var(--mainColor);border-radius:10px;overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.items[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.items[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:198px;border-radius:10px}.items[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{width:200px;height:200px;border:1px solid var(--mainColor);border-radius:14px;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.items[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.items[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;width:100%}.items[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{background:var(--white);color:var(--mainColor);border:1px solid var(--mainColor);border-radius:3px;margin:6px 0;padding:7px 0;font-size:14px;width:110px}.customFileInput[_ngcontent-%COMP%]::-webkit-file-upload-button{visibility:hidden}.import[_ngcontent-%COMP%]{padding:20px;border:2px solid var(--mainColor);border-radius:8px;margin:10px 0}"]}),i})(),resolve:{sale:q}}];let nt=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f.Bz.forChild(ot),f.Bz]}),i})();var at=r(1471),it=r(2115),rt=r(4413),st=r(1890),lt=r(1019),ct=r(8096),pt=r(1383);let ut=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[e.ez,nt,at.X,it.u,rt.e,st.f,lt.i,ct.J,p.aw,pt.m]}),i})()},67:(J,Z,r)=>{r.d(Z,{t:()=>e});class e{constructor(){this.readonly=!1,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.readonly=t}validate(t){return this.control||(this.control=t),null}}},3838:(J,Z,r)=>{r.d(Z,{J:()=>N});var e=r(9291),f=r(67),t=r(6223),v=r(1732),_=r(6814),T=r(5219),P=r(3965),O=r(3999);function y(h,s){1&h&&e._UZ(0,"i",8)}function M(h,s){if(1&h&&(e.TgZ(0,"label"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"translate"),e.TgZ(4,"span",6),e.YNc(5,y,1,0,"i",7),e.qZA()()),2&h){const p=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,e.lcZ(3,4,p.text))," "),e.xp6(4),e.Q6J("ngIf",p.control&&(null==p.control.errors?null:p.control.errors.required))}}function S(h,s){if(1&h&&(e._uU(0),e.ALo(1,"translate")),2&h){const p=s.$implicit,n=e.oxw();e.hij(" ",e.lcZ(1,1,p[n.optionLabel])," ")}}function w(h,s){if(1&h&&(e._uU(0),e.ALo(1,"translate")),2&h){const p=s.$implicit,n=e.oxw();e.hij(" ",e.lcZ(1,1,p[n.optionLabel])," ")}}function D(h,s){if(1&h&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&h){const p=e.oxw();e.Tol("text-danger"),e.xp6(1),e.Oqu(e.lcZ(2,3,p.object.keys(p.control.errors)[0]))}}let N=(()=>{class h extends f.t{constructor(p,n){super(),this.formGroupDirective=p,this.http=n,this.showClear=!1,this.readOnly=!1,this.placeholder="select",this.class="d-flex justify-content-between align-items-center",this.filter=!0,this.viewOption="single",this.onDropDownChange=new e.vpe,this.object=Object}ngOnInit(){!this.data&&this.request&&this.http.getWithParam(this.request,{limit:"all"}).subscribe({next:p=>this.data=p.data,error:p=>{},complete:()=>{}})}writeValue(p){this.value=p}onValueChange(p){this.onChange(p.value),this.onTouched(),this.onDropDownChange.emit(p)}}return h.\u0275fac=function(p){return new(p||h)(e.Y36(t.sg,8),e.Y36(v.O))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-dropdown"]],inputs:{value:"value",text:"text",data:"data",request:"request",optionLabel:"optionLabel",optionValue:"optionValue",editable:"editable",showClear:"showClear",readOnly:"readOnly",placeholder:"placeholder",class:"class",filter:"filter",filterBy:"filterBy",viewOption:"viewOption"},outputs:{onDropDownChange:"onDropDownChange"},features:[e._Bn([{provide:t.JU,useExisting:h,multi:!0},{provide:t.Cf,useExisting:h,multi:!0}]),e.qOj],decls:7,vars:18,consts:[[3,"ngClass"],[4,"ngIf"],["appendTo","body",3,"options","ngModel","filter","filterBy","placeholder","editable","showClear","disabled","optionLabel","optionValue","virtualScroll","scrollHeight","itemSize","ngModelChange","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"class",4,"ngIf"],[1,"required-aster"],["class","fa-solid fa-asterisk",4,"ngIf"],[1,"fa-solid","fa-asterisk"]],template:function(p,n){1&p&&(e.TgZ(0,"div",0),e.YNc(1,M,6,6,"label",1),e.TgZ(2,"p-dropdown",2),e.NdJ("ngModelChange",function(g){return n.value=g})("onChange",function(g){return n.onValueChange(g)}),e.ALo(3,"translate"),e.YNc(4,S,2,3,"ng-template",3),e.YNc(5,w,2,3,"ng-template",4),e.qZA(),e.YNc(6,D,3,5,"span",5),e.qZA()),2&p&&(e.Q6J("ngClass",n.class),e.xp6(1),e.Q6J("ngIf",n.text),e.xp6(1),e.Q6J("options",n.data)("ngModel",n.value)("filter",n.filter)("filterBy",n.optionLabel)("placeholder",e.lcZ(3,16,n.placeholder))("editable",n.editable)("showClear",n.showClear)("disabled",n.readOnly)("optionLabel",n.optionLabel)("optionValue",n.optionValue)("virtualScroll",!0)("scrollHeight","200px")("itemSize",30),e.xp6(4),e.Q6J("ngIf",n.control&&n.control.errors&&(n.control.touched||n.formGroupDirective.submitted)))},dependencies:[_.mk,_.O5,t.JJ,t.On,T.jx,P.Lt,_.rS,O.X$],styles:[".text-danger[_ngcontent-%COMP%]{font-size:14px}"]}),h})()},8614:(J,Z,r)=>{r.d(Z,{T:()=>g});var e=r(67),f=r(6223),t=r(9291),v=r(6814),_=r(3714),T=r(3999);function P(c,x){1&c&&t._UZ(0,"i",6)}function O(c,x){if(1&c&&(t.TgZ(0,"label"),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"translate"),t.TgZ(4,"span",4),t.YNc(5,P,1,0,"i",5),t.qZA()()),2&c){const m=t.oxw();t.xp6(1),t.hij("",t.lcZ(2,2,t.lcZ(3,4,m.text))," "),t.xp6(4),t.Q6J("ngIf",m.control&&(null==m.control.errors?null:m.control.errors.required))}}function y(c,x){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c){const m=t.oxw();t.Tol("text-danger"),t.xp6(1),t.hij("",t.lcZ(2,3,m.object.keys(m.control.errors)[0])," ")}}function M(c,x){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&c){const m=t.oxw();t.Tol("text-danger"),t.xp6(1),t.hij("",m.control.errors.minlength.requiredLength," ")}}function S(c,x){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&c){const m=t.oxw();t.Tol("text-danger"),t.xp6(1),t.hij("",m.control.errors.maxlength.requiredLength," ")}}function w(c,x){1&c&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"must_be_invalid_email")," "))}function D(c,x){1&c&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"must_be_number_only")," "))}function N(c,x){1&c&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"invalid_name")," "))}function h(c,x){if(1&c&&(t.TgZ(0,"p"),t.YNc(1,N,3,3,"span",1),t.qZA()),2&c){const m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.object.keys(m.control.errors)[0])}}function s(c,x){1&c&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"invalid_description")," "))}function p(c,x){1&c&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"invalid_phone")," "))}function n(c,x){1&c&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"invalid_data")," "))}function b(c,x){if(1&c&&(t.TgZ(0,"span")(1,"span",7),t.YNc(2,w,3,3,"p",8),t.YNc(3,D,3,3,"p",8),t.YNc(4,h,2,1,"p",8),t.YNc(5,s,3,3,"p",8),t.YNc(6,p,3,3,"p",8),t.YNc(7,n,3,3,"p",9),t.qZA()()),2&c){const m=t.oxw();t.Tol("text-danger"),t.xp6(1),t.Q6J("ngSwitch",m.patternMessage.type),t.xp6(1),t.Q6J("ngSwitchCase","email"),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngSwitchCase","name"),t.xp6(1),t.Q6J("ngSwitchCase","description"),t.xp6(1),t.Q6J("ngSwitchCase","phone")}}let g=(()=>{class c extends e.t{constructor(m){super(),this.formGroupDirective=m,this.placeholder="",this.readOnly=!1,this.class="d-flex justify-content-between align-items-center",this.type="text",this.patternMessage={type:"text",length:1},this.object=Object}writeValue(m){this.value=m}onValueChange(m){this.onChange(m.target.value),this.onTouched()}}return c.\u0275fac=function(m){return new(m||c)(t.Y36(f.sg,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-text"]],inputs:{value:"value",text:"text",placeholder:"placeholder",readOnly:"readOnly",class:"class",type:"type",patternMessage:"patternMessage"},features:[t._Bn([{provide:f.JU,useExisting:c,multi:!0},{provide:f.Cf,useExisting:c,multi:!0}]),t.qOj],decls:8,vars:12,consts:[[3,"ngClass"],[4,"ngIf"],["pInputText","",3,"type","ngModel","placeholder","disabled","ngModelChange","input"],[3,"class",4,"ngIf"],[1,"required-aster"],["class","fa-solid fa-asterisk",4,"ngIf"],[1,"fa-solid","fa-asterisk"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(m,l){1&m&&(t.TgZ(0,"div",0),t.YNc(1,O,6,6,"label",1),t.TgZ(2,"input",2),t.NdJ("ngModelChange",function(L){return l.value=L})("input",function(L){return l.onValueChange(L)}),t.ALo(3,"translate"),t.qZA(),t.YNc(4,y,3,5,"span",3),t.YNc(5,M,2,3,"span",3),t.YNc(6,S,2,3,"span",3),t.YNc(7,b,8,8,"span",3),t.qZA()),2&m&&(t.Q6J("ngClass",l.class),t.xp6(1),t.Q6J("ngIf",l.text),t.xp6(1),t.Q6J("type",l.type)("ngModel",l.value)("placeholder",t.lcZ(3,10,l.placeholder))("disabled",l.readOnly),t.xp6(2),t.Q6J("ngIf",l.control&&l.control.errors&&"pattern"!=l.object.keys(l.control.errors)[0]&&(l.control.touched||l.formGroupDirective.submitted)),t.xp6(1),t.Q6J("ngIf",l.control&&l.control.errors&&"minlength"==l.object.keys(l.control.errors)[0]&&(l.control.touched||l.formGroupDirective.submitted)),t.xp6(1),t.Q6J("ngIf",l.control&&l.control.errors&&"maxlength"==l.object.keys(l.control.errors)[0]&&(l.control.touched||l.formGroupDirective.submitted)),t.xp6(1),t.Q6J("ngIf",l.control&&l.control.errors&&"pattern"==l.object.keys(l.control.errors)[0]&&(l.control.touched||l.formGroupDirective.submitted)))},dependencies:[v.mk,v.O5,v.RF,v.n9,v.ED,f.Fj,f.JJ,f.On,_.o,v.rS,T.X$],styles:[".text-danger[_ngcontent-%COMP%]{font-size:14px}"]}),c})()},359:(J,Z,r)=>{r.d(Z,{Q:()=>h});var e=r(9291),f=r(6814),t=r(3999);function v(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.changePage(g.page-1))}),e._UZ(1,"i",13),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"prev")," "))}function _(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.changePage(1))}),e._uU(1),e.qZA()}if(2&s){const n=e.oxw(2);e.Q6J("disabled",1==n.page),e.xp6(1),e.hij(" ",1," ")}}function T(s,p){1&s&&(e.TgZ(0,"span",15),e._uU(1," ..."),e.qZA())}function P(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.changePage(g.page-2))}),e._uU(1),e.qZA()}if(2&s){const n=e.oxw(2);e.Q6J("disabled",1==n.page),e.xp6(1),e.hij(" ",n.page-2," ")}}function O(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.changePage(g.page-1))}),e._uU(1),e.qZA()}if(2&s){const n=e.oxw(2);e.Q6J("disabled",1==n.page),e.xp6(1),e.hij(" ",n.page-1," ")}}function y(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.changePage(g.page+1))}),e._uU(1),e.qZA()}if(2&s){const n=e.oxw(2);e.Q6J("disabled",n.page==n.totalPages),e.xp6(1),e.hij(" ",n.page+1," ")}}function M(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.changePage(g.page+2))}),e._uU(1),e.qZA()}if(2&s){const n=e.oxw(2);e.Q6J("disabled",n.page==n.totalPages),e.xp6(1),e.hij(" ",n.page+2," ")}}function S(s,p){1&s&&(e.TgZ(0,"span",15),e._uU(1," ..."),e.qZA())}function w(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.changePage(g.totalPages))}),e._uU(1),e.qZA()}if(2&s){const n=e.oxw(2);e.Q6J("disabled",n.page==n.totalPages),e.xp6(1),e.hij(" ",n.totalPages," ")}}function D(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.changePage(g.page+1))}),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",16),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"next")," "))}function N(s,p){if(1&s&&(e.TgZ(0,"div",1)(1,"p",2),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"nav",3)(8,"ul",4)(9,"li",5),e.YNc(10,v,4,3,"button",6),e.qZA(),e.TgZ(11,"li",7),e.YNc(12,_,2,2,"button",8),e.YNc(13,T,2,0,"span",9),e.YNc(14,P,2,2,"button",8),e.YNc(15,O,2,2,"button",8),e.TgZ(16,"span",10)(17,"button",11),e._uU(18),e.qZA()(),e.YNc(19,y,2,2,"button",8),e.YNc(20,M,2,2,"button",8),e.YNc(21,S,2,0,"span",9),e.YNc(22,w,2,2,"button",8),e.qZA(),e.TgZ(23,"li",5),e.YNc(24,D,4,3,"button",6),e.qZA()()()()),2&s){const n=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,13,e.lcZ(4,15,"total_items"))," "),e.xp6(4),e.Oqu(n.total),e.xp6(4),e.Q6J("ngIf",n.page>1),e.xp6(2),e.Q6J("ngIf",n.page>3),e.xp6(1),e.Q6J("ngIf",n.page>3),e.xp6(1),e.Q6J("ngIf",n.page>2),e.xp6(1),e.Q6J("ngIf",1!=n.page),e.xp6(3),e.Oqu(n.page),e.xp6(1),e.Q6J("ngIf",n.page!=n.totalPages),e.xp6(1),e.Q6J("ngIf",n.page!=n.totalPages&&n.page!=n.totalPages-1),e.xp6(1),e.Q6J("ngIf",n.page!=n.totalPages&&n.page!=n.totalPages-1&&n.page!=n.totalPages-2),e.xp6(1),e.Q6J("ngIf",n.page!=n.totalPages&&n.page!=n.totalPages-1&&n.page!=n.totalPages-2),e.xp6(2),e.Q6J("ngIf",n.page!=n.totalPages)}}let h=(()=>{class s{constructor(){this.total=0,this.onPaginationChange=new e.vpe,this.rppOptions=[{label:"10",value:10},{label:"30",value:30},{label:"40",value:40}],this.rpp=this.rppOptions[0].value,this.page=1,this.totalPages=0,this.totalClipPages=0}getPage(){return this.page}setTotal(n){this.total=n,this.totalPages=Math.ceil(this.total/this.rpp),this.totalClipPages=Math.ceil(this.totalPages-(this.totalPages-(this.page+1))/2)}changeRPP(){this.page=1,this.onPaginationChange.next({page:this.page,limit:this.rpp})}changePage(n){this.page=n,this.onPaginationChange.next({page:this.page,limit:this.rpp})}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["ukt-pagination"]],inputs:{total:"total",rppOptions:"rppOptions"},outputs:{onPaginationChange:"onPaginationChange"},decls:1,vars:1,consts:[["class","pagination d-flex align-items-center ",4,"ngIf"],[1,"pagination","d-flex","align-items-center"],[1,"total_items"],["aria-label","Page navigation "],[1,"pagination","d-flex","justify-content-between"],[1,"page-item","mx-3"],["class","btn btn-light border-1",3,"click",4,"ngIf"],[1,"page-item","d-flex","gap-3"],["class","btn btn-light border-1",3,"disabled","click",4,"ngIf"],["class","fw-bold mx-2",4,"ngIf"],[1,"page-item"],["disabled","",1,"page-link","rounded","border-1","active"],[1,"btn","btn-light","border-1",3,"click"],[1,"fa-solid","fa-arrow-left","mx-1"],[1,"btn","btn-light","border-1",3,"disabled","click"],[1,"fw-bold","mx-2"],[1,"fa-solid","fa-arrow-right","mx-1"]],template:function(n,b){1&n&&e.YNc(0,N,25,17,"div",0),2&n&&e.Q6J("ngIf",0!=b.totalPages)},dependencies:[f.O5,f.rS,t.X$],styles:[".total_items[_ngcontent-%COMP%]{font-size:14px;margin-top:4px}.total_items[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:1px solid var(--mainColor);padding:5px 10px;border-radius:4px}"]}),s})()},2115:(J,Z,r)=>{r.d(Z,{u:()=>v});var e=r(6814),f=r(3999),t=r(9291);let v=(()=>{class _{}return _.\u0275fac=function(P){return new(P||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({imports:[e.ez,f.aw]}),_})()},8096:(J,Z,r)=>{r.d(Z,{J:()=>T});var e=r(6814),f=r(9624),t=r(4413),v=r(3999),_=r(9291);let T=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=_.oAB({type:P}),P.\u0275inj=_.cJS({imports:[e.ez,f.U,t.e,v.aw]}),P})()}}]);