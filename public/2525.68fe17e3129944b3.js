"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[2525],{9558:(y,g,n)=>{n.d(g,{t:()=>s});const s={api:{create:"groupType/create",get:"groupType",getById:"groupType/",update:"groupType/update/",delete:"groupType/"},page:{listGroupsType:"",updateGroupsType:"",viewGroupsType:"",createGroupsType:""}}},3641:(y,g,n)=>{n.d(g,{l:()=>s});const s={api:{create:"group/create",get:"group",getById:"group/",update:"group/update/",delete:"group/",exportExample:"group/export/example",exportCsv:"group/export/csv",exportPdf:"group/export/pdf",importGroup:"group/import/csv"},page:{listGroupsType:"",updateGroupsType:"",viewGroupsType:"",createGroupsType:""}}},2540:(y,g,n)=>{n.d(g,{Q:()=>x});var s=n(5861),h=n(5619),l=n(9558),u=n(6223),t=n(9291),f=n(8763),m=n(5118),e=n(6814),_=n(8614),b=n(1771),O=n(4779),M=n(3999);function Z(c,i){if(1&c&&(t.TgZ(0,"div",18),t._uU(1),t.qZA()),2&c){const r=i.$implicit;t.xp6(1),t.hij(" ",r.value," ")}}const L=function(){return{type:"number",length:1}};function D(c,i){1&c&&(t.TgZ(0,"div",19),t._UZ(1,"app-text",20),t.qZA()),2&c&&(t.xp6(1),t.Tol("d-flex flex-column justify-content-between "),t.Q6J("patternMessage",t.DdM(4,L))("type","text"))}const N=function(){return{type:"name",length:2}};let P=(()=>{class c{constructor(r,o,a,p,d){this.toastr=r,this.dialogRef=o,this.formBuilder=a,this.groupTypeService=p,this.config=d,this.formGroup=this.initForm(),this.isLoading=!1,this.config.data?.data&&this.fillDataToUpdate()}initForm(){return this.formBuilder.group({id:[Number],name:["",[u.kI.required]],code:[""]})}cancel(r){this.dialogRef.close(r)}onSubmit(){this.formGroup.invalid||(this.isLoading=!0,this.config.data.data?this.groupTypeService.update(this.formGroup.value).subscribe(r=>{this.toastr.success(r.message),this.errors={},this.isLoading=!1,this.cancel(!0)},r=>{this.errors=r.error.errors,this.toastr.error(r.error.message),this.isLoading=!1}):this.groupTypeService.addGroupType(this.formGroup.value).subscribe(r=>{this.toastr.success(r.message),this.errors={},this.isLoading=!1,this.cancel(!0)},r=>{this.errors=r.error.errors,this.isLoading=!1}))}fillDataToUpdate(){this.formGroup.patchValue({id:this.config.data.data.id,name:this.config.data.data.name,code:this.config.data.data.code})}}return c.\u0275fac=function(r){return new(r||c)(t.Y36(f._W),t.Y36(m.E7),t.Y36(u.qu),t.Y36(x),t.Y36(m.S))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-new-group-type"]],decls:22,vars:17,consts:[[1,"main"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","assets/Tabs/Icon/Active/craete-bank.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title"],[1,"form"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],["text","type_name","formControlName","name","ngDefaultControl","","placeholder","",3,"patternMessage","type"],["class","my-3",4,"ngIf"],[1,"footer"],[1,"cancel"],[1,"btn-cancel",3,"text","click"],[1,"create"],[3,"text","click"],[1,"text-error"],[1,"my-3"],["text","code","formControlName","code","ngDefaultControl","","placeholder","",3,"patternMessage","type"]],template:function(r,o){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"span",5),t.NdJ("click",function(){return o.cancel(!1)}),t._UZ(6,"i",6),t.qZA()(),t.TgZ(7,"p",7),t._uU(8),t.ALo(9,"titlecase"),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"div",8)(12,"app-form",9),t.NdJ("onSubmit",function(){return o.onSubmit()}),t.YNc(13,Z,2,1,"div",10),t.ALo(14,"keyvalue"),t._UZ(15,"app-text",11),t.YNc(16,D,2,5,"div",12),t.TgZ(17,"div",13)(18,"div",14)(19,"app-button",15),t.NdJ("click",function(){return o.cancel(!1)}),t.qZA()(),t.TgZ(20,"div",16)(21,"app-button",17),t.NdJ("click",function(){return o.onSubmit()}),t.qZA()()()()()()),2&r){let a;t.xp6(8),t.Oqu(t.lcZ(9,10,t.lcZ(10,12,null!==(a=o.config.header)&&void 0!==a?a:""))),t.xp6(4),t.Q6J("formGroup",o.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,14,o.errors)),t.xp6(2),t.Tol("d-flex flex-column justify-content-between "),t.Q6J("patternMessage",t.DdM(16,N))("type","text"),t.xp6(1),t.Q6J("ngIf","update_group_type"==o.config.header),t.xp6(3),t.Q6J("text","Cancel"),t.xp6(2),t.Q6J("text",o.config.data.acceptLabel)}},dependencies:[e.sg,e.O5,u.Fj,u.JJ,u.JL,u.sg,u.u,_.T,b.U,O.r,e.rS,e.Nd,M.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{padding:0 10px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:1rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor);margin:2rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--red)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin:1rem 0;gap:20px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{width:50%;padding-right:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]     app-submit-btn .submit-btn{background-color:var(--white);color:var(--mainColor);max-width:100%}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{width:50%;padding-left:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]     app-submit-btn .submit-btn{margin:0!important;max-width:100%}"]}),c})();var G=n(1732),w=n(3562);let x=(()=>{class c{constructor(r,o,a){this.http=r,this.dynamicDialog=o,this.toastr=a,this.latestGroupType=new h.X([])}getGroupType(r){return this.http.get(l.t.api.get)}getGroupTypeById(r){return this.http.get(l.t.api.getById+r)}getLatestRoles(){return this.latestGroupType}setLatestRoles(r){return this.latestGroupType.next(r)}addGroupType(r){return this.http.post(l.t.api.create,r)}openDialogToCreateGroupType(r){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_group_type",data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},P)}deleteGroupType(r,o,a){var p=this;return(0,s.Z)(function*(){const d={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...r}},width:"480px",height:"164px"};if(!(yield p.dynamicDialog.confirm(d)))return!1;try{const C=yield p.http.delete(l.t.api.delete+r.id).toPromise();return p.toastr.success(C.message),C}catch(C){throw p.toastr.error(C.error.message),C}})()}openDialogToUpdate(r,o,a){var p=this;return(0,s.Z)(function*(){const d={showHeader:!1,header:"update_group_type",data:{acceptLabel:"update",rejectLabel:"Cancel",data:{...r}},width:"480px",height:"auto"};return yield p.dynamicDialog.showDialogWithComponent(d,P)})()}update(r,o){return this.http.post(l.t.api.update+r.id,r)}}return c.\u0275fac=function(r){return new(r||c)(t.LFG(G.O),t.LFG(w.U),t.LFG(f._W))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},2525:(y,g,n)=>{n.d(g,{l:()=>c});var s=n(5861),h=n(5619),l=n(3641),u=n(8763),t=n(6223),f=n(8645),m=n(9773),e=n(9291),_=n(5118),b=n(2540),O=n(6814),M=n(3999),Z=n(8614),L=n(3838),D=n(1771),N=n(4779);function P(i,r){if(1&i&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&i){const o=r.$implicit;e.xp6(1),e.hij(" ",o.value," ")}}let G=(()=>{class i{constructor(o,a,p,d,v,C){this.groupService=o,this.fb=a,this.toastr=p,this.dialogRef=d,this.config=v,this.groupTypeService=C,this.unsubscribe=new f.x,this.formGroup=this.initForm(),this.isLoading=!1,this.config.data?.data&&this.fillDataToUpdate()}ngOnInit(){this.groupTypeService.getGroupType().pipe((0,m.R)(this.unsubscribe)).subscribe({next:o=>{this.allGroupType=o.data},error:o=>{},complete:()=>{}})}initForm(){return this.fb.group({id:[Number],name:["",[t.kI.required]],group_type_id:["",[t.kI.required]]})}cancel(o){this.dialogRef.close(o)}accept(){this.formGroup.invalid||(this.isLoading=!0,this.config?.data?.data?this.groupService.update(this.formGroup.value).subscribe(o=>{this.toastr.success(o.message),this.errors={},this.isLoading=!1,this.cancel(!0)},o=>{this.errors=o.error.errors,this.isLoading=!1}):this.groupService.addGroup(this.formGroup.value).subscribe(o=>{this.toastr.success(o.message),this.errors={},this.isLoading=!1,this.cancel(!0)},o=>{this.errors=o.error.errors,this.isLoading=!1}))}fillDataToUpdate(){this.formGroup.patchValue({id:this.config.data.data.id,name:this.config.data.data.name,group_type_id:this.config.data?.data?.group_type_id})}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(c),e.Y36(t.qu),e.Y36(u._W),e.Y36(_.E7),e.Y36(_.S),e.Y36(b.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-new-group"]],decls:24,vars:22,consts:[[1,"main"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","assets/Tabs/Icon/Active/craete-bank.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title"],[1,"form"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],[1,"mb-4"],["text","name","formControlName","name","ngDefaultControl","","placeholder","",3,"type"],[1,"mp-4"],["formControlName","group_type_id",3,"filter","text","data","optionLabel","optionValue","placeholder"],[1,"footer"],[1,"cancel"],[1,"btn-cancel",3,"text","click"],[1,"create"],["translate","",3,"text","click"],[1,"text-error"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"span",5),e.NdJ("click",function(){return a.cancel(!1)}),e._UZ(6,"i",6),e.qZA()(),e.TgZ(7,"p",7),e._uU(8),e.ALo(9,"titlecase"),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",8)(12,"app-form",9),e.NdJ("onSubmit",function(){return a.accept()}),e.YNc(13,P,2,1,"div",10),e.ALo(14,"keyvalue"),e.TgZ(15,"div",11),e._UZ(16,"app-text",12),e.qZA(),e.TgZ(17,"div",13),e._UZ(18,"app-dropdown",14),e.qZA(),e.TgZ(19,"div",15)(20,"div",16)(21,"app-button",17),e.NdJ("click",function(){return a.cancel(!1)}),e.qZA()(),e.TgZ(22,"div",18)(23,"app-button",19),e.NdJ("click",function(){return a.accept()}),e.qZA()()()()()()),2&o){let p;e.xp6(8),e.Oqu(e.lcZ(9,16,e.lcZ(10,18,null!==(p=a.config.header)&&void 0!==p?p:""))),e.xp6(4),e.Q6J("formGroup",a.formGroup),e.xp6(1),e.Q6J("ngForOf",e.lcZ(14,20,a.errors)),e.xp6(3),e.Tol("d-flex flex-column justify-content-between "),e.Q6J("type","text"),e.xp6(2),e.Tol(""),e.Q6J("filter",!0)("text","type")("data",a.allGroupType)("optionLabel","name")("optionValue","id")("placeholder","select"),e.xp6(3),e.Q6J("text","Cancel"),e.xp6(2),e.Q6J("text",null==a.config.data?null:a.config.data.acceptLabel)}},dependencies:[O.sg,t.Fj,t.JJ,t.JL,t.sg,t.u,M.Pi,Z.T,L.J,D.U,N.r,O.rS,O.Nd,M.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{padding:0 10px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:1rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor);margin:2rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--red)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:1.6rem;background-color:var(--white);border:1px solid var(--mainColor);margin:1rem 0;height:50px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin:1rem 0;gap:20px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{width:50%;padding-right:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]     app-submit-btn .submit-btn{background-color:var(--white);color:var(--mainColor);max-width:100%}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{width:50%;padding-left:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]     app-submit-btn .submit-btn{margin:0!important;max-width:100%}"]}),i})();var w=n(1732),x=n(3562);let c=(()=>{class i{constructor(o,a,p){this.http=o,this.dynamicDialog=a,this.toastr=p,this.latestGroup=new h.X([])}getGroup(o){return this.http.get(l.l.api.get)}getGroupTypeById(o){return this.http.get(l.l.api.getById+o)}getLatestRoles(){return this.latestGroup}setLatestRoles(o){return this.latestGroup.next(o)}addGroup(o){return this.http.post(l.l.api.create,o)}openDialogToCreateGroup(){var o=this;return(0,s.Z)(function*(){return yield o.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_group",data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},G)})()}deleteGroup(o,a,p){var d=this;return(0,s.Z)(function*(){const v={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...o}},width:"480px",height:"164px"};if(!(yield d.dynamicDialog.confirm(v)))return!1;try{const T=yield d.http.delete(l.l.api.delete+o.id).toPromise();return d.toastr.success(T.message),T}catch(T){throw d.toastr.error(T.error.message),T}})()}openDialogToUpdate(o,a,p){var d=this;return(0,s.Z)(function*(){const v={showHeader:!1,header:"update_group",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...o}},width:"480px",height:"auto"};return yield d.dynamicDialog.showDialogWithComponent(v,G)})()}update(o,a){return this.http.post(l.l.api.update+o.id,o)}exportGroupsCsv(){return this.http.get(l.l.api.exportCsv)}exportExample(){return this.http.get(l.l.api.exportExample)}exportGroupsPdf(){return this.http.get(l.l.api.exportPdf)}importGroup(o){return this.http.post(l.l.api.importGroup,o)}}return i.\u0275fac=function(o){return new(o||i)(e.LFG(w.O),e.LFG(x.U),e.LFG(u._W))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},1771:(y,g,n)=>{n.d(g,{U:()=>u});var s=n(9291),h=n(6223);const l=["*"];let u=(()=>{class t{constructor(){this.onSubmit=new s.vpe}ngOnChanges(m){}getFormData(){return"function"==typeof this.formData?this.formData(this.formGroup.value):{...this.formGroup.value}}reset(){this.formGroup.reset()}submit(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const m=this.getFormData();this.onSubmit.emit(m)}ngAfterContentInit(){}ngAfterContentChecked(){}ngOnDestroy(){}}return t.\u0275fac=function(m){return new(m||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-form"]],inputs:{formGroup:"formGroup",formData:"formData"},outputs:{onSubmit:"onSubmit"},features:[s.TTD],ngContentSelectors:l,decls:2,vars:1,consts:[[3,"formGroup","ngSubmit"]],template:function(m,e){1&m&&(s.F$t(),s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return e.submit()}),s.Hsn(1),s.qZA()),2&m&&s.Q6J("formGroup",e.formGroup)},dependencies:[h._Y,h.JL,h.sg]}),t})()},9773:(y,g,n)=>{n.d(g,{R:()=>t});var s=n(9360),h=n(8251),l=n(4829),u=n(2420);function t(f){return(0,s.e)((m,e)=>{(0,l.Xf)(f).subscribe((0,h.x)(e,()=>e.complete(),u.Z)),!e.closed&&m.subscribe(e)})}}}]);