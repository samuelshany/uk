"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[7506],{7506:(k,m,r)=>{r.r(m),r.d(m,{OrderTrackingModule:()=>K});var i=r(6814),u=r(2954),t=r(9291),f=r(5861),s=function(e){return e.create="Create Unit",e.view="View Unit",e.edit="Edit Unit",e.delete="Delete Unit",e}(s||{});const g=e=>{return{cols:[{field:"id",label:"code",class:""},{field:"customer_name",label:"customer_name",format:o=>o.customer_name?o.customer_name:"-"},{field:"delivery_date",label:"delivery_date",format:o=>o.delivery_date?o.delivery_date:"-"},{field:"quantity",label:"quantity",format:o=>o.quantity?o.quantity:"-"},{field:"note",label:"note",format:o=>o.note?o.note:"-"},{field:"total_amount",label:"total_amount",format:o=>o.total_amount?o.total_amount:"-"},{field:"status",label:"status",custom_class_cel:o=>"shipped"==o.status?"status-canceled":"packed"==o.status?"status-pending":"status-approved",class:"text-center"},{label:"action",actions:[{id:s.delete,icon:"fa-solid fa-clipboard-list",class:"main-color",fun:(o=(0,f.Z)(function*(n){return yield e.orderTrackingService.openDialogToUpdate(n)}),function(a){return o.apply(this,arguments)})},{id:s.edit,icon:"fa-solid fa-location-dot",class:"main-color"}]}],Request:"assets/data/salesOrderData.json"};var o};var c=r(6924),p=r(5946),x=r(5219);const y_api_get="unit",y_api_update="unit/update/";var d=r(6223),F=r(8645),O=r(8763),b=r(5118),L=r(1771),D=r(3838),S=r(4779),v=r(3999);function U(e,o){if(1&e&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.value," ")}}let G=(()=>{class e{constructor(n,a,l,T,C){this.fb=n,this.toaster=a,this.orderTrackingService=l,this.config=T,this.dialogRef=C,this.options=[{name:"approved",id:"approved"},{name:"packed",id:"packed"},{name:"delivered",id:"delivered"},{name:"shipped",id:"shipped"}],this.unsubscribe=new F.x,this.formGroup=this.initForm(),this.config.data?.data&&this.fillDataToUpdate()}ngOnInit(){}reject(n){this.dialogRef.close(n)}initForm(){return this.fb.group({id:[Number],status:["",[d.kI.required,d.kI.minLength(1)]]})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():this.config.data.data&&this.orderTrackingService.update(this.formGroup.value).subscribe(n=>{this.toaster.success(n.message),this.dialogRef.close(!0)},n=>{this.errors=n.error.errors})}fillDataToUpdate(){this.formGroup.patchValue({id:this.config.data.data?.id,status:this.config.data.data?.status})}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.qu),t.Y36(O._W),t.Y36(Z),t.Y36(b.S),t.Y36(b.E7))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-order-tracking"]],decls:21,vars:22,consts:[[1,"main"],[1,"pb-3"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","../assets/Tabs/Icon/Active/purchase -2.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title","pb-2","fs-2"],[3,"formGroup"],["class","text-error",4,"ngFor","ngForOf"],[1,"row"],["ngDefaultControl","","formControlName","status",3,"text","data","optionValue","placeholder","optionLabel"],[1,"row","g-2","my-2"],[1,"col-6"],[3,"text","click"],[1,"text-error"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"span",5),t.NdJ("click",function(){return a.reject(!1)}),t._UZ(6,"i",6),t.qZA()(),t.TgZ(7,"p",7),t._uU(8),t.ALo(9,"titlecase"),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"app-form",8),t.YNc(12,U,2,1,"p",9),t.ALo(13,"keyvalue"),t.TgZ(14,"div",10),t._UZ(15,"app-dropdown",11),t.qZA(),t.TgZ(16,"div",12)(17,"div",13)(18,"app-button",14),t.NdJ("click",function(){return a.reject(!1)}),t.qZA()(),t.TgZ(19,"div",13)(20,"app-button",14),t.NdJ("click",function(){return a.accept()}),t.qZA()()()()()()),2&n&&(t.xp6(8),t.Oqu(t.lcZ(9,16,t.lcZ(10,18,"order_status"))),t.xp6(3),t.Q6J("formGroup",a.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(13,20,a.errors)),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","status")("data",a.options)("optionValue","id")("placeholder","select")("optionLabel","name"),t.xp6(3),t.Tol("btn-cancel"),t.Q6J("text","Cancel"),t.xp6(2),t.Tol("btn-filter"),t.Q6J("text",null==a.config.data?null:a.config.data.acceptLabel))},dependencies:[i.sg,L.U,d.Fj,d.JJ,d.JL,d.sg,d.u,D.J,S.r,i.rS,i.Nd,v.X$]}),e})();var J=r(1732),E=r(3562);let Z=(()=>{class e{constructor(n,a,l){this.http=n,this.dynamicDialog=a,this.toastr=l}get(n){return this.http.get(y_api_get)}openDialogToUpdate(n){var a=this;return(0,f.Z)(function*(){const l={showHeader:!1,header:"update_unit",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...n}},height:"330px",width:"auto"};return yield a.dynamicDialog.showDialogWithComponent(l,G)})()}update(n){return this.http.post(y_api_update+n.id,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(J.O),t.LFG(E.U),t.LFG(O._W))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var j=r(2377),M=r(359),I=r(5077),Q=r(4811);let N=(()=>{class e{constructor(n){this.orderTrackingService=n,this.tableConfig=g(this),this.filtersConfig=[{field:"search",label:"search",type:c.W.TEXT,placeholder:"search"}],this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"Name",field:"name"},{label:"code",field:"id"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:p.q.asc,field:p.q.asc},{label:p.q.desc,field:p.q.desc}]}],this.permissions=s,this.icon=x.dv}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-order-tracking"]],decls:16,vars:11,consts:[[1,"page-card"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"title"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"tableConfig","pagination","filter","sort"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",3),t._UZ(7,"ukt-sort",4,5)(9,"ukt-filter",6,7),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-table",9),t.qZA(),t.TgZ(13,"div",10),t._UZ(14,"ukt-pagination",null,11),t.qZA()()),2&n){const l=t.MAs(8),T=t.MAs(10),C=t.MAs(15);t.xp6(3),t.Oqu(t.lcZ(4,7,t.lcZ(5,9,"order_tracking_list"))),t.xp6(4),t.Q6J("SortConfig",a.sortConfig),t.xp6(2),t.Q6J("config",a.filtersConfig),t.xp6(3),t.Q6J("tableConfig",a.tableConfig)("pagination",C)("filter",T)("sort",l)}},dependencies:[j.a,M.Q,I.z,Q.x,i.rS,v.X$]}),e})();const R=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-tracking"]],decls:1,vars:0,template:function(n,a){1&n&&t._UZ(0,"app-list-order-tracking")},dependencies:[N]}),e})()}];let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(R),u.Bz]}),e})();var B=r(1471),X=r(2115),V=r(4413),W=r(1890),z=r(1019),$=r(8096),H=r(1383);let K=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.ez,Y,B.X,X.u,V.e,W.f,z.i,$.J,v.aw,H.m]}),e})()},1771:(k,m,r)=>{r.d(m,{U:()=>f});var i=r(9291),u=r(6223);const t=["*"];let f=(()=>{class s{constructor(){this.onSubmit=new i.vpe}ngOnChanges(c){}getFormData(){return"function"==typeof this.formData?this.formData(this.formGroup.value):{...this.formGroup.value}}reset(){this.formGroup.reset()}submit(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const c=this.getFormData();this.onSubmit.emit(c)}ngAfterContentInit(){}ngAfterContentChecked(){}ngOnDestroy(){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-form"]],inputs:{formGroup:"formGroup",formData:"formData"},outputs:{onSubmit:"onSubmit"},features:[i.TTD],ngContentSelectors:t,decls:2,vars:1,consts:[[3,"formGroup","ngSubmit"]],template:function(c,h){1&c&&(i.F$t(),i.TgZ(0,"form",0),i.NdJ("ngSubmit",function(){return h.submit()}),i.Hsn(1),i.qZA()),2&c&&i.Q6J("formGroup",h.formGroup)},dependencies:[u._Y,u.JL,u.sg]}),s})()}}]);