"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[4346],{4346:(P,h,r)=>{r.r(h),r.d(h,{ProjectsModule:()=>Ee});var a=r(6814),d=r(8209);const l_api_create="projects/create",l_api_get="assets/data/projects.json",l_api_update="projects/update/",l_api_delete="projects/";var m=function(n){return n.create="dashboard",n.view="dashboard",n.edit="dashboard",n.delete="dashboard",n}(m||{}),Z=r(5219),u=r(6924),_=r(8718),C=r(5946),e=r(9291),c=r(5861),s=r(6223),j=r(8645),v=r(9773),b=r(8763),w=r(1771),M=r(8614),L=r(3838),V=r(6098),N=r(5253),J=r(4896),y=r(4779),O=r(3999);function D(n,i){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"app-button",38),e.qZA()),2&n&&(e.xp6(1),e.Q6J("text","update_attachment")("iconPos","left")("icon","fa-solid fa-check"))}function I(n,i){if(1&n&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function k(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.project_name[0])}}function F(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.project_phase[0])}}function Q(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.deduction_options[0])}}function E(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.client_infomartion[0])}}function Y(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.start_date[0])}}function S(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.end_date[0])}}function G(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.project_description[0])}}function R(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.downpayment_option[0])}}function B(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.suppliers[0])}}function W(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.assigned_engineer[0])}}function K(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.milestones[0])}}function z(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.estimated_cost_for_resource[0])}}function X(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.assigned_budget[0])}}function H(n,i){if(1&n&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.downpayment[0])}}let U=(()=>{class n{constructor(t,o,g,T){this.fb=t,this.toaster=o,this.projectsService=g,this.route=T,this.unsubscribe=new j.x,this.formGroup=this.initForm(),this.isLoading=!1,this.projects=[]}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.title="update_journal_entry",this.route.data.pipe((0,v.R)(this.unsubscribe)).subscribe({next:t=>{this.data=t,this.fillDataToUpdate()},error:t=>{}}))}reject(t){}onSubmit(){}initForm(){return this.fb.group({id:[Number],project_name:["",s.kI.required],project_phase:["",s.kI.required],start_date:["",s.kI.required],end_date:["",s.kI.required],client_infomation:[Number,s.kI.required],deduction_options:["",s.kI.required],downpayment_option:["",s.kI.required],downpayment:["",s.kI.required],project_description:["",s.kI.required],assigned_engineer:["",s.kI.required],assigned_budget:["",s.kI.required],estimated_cost_for_resource:["",s.kI.required],suppliers:["",s.kI.required],milestones:["",s.kI.required]})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():(this.isLoading=!0,this.data?this.projectsService.update(this.formGroup.value).subscribe(t=>{this.toaster.success(t.message)},t=>{this.errors=t.error.errors,this.isLoading=!1}):this.projectsService.create(this.formGroup.value).subscribe(t=>{this.toaster.success(t.message)},t=>{this.errors=t.error.errors,this.isLoading=!1}))}fillDataToUpdate(){this.formGroup.patchValue({id:this.data?.id,project_name:this.data?.project_name,project_phase:this.data?.project_phase,start_date:this.data?.start_date,client_infomation:this.data?.client_infomation,end_date:this.data?.end_date,deduction_options:this.data?.deduction_options,downpayment_option:this.data?.downpayment_option,assigned_budget:this.data?.assigned_budget,assigned_engineer:this.data?.assigned_engineer,milestones:this.data?.milestones,suppliers:this.data?.suppliers,estimated_cost_for_resource:this.data?.estimated_cost_for_resource,project_description:this.data?.project_description})}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(b._W),e.Y36(q),e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-project"]],decls:128,vars:143,consts:[[1,"container-sm","main","rounded"],[1,"header","row","justify-content-between","align-items-center"],["routerLink","/key/accounting/journal-entry",1,"title","pointer","col-md-6"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"d-flex","align-items-center","justify-content-end","g-2","col-md-6"],["class","px-1",4,"ngIf"],[1,"px-1"],["routerLink","/key/accounting/journal-entry",1,"btn-cancel",3,"iconPos","icon","text"],[1,"btn-filter",3,"text","iconPos","icon","click"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"fw-bold","mb-4"],[1,"col-md-4","col-12"],["formControlName","project_name","ngDefaultControl","",3,"type","text","placeholder"],["class","error",4,"ngIf"],["formControlName","project_phase","ngDefaultControl","","placeholder","",3,"text"],["formControlName","deduction_options","ngDefaultControl","",3,"text"],["formControlNames","client_information","ngDefaultControl","",3,"text"],["formControlName","start_date","ngDefaultControl","",3,"text","placeholder"],["formControlName","end_date","ngDefaultControl","",3,"text","placeholder"],[1,"col-12"],["formControlName","project_description","ngDefaultControl","","placeholder","",3,"type","text"],["formControlName","downpayment_option","ngDefaultControl","",3,"text","placeholder"],["formControlName","suppliers","ngDefaultControl","",3,"text","placeholder"],["formControlName","assigned_engineer","ngDefaultControl","","placeholder","",3,"text"],["formControlName","milestones","ngDefaultControl","","placeholder","Milestones",3,"type","text"],["formControlName","deadlines","ngDefaultControl","",3,"text","placeholder"],["formControlNames","estimated_cost_for_resource","ngDefaultControl","",3,"text","placeholder"],["formControlName","assigned_budget","ngDefaultControl","",3,"text","placeholder"],["formControlName","downpayment","ngDefaultControl","",3,"text","placeholder"],[1,"col-md-3","col-12"],[1,"card",2,"width","100%"],["src","assets/icons/form.svg","alt","Card image cap",1,"card-img-top","p-5",2,"width","50%","margin","auto","height","40%"],[1,"card-body","d-flex","justify-content-between"],[1,"fa","fa-xl","my-auto","fa-trash",2,"color","red"],[1,"mt-5"],["text","File Upload"],[1,"btn-cancel",3,"text","iconPos","icon"],[1,"text-error"],[1,"error"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._UZ(3,"i",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,D,2,3,"div",5),e.TgZ(7,"div",6),e._UZ(8,"app-button",7),e.qZA(),e.TgZ(9,"div",6)(10,"app-button",8),e.NdJ("click",function(){return o.accept()}),e.qZA()()()(),e.TgZ(11,"app-form",9),e.NdJ("onSubmit",function(){return o.accept()}),e.YNc(12,I,2,1,"div",10),e.ALo(13,"keyvalue"),e.TgZ(14,"div",11)(15,"h3",12),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",13),e._UZ(19,"app-text",14),e.ALo(20,"translate"),e.ALo(21,"translate"),e.YNc(22,k,2,1,"p",15),e.qZA(),e.TgZ(23,"div",13),e._UZ(24,"app-dropdown",16),e.ALo(25,"translate"),e.YNc(26,F,2,1,"p",15),e.qZA(),e.TgZ(27,"div",13),e._UZ(28,"app-dropdown",17),e.ALo(29,"translate"),e.YNc(30,Q,2,1,"p",15),e.qZA()(),e.TgZ(31,"div",11)(32,"h3",12),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"div",13),e._UZ(36,"app-dropdown",18),e.ALo(37,"translate"),e.YNc(38,E,2,1,"p",15),e.qZA(),e.TgZ(39,"div",13),e._UZ(40,"app-date",19),e.ALo(41,"translate"),e.ALo(42,"translate"),e.YNc(43,Y,2,1,"p",15),e.qZA(),e.TgZ(44,"div",13),e._UZ(45,"app-date",20),e.ALo(46,"translate"),e.ALo(47,"translate"),e.YNc(48,S,2,1,"p",15),e.qZA(),e.TgZ(49,"div",21),e._UZ(50,"app-textarea",22),e.ALo(51,"translate"),e.YNc(52,G,2,1,"p",15),e.qZA(),e.TgZ(53,"div",13),e._UZ(54,"app-dropdown",23),e.ALo(55,"translate"),e.ALo(56,"translate"),e.YNc(57,R,2,1,"p",15),e.qZA(),e.TgZ(58,"div",13),e._UZ(59,"app-dropdown",24),e.ALo(60,"translate"),e.ALo(61,"translate"),e.YNc(62,B,2,1,"p",15),e.qZA(),e.TgZ(63,"div",13),e._UZ(64,"app-dropdown",25),e.ALo(65,"translate"),e.YNc(66,W,2,1,"p",15),e.qZA(),e.TgZ(67,"div",13),e._UZ(68,"app-text",26),e.ALo(69,"translate"),e.YNc(70,K,2,1,"p",15),e.qZA(),e.TgZ(71,"div",13),e._UZ(72,"app-date",27),e.ALo(73,"translate"),e.ALo(74,"translate"),e.qZA()(),e.TgZ(75,"div",11)(76,"h3",12),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"div",13),e._UZ(80,"app-text",28),e.ALo(81,"translate"),e.ALo(82,"translate"),e.YNc(83,z,2,1,"p",15),e.qZA(),e.TgZ(84,"div",13),e._UZ(85,"app-text",29),e.ALo(86,"translate"),e.ALo(87,"translate"),e.YNc(88,X,2,1,"p",15),e.qZA(),e.TgZ(89,"div",13),e._UZ(90,"app-text",30),e.ALo(91,"translate"),e.ALo(92,"translate"),e.YNc(93,H,2,1,"p",15),e.qZA()(),e.TgZ(94,"div",11)(95,"h3",12),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"div",31)(99,"div",32),e._UZ(100,"img",33),e.TgZ(101,"div",34)(102,"h3"),e._uU(103,"File Name"),e.qZA(),e._UZ(104,"i",35),e.qZA()()(),e.TgZ(105,"div",31)(106,"div",32),e._UZ(107,"img",33),e.TgZ(108,"div",34)(109,"h3"),e._uU(110,"File Name"),e.qZA(),e._UZ(111,"i",35),e.qZA()()(),e.TgZ(112,"div",31)(113,"div",32),e._UZ(114,"img",33),e.TgZ(115,"div",34)(116,"h3"),e._uU(117,"File Name"),e.qZA(),e._UZ(118,"i",35),e.qZA()()(),e.TgZ(119,"div",31)(120,"div",32),e._UZ(121,"img",33),e.TgZ(122,"div",34)(123,"h3"),e._uU(124,"File Name"),e.qZA(),e._UZ(125,"i",35),e.qZA()()(),e.TgZ(126,"div",36),e._UZ(127,"app-file-upload",37),e.qZA()()()()),2&t&&(e.xp6(4),e.hij("","Add new Project"," "),e.xp6(2),e.Q6J("ngIf","update_journal_entry"==o.title),e.xp6(2),e.Q6J("iconPos","left")("icon","fa-solid fa-ban")("text","cancel"),e.xp6(2),e.Q6J("text","save")("iconPos","left")("icon","fa-solid fa-check"),e.xp6(1),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngForOf",e.lcZ(13,85,o.errors)),e.xp6(4),e.Oqu(e.lcZ(17,87,"project_creation")),e.xp6(3),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(20,89,"project_name")),e.s9C("placeholder",e.lcZ(21,91,"project_name")),e.Q6J("type","text"),e.xp6(3),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.project_name),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(25,93,"project_phase")),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.project_phase),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(29,95,"deduction_options")),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.deduction_options),e.xp6(3),e.Oqu(e.lcZ(34,97,"project_assignment")),e.xp6(3),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(37,99,"client_information")),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.client_information),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(41,101,"start_date")),e.s9C("placeholder",e.lcZ(42,103,"Start Date")),e.xp6(3),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.start_date),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(46,105,"end_date")),e.s9C("placeholder",e.lcZ(47,107,"End Date")),e.xp6(3),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.end_date),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(51,109,"project_description")),e.Q6J("type","text"),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.project_description),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(55,111,"Downpayment_options")),e.s9C("placeholder",e.lcZ(56,113,"Downpayment_options")),e.xp6(3),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.downpayment_option),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(60,115,"suppliers")),e.s9C("placeholder",e.lcZ(61,117,"suppliers")),e.xp6(3),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.suppliers),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(65,119,"assigned_engineer")),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.assigned_engineer),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(69,121,"milestones")),e.Q6J("type","text"),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.milestones),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(73,123,"deadlines")),e.s9C("placeholder",e.lcZ(74,125,"deadlines")),e.xp6(5),e.Oqu(e.lcZ(78,127,"budget_management")),e.xp6(3),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(81,129,"estimated_cost_for_resource")),e.s9C("placeholder",e.lcZ(82,131,"estimated_cost_for_resource")),e.xp6(3),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.estimated_cost_for_resource),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(86,133,"assigned_budget")),e.s9C("placeholder",e.lcZ(87,135,"assigned_budget")),e.xp6(3),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.assigned_budget),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(91,137,"downpayment")),e.s9C("placeholder",e.lcZ(92,139,"downpayment")),e.xp6(3),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.downpayment),e.xp6(3),e.Oqu(e.lcZ(97,141,"document_management")))},dependencies:[a.sg,a.O5,d.rH,w.U,s.Fj,s.JJ,s.JL,s.sg,s.u,M.T,L.J,V.I,N.R,J.Y,y.r,a.Nd,O.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .entry-no[_ngcontent-%COMP%]{padding-right:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{padding-left:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;padding:17px 5px;border:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background-color:var(--mainColor)!important;color:var(--white);font-size:14px;padding:10px}.col-12[_ngcontent-%COMP%]{margin-top:2rem}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:auto;font-weight:700;color:#003d5b;padding-left:15px}"]}),n})();var $=r(1732),ee=r(3562);let q=(()=>{class n{constructor(t,o,g){this.http=t,this.dynamicDialog=o,this.toastr=g}get(t){return this.http.get(l_api_get)}openDialogToCreate(){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_project",data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},U)}create(t){return this.http.post(l_api_create,t)}delete(t){var o=this;return(0,c.Z)(function*(){const g={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...t},name:"name"},width:"500px",height:"auto"};if(yield o.dynamicDialog.confirm(g))try{const x=yield o.http.delete(l_api_delete+t.id).toPromise();return o.toastr.success(x.message),x}catch(x){throw o.toastr.error(x.error.message),x}return!1})()}openDialogToUpdate(t){var o=this;return(0,c.Z)(function*(){const g={showHeader:!1,header:"update_project",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...t}},height:"330px",width:"auto"};return yield o.dynamicDialog.showDialogWithComponent(g,U)})()}update(t){return this.http.post(l_api_update+t.id,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG($.O),e.LFG(ee.U),e.LFG(b._W))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var te=r(2377),ne=r(359),oe=r(5077),ae=r(4811);let re=(()=>{class n{constructor(t){this.projectsService=t,this.tableConfig={cols:[{field:"id",label:"id",class:""},{field:"project_name",label:"project_name",class:""},{field:"project_phases",label:"Project-Phases",class:""},{field:"construction",label:"Construction",class:""},{field:"work_types",label:"work_Type",class:""},{field:"units",label:"Units",class:""},{field:"clauses",label:"clauses",format:i=>i.clauses?i.clauses:"-"},{field:"category",label:"category",format:i=>i.category?i.category:"-"},{field:"price",label:"price",format:i=>i.price?i.price:"-"},{label:"action",actions:[{id:m.delete,icon:"trash",class:"main-color"},{id:m.edit,icon:"pen-to-square",class:"main-color",route:"create"},{id:m.edit,icon:"eye",class:"main-color",route:"view"},{id:m.edit,icon:"copy",class:"main-color",route:"assign"}]}],Request:l_api_get},this.filtersConfig=[{field:"search",label:"search",type:u.W.TEXT,placeholder:"search"},{field:"creator_id",label:"created_by",type:u.W.SELECT,options:{value:"id",label:"name"},request:_.x.api.get,placeholder:"select"},{field:"from",label:"from",type:u.W.DATE},{field:"to",label:"to",type:u.W.DATE}],this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"Name",field:"name"},{label:"id",field:"id"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:C.q.asc,field:C.q.asc},{label:C.q.desc,field:C.q.desc}]}],this.permissions=m,this.icon=Z.dv}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-projects"]],decls:17,vars:14,consts:[[1,"page-card"],[1,"d-flex","align-items-center","justify-content-between"],[1,"title"],[1,"d-flex"],["routerLink","/key/project-management/projects/create",3,"text","icon","iconPos"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"tableConfig","pagination","filter","sort"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"app-button",4),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"ukt-sort",6,7)(10,"ukt-filter",8,9),e.qZA(),e.TgZ(12,"div",10),e._UZ(13,"app-table",11),e.qZA(),e.TgZ(14,"div",12),e._UZ(15,"ukt-pagination",null,13),e.qZA()()),2&t){const g=e.MAs(9),T=e.MAs(11),x=e.MAs(16);e.xp6(3),e.Oqu(e.lcZ(4,12,"Projects list")),e.xp6(3),e.Tol("btn-filter"),e.Q6J("text","new")("icon",o.icon.PLUS)("iconPos","left"),e.xp6(2),e.Q6J("SortConfig",o.sortConfig),e.xp6(2),e.Q6J("config",o.filtersConfig),e.xp6(3),e.Q6J("tableConfig",o.tableConfig)("pagination",x)("filter",T)("sort",g)}},dependencies:[d.rH,te.a,ne.Q,y.r,oe.z,ae.x,O.X$]}),n})(),le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-project"]],decls:127,vars:65,consts:[[1,"p-5","bg-white"],[1,"d-flex"],[1,"fw-bold","fs-1"],[1,"inventory-view-btns"],["routerLink","/key/project-management/projects/track/4",3,"text","iconPos"],[3,"text","iconPos"],[1,"row","mt-5"],[1,"my-5"],[1,"col-12","p-2","rounded-5","detail"],[1,"row"],[1,"col-12","col-md-4"],[1,"p-4"],[1,"mb-4","fs-2"],[1,"p-2"],[1,"mb-2"],[1,"mb-2","fs"],[1,"col-md-3","col-12"],[1,"card",2,"width","100%"],["src","assets/icons/form.svg","alt","Card image cap",1,"card-img-top","p-5",2,"width","50%","margin","auto","height","40%"],[1,"card-body","d-flex","justify-content-between"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"app-button",4)(7,"app-button",5),e.ALo(8,"translate"),e._UZ(9,"app-button",5),e.qZA()(),e.TgZ(10,"div",6)(11,"h2",7),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"h4",12),e._uU(19),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"div",10)(22,"div",11)(23,"h4",12),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"div",10)(27,"div",11)(28,"h4",12),e._uU(29),e.ALo(30,"translate"),e.qZA()()(),e.TgZ(31,"div",10)(32,"div",11)(33,"h4",12),e._uU(34),e.ALo(35,"translate"),e.qZA()()()()(),e.TgZ(36,"h2",7),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"div",8)(40,"div",9)(41,"div",10)(42,"div",13)(43,"h4",14),e._uU(44),e.ALo(45,"translate"),e.qZA()()(),e.TgZ(46,"div",10)(47,"div",13)(48,"h4",14),e._uU(49),e.ALo(50,"translate"),e.qZA()()(),e.TgZ(51,"div",10)(52,"div",13)(53,"h4",15),e._uU(54),e.ALo(55,"translate"),e.qZA()()(),e.TgZ(56,"div",10)(57,"div",13)(58,"h4",14),e._uU(59),e.qZA()()(),e.TgZ(60,"div",10)(61,"div",13)(62,"h4",14),e._uU(63),e.qZA()()(),e.TgZ(64,"div",10)(65,"div",13)(66,"h4",14),e._uU(67),e.qZA()()(),e.TgZ(68,"div",10)(69,"div",13)(70,"h4",14),e._uU(71),e.qZA()()(),e.TgZ(72,"div",10)(73,"div",13)(74,"h4",14),e._uU(75),e.qZA()()(),e.TgZ(76,"div",10)(77,"div",13)(78,"h4",14),e._uU(79),e.qZA()()()()(),e.TgZ(80,"h2",7),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"div",8)(84,"div",9)(85,"div",10)(86,"div",13)(87,"h4",14),e._uU(88),e.ALo(89,"translate"),e.qZA()()(),e.TgZ(90,"div",10)(91,"div",13)(92,"h4",14),e._uU(93),e.ALo(94,"translate"),e.qZA()()(),e.TgZ(95,"div",10)(96,"div",13)(97,"h4",15),e._uU(98),e.ALo(99,"translate"),e.qZA()()()()(),e.TgZ(100,"h2",7),e._uU(101),e.ALo(102,"translate"),e.qZA(),e.TgZ(103,"div",16)(104,"div",17),e._UZ(105,"img",18),e.TgZ(106,"div",19)(107,"h3"),e._uU(108,"File Name"),e.qZA()()()(),e.TgZ(109,"div",16)(110,"div",17),e._UZ(111,"img",18),e.TgZ(112,"div",19)(113,"h3"),e._uU(114,"File Name"),e.qZA()()()(),e.TgZ(115,"div",16)(116,"div",17),e._UZ(117,"img",18),e.TgZ(118,"div",19)(119,"h3"),e._uU(120,"File Name"),e.qZA()()()(),e.TgZ(121,"div",16)(122,"div",17),e._UZ(123,"img",18),e.TgZ(124,"div",19)(125,"h3"),e._uU(126,"File Name"),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,33,"Project Details")," "),e.xp6(3),e.Tol("btn-cancel d-inline-block "),e.Q6J("text","track")("iconPos","left"),e.xp6(1),e.Tol("btn-cancel d-inline-block "),e.Q6J("text",e.lcZ(8,35,"download"))("iconPos","left"),e.xp6(2),e.Tol("btn-cancel d-inline-block "),e.Q6J("text","edit")("iconPos","left"),e.xp6(3),e.Oqu(e.lcZ(13,37,"project_creation")),e.xp6(7),e.Oqu(e.lcZ(20,39,"project_name")),e.xp6(5),e.Oqu(e.lcZ(25,41,"Work_types")),e.xp6(5),e.Oqu(e.lcZ(30,43,"Construction_name")),e.xp6(5),e.Oqu(e.lcZ(35,45,"Project-phases")),e.xp6(3),e.Oqu(e.lcZ(38,47,"Project Assignment")),e.xp6(7),e.Oqu(e.lcZ(45,49,"Client Information")),e.xp6(5),e.Oqu(e.lcZ(50,51,"Downpayment Options")),e.xp6(5),e.Oqu(e.lcZ(55,53,"Assigned Engineer")),e.xp6(5),e.Oqu("1-3-2024"),e.xp6(4),e.Oqu("Suppliers"),e.xp6(4),e.Oqu("Milestones"),e.xp6(4),e.Oqu("1-3-2025"),e.xp6(4),e.Oqu("Project Description"),e.xp6(4),e.Oqu("1-5-2024"),e.xp6(2),e.Oqu(e.lcZ(82,55,"budget_management")),e.xp6(7),e.Oqu(e.lcZ(89,57,"Estimated Cost for Resources")),e.xp6(5),e.Oqu(e.lcZ(94,59,"Assigned Budget")),e.xp6(5),e.Oqu(e.lcZ(99,61,"Downpayment")),e.xp6(3),e.Oqu(e.lcZ(102,63,"document_management")))},dependencies:[d.rH,y.r,O.X$],styles:[".detail[_ngcontent-%COMP%]{background-color:var(--lightGray);padding:20px!important}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}i[_ngcontent-%COMP%]{cursor:pointer}h2[_ngcontent-%COMP%]{color:#003d5b}"]}),n})(),se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-track-project"]],decls:75,vars:36,consts:[[1,"p-5","bg-white"],[1,"d-flex"],[1,"fw-bold","fs-1"],[1,"inventory-view-btns"],["routerLink","/key/project-management/projects/track/4",3,"text","iconPos"],[3,"text","iconPos"],[1,"container","mt-5"],[1,"my-5"],[1,"row"],[1,"col-12","col-md-4"],["for",""],[1,"p-2","rounded-5","detail"],[1,"mb-2"],[1,"mb-2","fs"],[1,"table","mt-5"],["scope","col"],["scope","row"],["colspan","2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"app-button",4)(7,"app-button",5)(8,"app-button",5),e.qZA()(),e.TgZ(9,"div",6)(10,"h2",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",8)(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",11)(19,"h4",12),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"div",9)(23,"label",10),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",11)(27,"h4",12),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e.TgZ(30,"div",9)(31,"label",10),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"div",11)(35,"h4",13),e._uU(36),e.ALo(37,"translate"),e.qZA()()()(),e.TgZ(38,"table",14)(39,"thead")(40,"tr")(41,"th",15),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th",15),e._uU(44,"First"),e.qZA(),e.TgZ(45,"th",15),e._uU(46,"Last"),e.qZA(),e.TgZ(47,"th",15),e._uU(48,"Handle"),e.qZA()()(),e.TgZ(49,"tbody")(50,"tr")(51,"th",16),e._uU(52,"1"),e.qZA(),e.TgZ(53,"td"),e._uU(54,"Mark"),e.qZA(),e.TgZ(55,"td"),e._uU(56,"Otto"),e.qZA(),e.TgZ(57,"td"),e._uU(58,"@mdo"),e.qZA()(),e.TgZ(59,"tr")(60,"th",16),e._uU(61,"2"),e.qZA(),e.TgZ(62,"td"),e._uU(63,"Jacob"),e.qZA(),e.TgZ(64,"td"),e._uU(65,"Thornton"),e.qZA(),e.TgZ(66,"td"),e._uU(67,"@fat"),e.qZA()(),e.TgZ(68,"tr")(69,"th",16),e._uU(70,"3"),e.qZA(),e.TgZ(71,"td",17),e._uU(72,"Larry the Bird"),e.qZA(),e.TgZ(73,"td"),e._uU(74,"@twitter"),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,20,"Project Details")," "),e.xp6(3),e.Tol("btn-cancel d-inline-block "),e.Q6J("text","track")("iconPos","left"),e.xp6(1),e.Tol("btn-cancel d-inline-block "),e.Q6J("text","print")("iconPos","left"),e.xp6(1),e.Tol("btn-cancel d-inline-block "),e.Q6J("text","print")("iconPos","left"),e.xp6(3),e.Oqu(e.lcZ(12,22,"Reference")),e.xp6(5),e.Oqu(e.lcZ(17,24,"project_name")),e.xp6(4),e.Oqu(e.lcZ(21,26,"project_name")),e.xp6(4),e.Oqu(e.lcZ(25,28,"construction_name")),e.xp6(4),e.Oqu(e.lcZ(29,30,"construction_name")),e.xp6(4),e.Oqu(e.lcZ(33,32,"project_type")),e.xp6(4),e.Oqu(e.lcZ(37,34,"project_type")))},dependencies:[d.rH,y.r,O.X$],styles:["input[_ngcontent-%COMP%]{background-color:#d3d3d3!important}.detail[_ngcontent-%COMP%]{background-color:var(--lightGray);padding:20px!important}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}i[_ngcontent-%COMP%]{cursor:pointer}h2[_ngcontent-%COMP%]{color:#003d5b}"]}),n})();var ce=r(3012),pe=r(1556),de=r(3271),ue=r(2823),ge=r(7344),me=r(6655),fe=r(6014);function _e(n,i){if(1&n&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function he(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.project_phase[0])}}function xe(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.construction_name[0])}}function Ze(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.work_types[0])}}function ve(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.clauses[0])}}function Ce(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.units[0])}}function Te(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.category[0])}}function Ae(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.price[0])}}function je(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.quantity[0])}}function Oe(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.ratio[0])}}function Pe(n,i){if(1&n){const t=e.EpF();e.ynx(0,29),e.TgZ(1,"div",11),e._UZ(2,"app-dropdown",30),e.ALo(3,"translate"),e.YNc(4,ve,2,1,"p",13),e.qZA(),e.TgZ(5,"div",11),e._UZ(6,"app-dropdown",31),e.ALo(7,"translate"),e.YNc(8,Ce,2,1,"p",13),e.qZA(),e.TgZ(9,"div",11),e._UZ(10,"app-dropdown",32),e.ALo(11,"translate"),e.YNc(12,Te,2,1,"p",13),e.qZA(),e.TgZ(13,"div",11),e._UZ(14,"app-text",33),e.ALo(15,"translate"),e.YNc(16,Ae,2,1,"p",13),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"app-text",34),e.ALo(19,"translate"),e.YNc(20,je,2,1,"p",13),e.qZA(),e.TgZ(21,"div",11),e._UZ(22,"app-text",35),e.ALo(23,"translate"),e.YNc(24,Oe,2,1,"p",13),e.qZA(),e.TgZ(25,"h3",25),e.NdJ("click",function(){const T=e.CHM(t).index,x=e.oxw();return e.KtG(x.deleteProductFromList(T))}),e._UZ(26,"i",36),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.BQk()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(3,40,"clauses")),e.Q6J("request",o.clausesConfig.api.get)("readOnly",!0)("value",null==t.value?null:t.value.clauses),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.clauses),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(7,42,"Units")),e.Q6J("request",o.unitsConfig.api.get)("readOnly",!0)("value",null==t.value?null:t.value.units),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.units),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(11,44,"category")),e.Q6J("request",o.categoryConfig.api.get)("readOnly",!0)("value",null==t.value?null:t.value.category),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.category),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(15,46,"price")),e.Q6J("readOnly",!0)("value",null==t.value?null:t.value.price),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.price),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(19,48,"quantity")),e.Q6J("readOnly",!0)("value",null==t.value?null:t.value.quantity),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.quantity),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(23,50,"ratio")),e.Q6J("readOnly",!0)("value",null==t.value?null:t.value.ratio),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.ratio),e.xp6(3),e.hij(" ",e.lcZ(28,52,"delete"),"")}}function ye(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.clauses[0])}}function qe(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.units[0])}}function be(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.category[0])}}function Ue(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.price[0])}}function we(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.quantity[0])}}function Me(n,i){if(1&n&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.serverValidation?null:t.serverValidation.ratio[0])}}const Le=[{path:"",component:re},{path:"create",component:U},{path:"view/:id",component:le,resolve:(n,i)=>(0,e.f3M)(q).get(n.params.id)},{path:"track/:id",component:se},{path:"assign/:id",component:(()=>{class n{constructor(t,o,g,T,x){this.fb=t,this.toaster=o,this.projectsService=g,this.route=T,this.categoriesService=x,this.unsubscribe=new j.x,this.formGroup=this.initForm(),this.projectPhasesConfig=ce.N,this.constructionNameConfig=pe.N,this.workTypeConfig=de.K,this.clausesConfig=ue.N,this.categoryConfig=ge.t,this.unitsConfig=me.R,this.isLoading=!1,this.projects=[]}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.title="update_journal_entry",this.route.data.pipe((0,v.R)(this.unsubscribe)).subscribe({next:t=>{this.data=t,this.fillDataToUpdate()},error:t=>{}}))}get workClauses(){return this.formGroup.get("works")}get workClause(){return this.formGroup.get("work")}addWorkToList(){this.workClauses.push(this.fb.group({clauses:this.workClause?.value.clauses,units:this.workClause?.value.units,work_types:this.workClause?.value.work_types,price:this.workClause?.value.price,quantity:this.workClause?.value.quantity,ratio:this.workClause?.value.ratio})),this.clearProductForm()}deleteProductFromList(t){this.workClauses.controls.forEach((o,g)=>{}),this.workClauses.removeAt(t)}reject(t){}onSubmit(){}initForm(){return this.fb.group({id:[Number],project_name:["",s.kI.required],project_phase:["",s.kI.required],work_types:["",s.kI.required],works:this.fb.array([]),work:this.fb.group({category:[""],units:[""],clauses:[""],price:[""],quantity:[""],ratio:[""]})})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():(this.isLoading=!0,this.data?this.projectsService.update(this.formGroup.value).subscribe(t=>{this.toaster.success(t.message)},t=>{this.errors=t.error.errors,this.isLoading=!1}):this.projectsService.create(this.formGroup.value).subscribe(t=>{this.toaster.success(t.message)},t=>{this.errors=t.error.errors,this.isLoading=!1}))}clearProductForm(){this.workClause?.patchValue({units:"",clauses:"",category:"",price:"",ratio:"",quantity:""})}fillDataToUpdate(){this.formGroup.patchValue({id:this.data?.id,project_name:this.data?.project_name,project_phase:this.data?.project_phase,start_date:this.data?.start_date,work_types:this.data?.work_types,end_date:this.data?.end_date,deduction_options:this.data?.deduction_options,downpayment_option:this.data?.downpayment_option,assigned_budget:this.data?.assigned_budget,assigned_engineer:this.data?.assigned_engineer,milestones:this.data?.milestones,suppliers:this.data?.suppliers,estimated_cost_for_resource:this.data?.estimated_cost_for_resource,project_description:this.data?.project_description})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(b._W),e.Y36(q),e.Y36(d.gz),e.Y36(fe.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-assign-project"]],decls:62,vars:83,consts:[[1,"container-sm","main","rounded"],[1,"header","row","justify-content-between","align-items-center"],["routerLink","/key/accounting/journal-entry",1,"title","pointer","col-md-6"],[1,"d-flex","align-items-center","justify-content-end","g-2","col-md-6"],[1,"px-1"],["routerLink","/key/accounting/journal-entry",1,"btn-cancel",3,"iconPos","icon","text"],[1,"btn-filter",3,"text","iconPos","icon","click"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"fw-bold","mb-4"],[1,"col-md-4","col-12"],["optionLabel","name","optionValue","id","formControlName","project_phase","ngDefaultControl","","placeholder","",3,"request","text"],["class","error",4,"ngIf"],["optionLabel","name","optionValue","id","formControlName","construction_name","ngDefaultControl","","placeholder","",3,"request","text"],["optionLabel","name","optionValue","id","formControlName","work_types","ngDefaultControl","","placeholder","",3,"request","text"],[1,"fw-bold","my-4"],["formArrayName","works",4,"ngFor","ngForOf"],["formGroupName","work",1,"row","mt-4"],["optionLabel","name","optionValue","id","formControlName","clauses","ngDefaultControl","","placeholder","",3,"request","text"],["optionLabel","name","optionValue","id","formControlName","units","ngDefaultControl","","placeholder","",3,"request","text"],["optionLabel","name","optionValue","id","formControlName","category","ngDefaultControl","","placeholder","",3,"request","text"],["formControlName","price","ngDefaultControl","","placeholder","",3,"text"],["formControlName","quantity","ngDefaultControl","","placeholder","",3,"text"],["formControlName","ratio","ngDefaultControl","","placeholder","",3,"text"],[1,"text-center",3,"click"],[1,"fa","fa-plus"],[1,"text-error"],[1,"error"],["formArrayName","works"],["optionLabel","name","optionValue","id","formControlName","clauses","ngDefaultControl","","placeholder","",3,"request","text","readOnly","value"],["optionLabel","name","optionValue","id","formControlName","units","ng","","DefaultControl","","placeholder","",3,"request","text","readOnly","value"],["optionLabel","name","optionValue","id","formControlName","category","ngDefaultControl","","placeholder","",3,"request","text","readOnly","value"],["formControlName","price","ng","","DefaultControl","","placeholder","",3,"text","readOnly","value"],["formControlName","quantity","ngDefaultControl","","placeholder","",3,"text","readOnly","value"],["formControlName","ratio","ngDefaultControl","","placeholder","",3,"text","readOnly","value"],[1,"fa","fa-trash"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4),e._UZ(7,"app-button",5),e.qZA(),e.TgZ(8,"div",4)(9,"app-button",6),e.NdJ("click",function(){return o.accept()}),e.qZA()()()(),e.TgZ(10,"app-form",7),e.NdJ("onSubmit",function(){return o.accept()}),e.YNc(11,_e,2,1,"div",8),e.ALo(12,"keyvalue"),e.TgZ(13,"div",9)(14,"h3",10),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"app-dropdown",12),e.ALo(19,"translate"),e.YNc(20,he,2,1,"p",13),e.qZA(),e.TgZ(21,"div",11),e._UZ(22,"app-dropdown",14),e.ALo(23,"translate"),e.YNc(24,xe,2,1,"p",13),e.qZA(),e.TgZ(25,"div",11),e._UZ(26,"app-dropdown",15),e.ALo(27,"translate"),e.YNc(28,Ze,2,1,"p",13),e.qZA(),e.TgZ(29,"h3",16),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.YNc(32,Pe,29,54,"ng-container",17),e.qZA(),e.TgZ(33,"div",18)(34,"div",11),e._UZ(35,"app-dropdown",19),e.ALo(36,"translate"),e.YNc(37,ye,2,1,"p",13),e.qZA(),e.TgZ(38,"div",11),e._UZ(39,"app-dropdown",20),e.ALo(40,"translate"),e.YNc(41,qe,2,1,"p",13),e.qZA(),e.TgZ(42,"div",11),e._UZ(43,"app-dropdown",21),e.ALo(44,"translate"),e.YNc(45,be,2,1,"p",13),e.qZA(),e.TgZ(46,"div",11),e._UZ(47,"app-text",22),e.ALo(48,"translate"),e.YNc(49,Ue,2,1,"p",13),e.qZA(),e.TgZ(50,"div",11),e._UZ(51,"app-text",23),e.ALo(52,"translate"),e.YNc(53,we,2,1,"p",13),e.qZA(),e.TgZ(54,"div",11),e._UZ(55,"app-text",24),e.ALo(56,"translate"),e.YNc(57,Me,2,1,"p",13),e.qZA()(),e.TgZ(58,"h3",25),e.NdJ("click",function(){return o.addWorkToList()}),e._UZ(59,"i",26),e._uU(60),e.ALo(61,"translate"),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,55,"work_clause_assignments")," "),e.xp6(4),e.Q6J("iconPos","left")("icon","fa-solid fa-ban")("text","cancel"),e.xp6(2),e.Q6J("text","save")("iconPos","left")("icon","fa-solid fa-check"),e.xp6(1),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngForOf",e.lcZ(12,57,o.errors)),e.xp6(4),e.Oqu(e.lcZ(16,59,"project_assignment")),e.xp6(3),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(19,61,"project_phase")),e.Q6J("request",o.projectPhasesConfig.api.get),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.project_phase),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(23,63,"construction_name")),e.Q6J("request",o.constructionNameConfig.api.get),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.construction_name),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(27,65,"work-Types")),e.Q6J("request",o.workTypeConfig.api.get),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.work_types),e.xp6(2),e.Oqu(e.lcZ(31,67,"work_clauses")),e.xp6(2),e.Q6J("ngForOf",o.workClauses.controls),e.xp6(3),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(36,69,"clauses")),e.Q6J("request",o.clausesConfig.api.get),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.clauses),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(40,71,"Units")),e.Q6J("request",o.unitsConfig.api.get),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.units),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(44,73,"category")),e.Q6J("request",o.categoryConfig.api.get),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.category),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(48,75,"price")),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.price),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(52,77,"quantity")),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.quantity),e.xp6(2),e.Tol("d-flex flex-column justify-content-between"),e.s9C("text",e.lcZ(56,79,"ratio")),e.xp6(2),e.Q6J("ngIf",null==o.serverValidation?null:o.serverValidation.ratio),e.xp6(3),e.hij(" ",e.lcZ(61,81,"add"),""))},dependencies:[a.sg,a.O5,d.rH,w.U,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,M.T,L.J,y.r,a.Nd,O.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .entry-no[_ngcontent-%COMP%]{padding-right:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{padding-left:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;padding:17px 5px;border:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background-color:var(--mainColor)!important;color:var(--white);font-size:14px;padding:10px}"]}),n})()}];let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(Le),d.Bz]}),n})();var Ne=r(1383),Je=r(4413),De=r(1890),Ie=r(1019),ke=r(2115),Fe=r(8096),Qe=r(1471);let Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.ez,Ve,Qe.X,ke.u,Je.e,De.f,Ie.i,Fe.J,O.aw,Ne.m]}),n})()},1771:(P,h,r)=>{r.d(h,{U:()=>m});var a=r(9291),d=r(6223);const l=["*"];let m=(()=>{class f{constructor(){this.onSubmit=new a.vpe}ngOnChanges(u){}getFormData(){return"function"==typeof this.formData?this.formData(this.formGroup.value):{...this.formGroup.value}}reset(){this.formGroup.reset()}submit(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const u=this.getFormData();this.onSubmit.emit(u)}ngAfterContentInit(){}ngAfterContentChecked(){}ngOnDestroy(){}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275cmp=a.Xpm({type:f,selectors:[["app-form"]],inputs:{formGroup:"formGroup",formData:"formData"},outputs:{onSubmit:"onSubmit"},features:[a.TTD],ngContentSelectors:l,decls:2,vars:1,consts:[[3,"formGroup","ngSubmit"]],template:function(u,_){1&u&&(a.F$t(),a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return _.submit()}),a.Hsn(1),a.qZA()),2&u&&a.Q6J("formGroup",_.formGroup)},dependencies:[d._Y,d.JL,d.sg]}),f})()},4896:(P,h,r)=>{r.d(h,{Y:()=>C});var a=r(9291),d=r(67),l=r(6223),m=r(6814),f=r(3999);function Z(p,e){1&p&&a._UZ(0,"i",7)}function u(p,e){if(1&p&&(a.TgZ(0,"label",4),a._uU(1),a.ALo(2,"titlecase"),a.ALo(3,"translate"),a.TgZ(4,"span",5),a.YNc(5,Z,1,0,"i",6),a.qZA()()),2&p){const c=a.oxw();a.xp6(1),a.hij("",a.lcZ(2,2,a.lcZ(3,4,c.label))," "),a.xp6(4),a.Q6J("ngIf",c.control&&(null==c.control.errors?null:c.control.errors.required))}}function _(p,e){if(1&p&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&p){const c=a.oxw();a.xp6(1),a.Oqu(a.lcZ(2,1,c.selectedFileCount+"files"))}}function A(p,e){if(1&p&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&p){const c=a.oxw();a.xp6(1),a.Oqu(c.selectedFileName?c.selectedFileName:a.lcZ(2,1,c.placeholder))}}let C=(()=>{class p extends d.t{set clear(c){c&&(this.selectedFileCount=0,this.selectedFileName="",this.value=null)}constructor(c){super(),this.formGroupDirective=c,this.uploadedFiles=[],this.multiple=!0,this.label="Upload",this.placeholder="drag_and_drop_you_file_or_Click_here_to_upload",this.accept=".jpg,.jpeg,.png,.pdf,.doc,.docx,.xls,.xlsx",this.onValueChange=new a.vpe,this.selectedFileName="",this.selectedFileCount=0}onFileSelected(c){this.onValueChange.emit(c),this.selectedFileName=c.target.files[0].name,c.target.files&&c.target.files.length>0&&(this.selectedFileCount=c.target.files.length)}onUpload(c){for(let s of c.files)this.uploadedFiles.push(s)}}return p.\u0275fac=function(c){return new(c||p)(a.Y36(l.sg,8))},p.\u0275cmp=a.Xpm({type:p,selectors:[["app-file-upload"]],inputs:{value:"value",multiple:"multiple",label:"label",placeholder:"placeholder",accept:"accept",clear:"clear"},outputs:{onValueChange:"onValueChange"},features:[a._Bn([{provide:l.JU,useExisting:p,multi:!0},{provide:l.Cf,useExisting:p,multi:!0}]),a.qOj],decls:5,vars:6,consts:[[1,"file-input"],["for","file",4,"ngIf"],[4,"ngIf"],["id","file","type","file","id","file",1,"form-control",3,"multiple","ngModel","accept","ngModelChange","change"],["for","file"],[1,"required-aster"],["class","fa-solid fa-asterisk",4,"ngIf"],[1,"fa-solid","fa-asterisk"]],template:function(c,s){1&c&&(a.TgZ(0,"div",0),a.YNc(1,u,6,6,"label",1),a.YNc(2,_,3,3,"p",2),a.YNc(3,A,3,3,"p",2),a.TgZ(4,"input",3),a.NdJ("ngModelChange",function(v){return s.value=v})("change",function(v){return s.onFileSelected(v)}),a.qZA()()),2&c&&(a.xp6(1),a.Q6J("ngIf",s.label),a.xp6(1),a.Q6J("ngIf",s.selectedFileCount>1),a.xp6(1),a.Q6J("ngIf",s.selectedFileCount<=1),a.xp6(1),a.Q6J("multiple",s.multiple)("ngModel",s.value)("accept",s.accept))},dependencies:[m.O5,l.Fj,l.JJ,l.On,m.rS,f.X$],styles:[".file-input[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:0;width:100%;height:100%;min-width:200px!important}.file-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;padding:8px;border:1px dashed #7ca0c5;border-radius:8px;font-size:14px;cursor:pointer;min-width:200px!important;text-align:center;overflow:hidden}"]}),p})()},5253:(P,h,r)=>{r.d(h,{R:()=>C});var a=r(67),d=r(6223),l=r(9291),m=r(6814),f=r(6218),Z=r(3999);function u(p,e){1&p&&l._UZ(0,"i",6)}function _(p,e){if(1&p&&(l.TgZ(0,"label"),l._uU(1),l.ALo(2,"titlecase"),l.ALo(3,"translate"),l.TgZ(4,"span",4),l.YNc(5,u,1,0,"i",5),l.qZA()()),2&p){const c=l.oxw();l.xp6(1),l.hij("",l.lcZ(2,2,l.lcZ(3,4,c.text))," "),l.xp6(4),l.Q6J("ngIf",c.control&&(null==c.control.errors?null:c.control.errors.required))}}function A(p,e){if(1&p&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&p){const c=l.oxw();l.Tol("text-danger"),l.xp6(1),l.Oqu(c.object.keys(c.control.errors)[0])}}let C=(()=>{class p extends a.t{constructor(c){super(),this.formGroupDirective=c,this.placeholder="",this.rows="2",this.cols="",this.readOnly=!1,this.class="d-flex flex-column justify-content-between",this.object=Object}writeValue(c){this.value=c}onValueChange(c){this.onChange(c.target.value),this.onTouched()}}return p.\u0275fac=function(c){return new(c||p)(l.Y36(d.sg,8))},p.\u0275cmp=l.Xpm({type:p,selectors:[["app-textarea"]],inputs:{value:"value",text:"text",placeholder:"placeholder",rows:"rows",cols:"cols",readOnly:"readOnly",class:"class",type:"type"},features:[l._Bn([{provide:d.JU,useExisting:p,multi:!0},{provide:d.Cf,useExisting:p,multi:!0}]),l.qOj],decls:4,vars:8,consts:[[3,"ngClass"],[4,"ngIf"],["pInputTextarea","",3,"rows","cols","ngModel","placeholder","disabled","ngModelChange","input"],[3,"class",4,"ngIf"],[1,"required-aster"],["class","fa-solid fa-asterisk",4,"ngIf"],[1,"fa-solid","fa-asterisk"]],template:function(c,s){1&c&&(l.TgZ(0,"div",0),l.YNc(1,_,6,6,"label",1),l.TgZ(2,"textarea",2),l.NdJ("ngModelChange",function(v){return s.value=v})("input",function(v){return s.onValueChange(v)}),l.qZA(),l.YNc(3,A,2,3,"span",3),l.qZA()),2&c&&(l.Q6J("ngClass",s.class),l.xp6(1),l.Q6J("ngIf",s.text),l.xp6(1),l.Q6J("rows",s.rows)("cols",s.cols)("ngModel",s.value)("placeholder",s.placeholder)("disabled",s.readOnly),l.xp6(1),l.Q6J("ngIf",s.control&&s.control.errors&&(s.control.touched||s.formGroupDirective.submitted)))},dependencies:[m.mk,m.O5,d.Fj,d.JJ,d.On,f.g,m.rS,Z.X$]}),p})()},8718:(P,h,r)=>{r.d(h,{x:()=>a});const a={api:{create:"user/create",get:"user",getById:"user/",update:"user/update/",delete:"user/",exportCvs:"user/export/cvs",exportPdf:"user/export/pdf",import:"user/import",export:"user/data/export"},page:{list:"",view:"view/:id"}}},9773:(P,h,r)=>{r.d(h,{R:()=>f});var a=r(9360),d=r(8251),l=r(4829),m=r(2420);function f(Z){return(0,a.e)((u,_)=>{(0,l.Xf)(Z).subscribe((0,d.x)(_,()=>_.complete(),m.Z)),!_.closed&&u.subscribe(_)})}}}]);