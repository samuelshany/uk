"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[4346],{4346:(U,Z,r)=>{r.r(Z),r.d(Z,{ProjectsModule:()=>Rt});var i=r(6814),m=r(8209);const u_api_create="projects/create",u_api_get="assets/data/projects.json",u_api_update="projects/update/",u_api_delete="projects/";var _=function(o){return o.create="dashboard",o.view="dashboard",o.edit="dashboard",o.delete="dashboard",o}(_||{}),q=r(5219),h=r(6924),v=r(8718),C=r(5946),t=r(9291),l=r(5861),g=r(8645),x=r(9773),O=r(4605),L=r(3012),k=r(3816),d=r(6223),y=r(8763),M=r(1771),V=r(8614),N=r(3838),Q=r(6098),I=r(5253),Y=r(4896),j=r(4779),A=r(3999);function G(o,a){1&o&&(t.TgZ(0,"div",6),t._UZ(1,"app-button",38),t.qZA()),2&o&&(t.xp6(1),t.Q6J("text","update_attachment")("iconPos","left")("icon","fa-solid fa-check"))}function E(o,a){if(1&o&&(t.TgZ(0,"div",39),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function S(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.project_name[0])}}function R(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.project_phase[0])}}function W(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.deduction_options[0])}}function z(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.client_infomartion[0])}}function B(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.start_date[0])}}function X(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.end_date[0])}}function $(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.project_description[0])}}function K(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.downpayment_option[0])}}function H(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.suppliers[0])}}function tt(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.assigned_engineer[0])}}function et(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.milestones[0])}}function ot(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.estimated_cost_for_resource[0])}}function nt(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.assigned_budget[0])}}function at(o,a){if(1&o&&(t.TgZ(0,"p",40),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.downpayment[0])}}let w=(()=>{class o{constructor(e,n,s,p){this.fb=e,this.toaster=n,this.projectsService=s,this.route=p,this.unsubscribe=new g.x,this.formGroup=this.initForm(),this.suppliers=O.h,this.projectPhases=L.N,this.deductionOptions=k.n,this.isLoading=!1,this.projects=[],this.values=new FormData}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.title="update_project",this.route.data.pipe((0,x.R)(this.unsubscribe)).subscribe({next:e=>{this.data=e,this.fillDataToUpdate()},error:e=>{}}))}reject(e){}convertFormGroupToFormData(){this.values.set("id",this.formGroup.get("id")?.value),this.values.set("project_name",this.formGroup.get("project_name")?.value),this.values.set("project_phase",this.formGroup.get("project_phase")?.value),this.values.set("start_date",this.formGroup.get("start_date")?.value),this.values.set("end_date",this.formGroup.get("end_date")?.value),this.values.set("deadlines",this.formGroup.get("deadlines")?.value),this.values.set("deduction_options",this.formGroup.get("deduction_options")?.value),this.values.set("client_information",this.formGroup.get("client_information")?.value),this.values.set("deduction_options",this.formGroup.get("deduction_options")?.value),this.values.set("downpayment",this.formGroup.get("downpayment")?.value),this.values.set("project_description",this.formGroup.get("project_description")?.value),this.values.set("assigned_engineer",this.formGroup.get("assigned_engineer")?.value),this.values.set("assigned_budget",this.formGroup.get("assigned_budget")?.value),this.values.set("estimated_cost_for_resource",this.formGroup.get("estimated_cost_for_resource")?.value),this.values.set("milestones",this.formGroup.get("milestones")?.value),this.values.set("supplier_id",this.formGroup.get("suppliers")?.value)}onSubmit(){}onFileUpload(e){if(e.target.files[0])for(const[n,s]of Object.entries(e.target.files))this.values.set(`files[${n}]`,e.target.files[n])}initForm(){return this.fb.group({id:[Number],project_name:[""],project_phase:[""],start_date:[""],end_date:[""],deadlines:[""],client_information:[Number],deduction_options:[""],downpayment_option:[""],downpayment:[""],project_description:[""],assigned_engineer:[""],assigned_budget:[""],estimated_cost_for_resource:[""],suppliers:[""],milestones:[""],files:this.fb.array([])})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():(this.convertFormGroupToFormData(),this.isLoading=!0,this.data?this.projectsService.update(this.values).subscribe(e=>{this.toaster.success(e.message)},e=>{this.errors=e.error.errors,this.isLoading=!1}):this.projectsService.create(this.values).subscribe(e=>{this.toaster.success(e.message)},e=>{this.errors=e.error.errors,this.isLoading=!1}))}fillDataToUpdate(){this.formGroup.patchValue({id:this.data?.id,project_name:this.data?.project_name,project_phase:this.data?.project_phase,start_date:this.data?.start_date,client_information:this.data?.client_information,end_date:this.data?.end_date,deduction_options:this.data?.deduction_options,downpayment_option:this.data?.downpayment_option,assigned_budget:this.data?.assigned_budget,assigned_engineer:this.data?.assigned_engineer,milestones:this.data?.milestones,suppliers:this.data?.suppliers,deadlines:this.data?.deadlines,estimated_cost_for_resource:this.data?.estimated_cost_for_resource,project_description:this.data?.project_description})}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.qu),t.Y36(y._W),t.Y36(P),t.Y36(m.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-new-project"]],decls:123,vars:131,consts:[[1,"container-sm","main","rounded"],[1,"header","row","justify-content-between","align-items-center"],["routerLink","/key/project-management/projects",1,"title","pointer","col-md-6"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"d-flex","align-items-center","justify-content-end","g-2","col-md-6"],["class","px-1",4,"ngIf"],[1,"px-1"],["routerLink","/project-management/projects",1,"btn-cancel",3,"iconPos","icon","text"],[1,"btn-filter",3,"text","iconPos","icon","click"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"fw-bold","mb-4"],[1,"col-md-4","col-12"],["formControlName","project_name","ngDefaultControl","","placeholder","",3,"type","text"],["class","error",4,"ngIf"],["formControlName","project_phase","optionLabel","name","optionValue","id","ngDefaultControl","","placeholder","select",3,"text","request"],["optionLabel","name","optionValue","id","placeholder","select","formControlName","deduction_options","ngDefaultControl","",3,"request","text"],["optionLabel","name","optionValue","id","formControlName","client_information","ngDefaultControl","","placeholder","select",3,"text"],["formControlName","start_date","ngDefaultControl","",3,"text","placeholder"],["formControlName","end_date","ngDefaultControl","",3,"text","placeholder"],[1,"col-12"],["formControlName","project_description","ngDefaultControl","","placeholder","",3,"type","text"],["optionLabel","name","optionValue","id","formControlName","downpayment_option","ngDefaultControl","","placeholder","select",3,"text"],["optionLabel","name","optionValue","id","formControlName","suppliers","ngDefaultControl","",3,"request","text","placeholder"],["optionLabel","name","optionValue","id","formControlName","assigned_engineer","ngDefaultControl","","placeholder","select",3,"text"],["formControlName","milestones","ngDefaultControl","","placeholder","",3,"type","text"],["formControlName","deadlines","ngDefaultControl","",3,"text","placeholder"],["formControlNames","estimated_cost_for_resource","ngDefaultControl","","placeholder","",3,"text"],["formControlName","assigned_budget","ngDefaultControl","","placeholder","",3,"text"],["formControlName","downpayment","ngDefaultControl","","placeholder","",3,"text"],[1,"col-md-3","col-12"],[1,"card",2,"width","100%"],["src","assets/icons/form.svg","alt","Card image cap",1,"card-img-top","p-5",2,"width","50%","margin","auto","height","40%"],[1,"card-body","d-flex","justify-content-between"],[1,"fa","fa-xl","my-auto","fa-trash",2,"color","red"],[1,"mt-5"],["formControlName","files","text","File Upload",3,"onValueChange"],[1,"btn-cancel",3,"text","iconPos","icon"],[1,"text-error"],[1,"error"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._UZ(3,"i",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,G,2,3,"div",5),t.TgZ(8,"div",6),t._UZ(9,"app-button",7),t.qZA(),t.TgZ(10,"div",6)(11,"app-button",8),t.NdJ("click",function(){return n.accept()}),t.qZA()()()(),t.TgZ(12,"app-form",9),t.NdJ("onSubmit",function(){return n.accept()}),t.YNc(13,E,2,1,"div",10),t.ALo(14,"keyvalue"),t.TgZ(15,"div",11)(16,"h3",12),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",13),t._UZ(20,"app-text",14),t.ALo(21,"translate"),t.YNc(22,S,2,1,"p",15),t.qZA(),t.TgZ(23,"div",13),t._UZ(24,"app-dropdown",16),t.ALo(25,"translate"),t.YNc(26,R,2,1,"p",15),t.qZA(),t.TgZ(27,"div",13),t._UZ(28,"app-dropdown",17),t.ALo(29,"translate"),t.YNc(30,W,2,1,"p",15),t.qZA()(),t.TgZ(31,"div",11)(32,"h3",12),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"div",13),t._UZ(36,"app-dropdown",18),t.ALo(37,"translate"),t.YNc(38,z,2,1,"p",15),t.qZA(),t.TgZ(39,"div",13),t._UZ(40,"app-date",19),t.ALo(41,"translate"),t.ALo(42,"translate"),t.YNc(43,B,2,1,"p",15),t.qZA(),t.TgZ(44,"div",13),t._UZ(45,"app-date",20),t.ALo(46,"translate"),t.ALo(47,"translate"),t.YNc(48,X,2,1,"p",15),t.qZA(),t.TgZ(49,"div",21),t._UZ(50,"app-textarea",22),t.ALo(51,"translate"),t.YNc(52,$,2,1,"p",15),t.qZA(),t.TgZ(53,"div",13),t._UZ(54,"app-dropdown",23),t.ALo(55,"translate"),t.YNc(56,K,2,1,"p",15),t.qZA(),t.TgZ(57,"div",13),t._UZ(58,"app-dropdown",24),t.ALo(59,"translate"),t.YNc(60,H,2,1,"p",15),t.qZA(),t.TgZ(61,"div",13),t._UZ(62,"app-dropdown",25),t.ALo(63,"translate"),t.YNc(64,tt,2,1,"p",15),t.qZA(),t.TgZ(65,"div",13),t._UZ(66,"app-text",26),t.ALo(67,"translate"),t.YNc(68,et,2,1,"p",15),t.qZA(),t.TgZ(69,"div",13),t._UZ(70,"app-date",27),t.ALo(71,"translate"),t.ALo(72,"translate"),t.qZA()(),t.TgZ(73,"div",11)(74,"h3",12),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.TgZ(77,"div",13),t._UZ(78,"app-text",28),t.ALo(79,"translate"),t.YNc(80,ot,2,1,"p",15),t.qZA(),t.TgZ(81,"div",13),t._UZ(82,"app-text",29),t.ALo(83,"translate"),t.YNc(84,nt,2,1,"p",15),t.qZA(),t.TgZ(85,"div",13),t._UZ(86,"app-text",30),t.ALo(87,"translate"),t.YNc(88,at,2,1,"p",15),t.qZA()(),t.TgZ(89,"div",11)(90,"h3",12),t._uU(91),t.ALo(92,"translate"),t.qZA(),t.TgZ(93,"div",31)(94,"div",32),t._UZ(95,"img",33),t.TgZ(96,"div",34)(97,"h3"),t._uU(98,"File Name"),t.qZA(),t._UZ(99,"i",35),t.qZA()()(),t.TgZ(100,"div",31)(101,"div",32),t._UZ(102,"img",33),t.TgZ(103,"div",34)(104,"h3"),t._uU(105,"File Name"),t.qZA(),t._UZ(106,"i",35),t.qZA()()(),t.TgZ(107,"div",31)(108,"div",32),t._UZ(109,"img",33),t.TgZ(110,"div",34)(111,"h3"),t._uU(112,"File Name"),t.qZA(),t._UZ(113,"i",35),t.qZA()()(),t.TgZ(114,"div",31)(115,"div",32),t._UZ(116,"img",33),t.TgZ(117,"div",34)(118,"h3"),t._uU(119,"File Name"),t.qZA(),t._UZ(120,"i",35),t.qZA()()(),t.TgZ(121,"div",36)(122,"app-file-upload",37),t.NdJ("onValueChange",function(p){return n.onFileUpload(p)}),t.qZA()()()()()),2&e&&(t.xp6(4),t.hij("",t.lcZ(5,83,"add_new_project")," "),t.xp6(3),t.Q6J("ngIf","update_journal_entry"==n.title),t.xp6(2),t.Q6J("iconPos","left")("icon","fa-solid fa-ban")("text","cancel"),t.xp6(2),t.Q6J("text","save")("iconPos","left")("icon","fa-solid fa-check"),t.xp6(1),t.Q6J("formGroup",n.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,85,n.errors)),t.xp6(4),t.Oqu(t.lcZ(18,87,"project_creation")),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(21,89,"project_name")),t.Q6J("type","text"),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.project_name),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(25,91,"project_phase")),t.Q6J("request",n.projectPhases.api.get),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.project_phase),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(29,93,"deduction_options")),t.Q6J("request",n.deductionOptions.api.get),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.deduction_options),t.xp6(3),t.Oqu(t.lcZ(34,95,"project_assignment")),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(37,97,"client_information")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.client_information),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(41,99,"start_date")),t.s9C("placeholder",t.lcZ(42,101,"Start Date")),t.xp6(3),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.start_date),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(46,103,"end_date")),t.s9C("placeholder",t.lcZ(47,105,"End Date")),t.xp6(3),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.end_date),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(51,107,"project_description")),t.Q6J("type","text"),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.project_description),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(55,109,"Downpayment_options")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.downpayment_option),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(59,111,"suppliers")),t.s9C("placeholder","select"),t.Q6J("request",n.suppliers.api.get),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.suppliers),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(63,113,"assigned_engineer")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.assigned_engineer),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(67,115,"milestones")),t.Q6J("type","text"),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.milestones),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(71,117,"deadlines")),t.s9C("placeholder",t.lcZ(72,119,"deadlines")),t.xp6(5),t.Oqu(t.lcZ(76,121,"budget_management")),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(79,123,"estimated_cost_for_resource")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.estimated_cost_for_resource),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(83,125,"assigned_budget")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.assigned_budget),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(87,127,"downpayment")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.downpayment),t.xp6(3),t.Oqu(t.lcZ(92,129,"document_management")))},dependencies:[i.sg,i.O5,m.rH,M.U,d.Fj,d.JJ,d.JL,d.sg,d.u,V.T,N.J,Q.I,I.R,Y.Y,j.r,i.Nd,A.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .entry-no[_ngcontent-%COMP%]{padding-right:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{padding-left:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;padding:17px 5px;border:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background-color:var(--mainColor)!important;color:var(--white);font-size:14px;padding:10px}.col-12[_ngcontent-%COMP%]{margin-top:2rem}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:auto;font-weight:700;color:#003d5b;padding-left:15px}"]}),o})();var J=r(7344),D=r(6655),F=r(2823),it=r(1732),rt=r(3562);let P=(()=>{class o{constructor(e,n,s){this.http=e,this.dynamicDialog=n,this.toastr=s}get(e){return this.http.get(u_api_get)}getCategories(){return this.http.getWithParam(J.t.api.get,{limit:"all"})}getUnits(){return this.http.getWithParam(D.R.api.get,{limit:"all"})}getClauses(){return this.http.getWithParam(F.N.api.get,{limit:"all"})}openDialogToCreate(){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:"add_project",data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},w)}create(e){return this.http.post(u_api_create,e)}delete(e){var n=this;return(0,l.Z)(function*(){const s={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...e},name:"name"},width:"500px",height:"auto"};if(yield n.dynamicDialog.confirm(s))try{const f=yield n.http.delete(u_api_delete+e.id).toPromise();return n.toastr.success(f.message),f}catch(f){throw n.toastr.error(f.error.message),f}return!1})()}openDialogToUpdate(e){var n=this;return(0,l.Z)(function*(){const s={showHeader:!1,header:"update_project",data:{acceptLabel:"update",rejectLabel:"cancel",data:{...e}},height:"330px",width:"auto"};return yield n.dynamicDialog.showDialogWithComponent(s,w)})()}update(e){return this.http.post(u_api_update+e.id,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(it.O),t.LFG(rt.U),t.LFG(y._W))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var lt=r(2377),st=r(359),ct=r(5077),pt=r(3826);let ut=(()=>{class o{constructor(e){this.projectsService=e,this.tableConfig={cols:[{field:"id",label:"id",class:""},{field:"project_name",label:"project_name",class:""},{field:"project_phases",label:"project_phase",class:""},{field:"construction",label:"construction_name",class:""},{field:"work_types",label:"work_type",class:""},{field:"units",label:"Units",class:""},{field:"clauses",label:"clauses",format:a=>a.clauses?a.clauses:"-"},{field:"category",label:"category",format:a=>a.category?a.category:"-"},{field:"price",label:"price",format:a=>a.price?a.price:"-"},{label:"action",actions:[{id:_.delete,icon:"trash",class:"main-color"},{id:_.edit,icon:"pen-to-square",class:"main-color",route:"create"},{id:_.edit,icon:"eye",class:"main-color",route:"view"},{id:_.edit,icon:"copy",class:"main-color",route:"assign"}]}],Request:u_api_get},this.filtersConfig=[{field:"search",label:"search",type:h.W.TEXT,placeholder:"search"},{field:"creator_id",label:"created_by",type:h.W.SELECT,options:{value:"id",label:"name"},request:v.x.api.get,placeholder:"select"},{field:"from",label:"from",type:h.W.DATE},{field:"to",label:"to",type:h.W.DATE}],this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"Name",field:"name"},{label:"id",field:"id"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:C.q.asc,field:C.q.asc},{label:C.q.desc,field:C.q.desc}]}],this.permissions=_,this.icon=q.dv}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-projects"]],decls:17,vars:14,consts:[[1,"page-card"],[1,"d-flex","align-items-center","justify-content-between"],[1,"title"],[1,"d-flex"],["routerLink","/key/project-management/projects/create",3,"text","icon","iconPos"],[1,"d-flex","flex-row","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"tableConfig","pagination","filter","sort"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"app-button",4),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"ukt-sort",6,7)(10,"ukt-filter",8,9),t.qZA(),t.TgZ(12,"div",10),t._UZ(13,"app-table",11),t.qZA(),t.TgZ(14,"div",12),t._UZ(15,"ukt-pagination",null,13),t.qZA()()),2&e){const s=t.MAs(9),p=t.MAs(11),f=t.MAs(16);t.xp6(3),t.Oqu(t.lcZ(4,12,"projects_list")),t.xp6(3),t.Tol("btn-filter"),t.Q6J("text","new")("icon",n.icon.PLUS)("iconPos","left"),t.xp6(2),t.Q6J("SortConfig",n.sortConfig),t.xp6(2),t.Q6J("config",n.filtersConfig),t.xp6(3),t.Q6J("tableConfig",n.tableConfig)("pagination",f)("filter",p)("sort",s)}},dependencies:[m.rH,lt.a,st.Q,j.r,ct.z,pt.x,A.X$]}),o})(),gt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-project"]],decls:127,vars:65,consts:[[1,"p-5","bg-white"],[1,"d-flex"],[1,"fw-bold","fs-1"],[1,"inventory-view-btns"],["routerLink","/key/project-management/projects/track/4",3,"text","iconPos"],[3,"text","iconPos"],[1,"row","mt-5"],[1,"my-5"],[1,"col-12","p-2","rounded-5","detail"],[1,"row"],[1,"col-12","col-md-4"],[1,"p-4"],[1,"mb-4","fs-2"],[1,"p-2"],[1,"mb-2"],[1,"mb-2","fs"],[1,"col-md-3","col-12"],[1,"card",2,"width","100%"],["src","assets/icons/form.svg","alt","Card image cap",1,"card-img-top","p-5",2,"width","50%","margin","auto","height","40%"],[1,"card-body","d-flex","justify-content-between"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"app-button",4)(7,"app-button",5),t.ALo(8,"translate"),t._UZ(9,"app-button",5),t.qZA()(),t.TgZ(10,"div",6)(11,"h2",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"h4",12),t._uU(19),t.ALo(20,"translate"),t.qZA()()(),t.TgZ(21,"div",10)(22,"div",11)(23,"h4",12),t._uU(24),t.ALo(25,"translate"),t.qZA()()(),t.TgZ(26,"div",10)(27,"div",11)(28,"h4",12),t._uU(29),t.ALo(30,"translate"),t.qZA()()(),t.TgZ(31,"div",10)(32,"div",11)(33,"h4",12),t._uU(34),t.ALo(35,"translate"),t.qZA()()()()(),t.TgZ(36,"h2",7),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"div",8)(40,"div",9)(41,"div",10)(42,"div",13)(43,"h4",14),t._uU(44),t.ALo(45,"translate"),t.qZA()()(),t.TgZ(46,"div",10)(47,"div",13)(48,"h4",14),t._uU(49),t.ALo(50,"translate"),t.qZA()()(),t.TgZ(51,"div",10)(52,"div",13)(53,"h4",15),t._uU(54),t.ALo(55,"translate"),t.qZA()()(),t.TgZ(56,"div",10)(57,"div",13)(58,"h4",14),t._uU(59),t.qZA()()(),t.TgZ(60,"div",10)(61,"div",13)(62,"h4",14),t._uU(63),t.qZA()()(),t.TgZ(64,"div",10)(65,"div",13)(66,"h4",14),t._uU(67),t.qZA()()(),t.TgZ(68,"div",10)(69,"div",13)(70,"h4",14),t._uU(71),t.qZA()()(),t.TgZ(72,"div",10)(73,"div",13)(74,"h4",14),t._uU(75),t.qZA()()(),t.TgZ(76,"div",10)(77,"div",13)(78,"h4",14),t._uU(79),t.qZA()()()()(),t.TgZ(80,"h2",7),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"div",8)(84,"div",9)(85,"div",10)(86,"div",13)(87,"h4",14),t._uU(88),t.ALo(89,"translate"),t.qZA()()(),t.TgZ(90,"div",10)(91,"div",13)(92,"h4",14),t._uU(93),t.ALo(94,"translate"),t.qZA()()(),t.TgZ(95,"div",10)(96,"div",13)(97,"h4",15),t._uU(98),t.ALo(99,"translate"),t.qZA()()()()(),t.TgZ(100,"h2",7),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"div",16)(104,"div",17),t._UZ(105,"img",18),t.TgZ(106,"div",19)(107,"h3"),t._uU(108,"File Name"),t.qZA()()()(),t.TgZ(109,"div",16)(110,"div",17),t._UZ(111,"img",18),t.TgZ(112,"div",19)(113,"h3"),t._uU(114,"File Name"),t.qZA()()()(),t.TgZ(115,"div",16)(116,"div",17),t._UZ(117,"img",18),t.TgZ(118,"div",19)(119,"h3"),t._uU(120,"File Name"),t.qZA()()()(),t.TgZ(121,"div",16)(122,"div",17),t._UZ(123,"img",18),t.TgZ(124,"div",19)(125,"h3"),t._uU(126,"File Name"),t.qZA()()()()()()),2&e&&(t.xp6(3),t.hij("",t.lcZ(4,33,"project_details")," "),t.xp6(3),t.Tol("btn-cancel d-inline-block "),t.Q6J("text","track")("iconPos","left"),t.xp6(1),t.Tol("btn-cancel d-inline-block "),t.Q6J("text",t.lcZ(8,35,"download"))("iconPos","left"),t.xp6(2),t.Tol("btn-cancel d-inline-block "),t.Q6J("text","edit")("iconPos","left"),t.xp6(3),t.Oqu(t.lcZ(13,37,"project_creation")),t.xp6(7),t.Oqu(t.lcZ(20,39,"project_name")),t.xp6(5),t.Oqu(t.lcZ(25,41,"Work_types")),t.xp6(5),t.Oqu(t.lcZ(30,43,"Construction_name")),t.xp6(5),t.Oqu(t.lcZ(35,45,"Project-phases")),t.xp6(3),t.Oqu(t.lcZ(38,47,"project_assignment")),t.xp6(7),t.Oqu(t.lcZ(45,49,"Client Information")),t.xp6(5),t.Oqu(t.lcZ(50,51,"Downpayment Options")),t.xp6(5),t.Oqu(t.lcZ(55,53,"Assigned Engineer")),t.xp6(5),t.Oqu("1-3-2024"),t.xp6(4),t.Oqu("Suppliers"),t.xp6(4),t.Oqu("Milestones"),t.xp6(4),t.Oqu("1-3-2025"),t.xp6(4),t.Oqu("Project Description"),t.xp6(4),t.Oqu("1-5-2024"),t.xp6(2),t.Oqu(t.lcZ(82,55,"budget_management")),t.xp6(7),t.Oqu(t.lcZ(89,57,"Estimated Cost for Resources")),t.xp6(5),t.Oqu(t.lcZ(94,59,"Assigned Budget")),t.xp6(5),t.Oqu(t.lcZ(99,61,"Downpayment")),t.xp6(3),t.Oqu(t.lcZ(102,63,"document_management")))},dependencies:[m.rH,j.r,A.X$],styles:[".detail[_ngcontent-%COMP%]{background-color:var(--lightGray);padding:20px!important}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}i[_ngcontent-%COMP%]{cursor:pointer}h2[_ngcontent-%COMP%]{color:#003d5b}"]}),o})();function mt(o,a){1&o&&(t.TgZ(0,"tr"),t._UZ(1,"td",19),t.TgZ(2,"td",21),t._uU(3,"Title here"),t.qZA(),t.TgZ(4,"td",19),t._uU(5,"10000$"),t.qZA()())}function _t(o,a){1&o&&(t.TgZ(0,"tr"),t._UZ(1,"td",19),t.TgZ(2,"td",21),t._uU(3,"Title here"),t.qZA(),t.TgZ(4,"td",19),t._uU(5,"10000$"),t.qZA()())}let ft=(()=>{class o{constructor(){this.fakeData=[{},{},{},{},{},{},{},{}]}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-track-project"]],decls:200,vars:123,consts:[[1,"p-5","bg-white"],[1,"d-flex"],[1,"fw-bold","fs-1"],[1,"inventory-view-btns"],[3,"text","iconPos"],[1,"container","mt-5"],[1,"mb-5","header"],[1,"row","mb-5"],[1,"col-12","col-md-4"],["for",""],[1,"p-2","rounded-5","detail"],[1,"mb-2"],[1,"mb-2","fs"],[1,"table-responsive"],[1,"table","shadow","mt-5"],["scope","col","rowspan","3"],["scope","col","colspan","3",1,"text-center"],[4,"ngFor","ngForOf"],["colspan","8"],["colspan","2"],[1,"row"],["colspan","6"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"app-button",4),t.qZA()(),t.TgZ(7,"div",5)(8,"h2",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",7)(12,"div",8)(13,"label",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",10)(17,"h4",11),t._uU(18),t.ALo(19,"translate"),t.qZA()()(),t.TgZ(20,"div",8)(21,"label",9),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"div",10)(25,"h4",11),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.TgZ(28,"div",8)(29,"label",9),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",10)(33,"h4",12),t._uU(34),t.ALo(35,"translate"),t.qZA()()()(),t.TgZ(36,"div",13)(37,"table",14)(38,"thead")(39,"tr")(40,"th",15),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th",15),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th",15),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"th",15),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"th",15),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"th",16),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"th",15),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"th",15),t._uU(62),t.ALo(63,"translate"),t.qZA()(),t.TgZ(64,"tr")(65,"th"),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"th"),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"th"),t._uU(72),t.ALo(73,"translate"),t.qZA()()(),t.TgZ(74,"tbody")(75,"tr")(76,"td"),t._uU(77,"1"),t.qZA(),t.TgZ(78,"td"),t._uU(79,"Test"),t.qZA(),t.TgZ(80,"td"),t._uU(81,"Test"),t.qZA(),t.TgZ(82,"td"),t._uU(83,"Test"),t.qZA(),t.TgZ(84,"td"),t._uU(85,"Test"),t.qZA(),t.TgZ(86,"td"),t._uU(87,"Test"),t.qZA(),t.TgZ(88,"td"),t._uU(89,"Test"),t.qZA(),t.TgZ(90,"td"),t._uU(91,"Test"),t.qZA(),t.TgZ(92,"td"),t._uU(93,"Test"),t.qZA(),t.TgZ(94,"td"),t._uU(95,"Test"),t.qZA()(),t.YNc(96,mt,6,0,"tr",17),t.qZA(),t.TgZ(97,"tfoot")(98,"tr")(99,"td",18),t._uU(100),t.ALo(101,"translate"),t.qZA(),t.TgZ(102,"td",19),t._uU(103," 1000$ "),t.qZA()()()()(),t.TgZ(104,"h2",6),t._uU(105),t.ALo(106,"translate"),t.qZA(),t.TgZ(107,"div",20)(108,"div",8)(109,"label",9),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"div",10)(113,"h4",11),t._uU(114),t.ALo(115,"translate"),t.qZA()()(),t.TgZ(116,"div",8)(117,"label",9),t._uU(118),t.ALo(119,"translate"),t.qZA(),t.TgZ(120,"div",10)(121,"h4",11),t._uU(122),t.ALo(123,"translate"),t.qZA()()(),t.TgZ(124,"div",8)(125,"label",9),t._uU(126),t.ALo(127,"translate"),t.qZA(),t.TgZ(128,"div",10)(129,"h4",12),t._uU(130),t.ALo(131,"translate"),t.qZA()()()(),t.TgZ(132,"div",13)(133,"table",14)(134,"thead")(135,"tr")(136,"th",15),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.TgZ(139,"th",15),t._uU(140),t.ALo(141,"translate"),t.qZA(),t.TgZ(142,"th",15),t._uU(143),t.ALo(144,"translate"),t.qZA(),t.TgZ(145,"th",15),t._uU(146),t.ALo(147,"translate"),t.qZA(),t.TgZ(148,"th",15),t._uU(149),t.ALo(150,"translate"),t.qZA(),t.TgZ(151,"th",16),t._uU(152),t.ALo(153,"translate"),t.qZA(),t.TgZ(154,"th",15),t._uU(155),t.ALo(156,"translate"),t.qZA(),t.TgZ(157,"th",15),t._uU(158),t.ALo(159,"translate"),t.qZA()(),t.TgZ(160,"tr")(161,"th"),t._uU(162),t.ALo(163,"translate"),t.qZA(),t.TgZ(164,"th"),t._uU(165),t.ALo(166,"translate"),t.qZA(),t.TgZ(167,"th"),t._uU(168),t.ALo(169,"translate"),t.qZA()()(),t.TgZ(170,"tbody")(171,"tr")(172,"td"),t._uU(173,"1"),t.qZA(),t.TgZ(174,"td"),t._uU(175,"Test"),t.qZA(),t.TgZ(176,"td"),t._uU(177,"Test"),t.qZA(),t.TgZ(178,"td"),t._uU(179,"Test"),t.qZA(),t.TgZ(180,"td"),t._uU(181,"Test"),t.qZA(),t.TgZ(182,"td"),t._uU(183,"Test"),t.qZA(),t.TgZ(184,"td"),t._uU(185,"Test"),t.qZA(),t.TgZ(186,"td"),t._uU(187,"Test"),t.qZA(),t.TgZ(188,"td"),t._uU(189,"Test"),t.qZA(),t.TgZ(190,"td"),t._uU(191,"Test"),t.qZA()(),t.YNc(192,_t,6,0,"tr",17),t.qZA(),t.TgZ(193,"tfoot")(194,"tr")(195,"td",18),t._uU(196),t.ALo(197,"translate"),t.qZA(),t.TgZ(198,"td",19),t._uU(199," 1000$ "),t.qZA()()()()()()()),2&e&&(t.xp6(3),t.hij("",t.lcZ(4,45,"project_details")," "),t.xp6(3),t.Tol("btn-cancel d-inline-block "),t.Q6J("text","download")("iconPos","left"),t.xp6(3),t.hij("",t.lcZ(10,47,"reference")," 1"),t.xp6(5),t.Oqu(t.lcZ(15,49,"project_name")),t.xp6(4),t.Oqu(t.lcZ(19,51,"project_name")),t.xp6(4),t.Oqu(t.lcZ(23,53,"construction_name")),t.xp6(4),t.Oqu(t.lcZ(27,55,"construction_name")),t.xp6(4),t.Oqu(t.lcZ(31,57,"project_type")),t.xp6(4),t.Oqu(t.lcZ(35,59,"project_type")),t.xp6(7),t.Oqu(t.lcZ(42,61,"code")),t.xp6(3),t.Oqu(t.lcZ(45,63,"product")),t.xp6(3),t.Oqu(t.lcZ(48,65,"unit")),t.xp6(3),t.Oqu(t.lcZ(51,67,"percentage")),t.xp6(3),t.Oqu(t.lcZ(54,69,"category")),t.xp6(3),t.Oqu(t.lcZ(57,71,"quantity")),t.xp6(3),t.Oqu(t.lcZ(60,73,"total")),t.xp6(3),t.Oqu(t.lcZ(63,75,"note")),t.xp6(4),t.Oqu(t.lcZ(67,77,"previous")),t.xp6(3),t.Oqu(t.lcZ(70,79,"current")),t.xp6(3),t.Oqu(t.lcZ(73,81,"total")),t.xp6(24),t.Q6J("ngForOf",n.fakeData),t.xp6(4),t.Oqu(t.lcZ(101,83,"total_due")),t.xp6(5),t.hij("",t.lcZ(106,85,"reference")," 2"),t.xp6(5),t.Oqu(t.lcZ(111,87,"project_name")),t.xp6(4),t.Oqu(t.lcZ(115,89,"project_name")),t.xp6(4),t.Oqu(t.lcZ(119,91,"construction_name")),t.xp6(4),t.Oqu(t.lcZ(123,93,"construction_name")),t.xp6(4),t.Oqu(t.lcZ(127,95,"project_type")),t.xp6(4),t.Oqu(t.lcZ(131,97,"project_type")),t.xp6(7),t.Oqu(t.lcZ(138,99,"code")),t.xp6(3),t.Oqu(t.lcZ(141,101,"product")),t.xp6(3),t.Oqu(t.lcZ(144,103,"unit")),t.xp6(3),t.Oqu(t.lcZ(147,105,"percentage")),t.xp6(3),t.Oqu(t.lcZ(150,107,"category")),t.xp6(3),t.Oqu(t.lcZ(153,109,"quantity")),t.xp6(3),t.Oqu(t.lcZ(156,111,"total")),t.xp6(3),t.Oqu(t.lcZ(159,113,"note")),t.xp6(4),t.Oqu(t.lcZ(163,115,"previous")),t.xp6(3),t.Oqu(t.lcZ(166,117,"current")),t.xp6(3),t.Oqu(t.lcZ(169,119,"total")),t.xp6(24),t.Q6J("ngForOf",n.fakeData),t.xp6(4),t.Oqu(t.lcZ(197,121,"total_due")))},dependencies:[i.sg,j.r,A.X$],styles:["input[_ngcontent-%COMP%]{background-color:#d3d3d3!important}.detail[_ngcontent-%COMP%]{background-color:var(--lightGray);padding:20px!important}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}i[_ngcontent-%COMP%]{cursor:pointer}h2[_ngcontent-%COMP%]{color:#003d5b}table[_ngcontent-%COMP%]{margin-top:60px!important;font-size:15px;background-color:#f8f8f8!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 5px!important}label[_ngcontent-%COMP%]{font-weight:700;font-size:17px}tbody[_ngcontent-%COMP%]{background-color:#f8f8f8!important}.header[_ngcontent-%COMP%]{margin-top:70px!important}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;color:#979797}tfoot[_ngcontent-%COMP%]{background-color:#115fa4!important}tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#115fa4;color:#fff}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;background-color:#f8f8f8!important}"]}),o})();var Zt=r(1556),ht=r(3271),vt=r(6014);function xt(o,a){if(1&o&&(t.TgZ(0,"div",27),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function Ct(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.project_phase[0])}}function At(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.construction_name[0])}}function Tt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.work_types[0])}}function qt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.clauses[0])}}function Ot(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.units[0])}}function jt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.category[0])}}function Pt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.price[0])}}function Ut(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.quantity[0])}}function bt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.ratio[0])}}function yt(o,a){if(1&o){const e=t.EpF();t.ynx(0,29),t.TgZ(1,"div",11),t._UZ(2,"app-text",30),t.ALo(3,"translate"),t.YNc(4,qt,2,1,"p",13),t.qZA(),t.TgZ(5,"div",11),t._UZ(6,"app-text",31),t.ALo(7,"translate"),t.YNc(8,Ot,2,1,"p",13),t.qZA(),t.TgZ(9,"div",11),t._UZ(10,"app-text",30),t.ALo(11,"translate"),t.YNc(12,jt,2,1,"p",13),t.qZA(),t.TgZ(13,"div",11),t._UZ(14,"app-text",32),t.ALo(15,"translate"),t.YNc(16,Pt,2,1,"p",13),t.qZA(),t.TgZ(17,"div",11),t._UZ(18,"app-text",33),t.ALo(19,"translate"),t.YNc(20,Ut,2,1,"p",13),t.qZA(),t.TgZ(21,"div",11),t._UZ(22,"app-text",33),t.ALo(23,"translate"),t.YNc(24,bt,2,1,"p",13),t.qZA(),t.TgZ(25,"h3",25),t.NdJ("click",function(){const p=t.CHM(e).index,f=t.oxw();return t.KtG(f.deleteProductFromList(p))}),t._UZ(26,"i",34),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.BQk()}if(2&o){const e=a.$implicit,n=t.oxw();t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(3,37,"clauses")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.clause_name),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.clauses),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(7,39,"Units")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.unit_name),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.units),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(11,41,"category")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.category_name),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.category),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(15,43,"price")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.price),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.price),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(19,45,"quantity")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.quantity),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.quantity),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(23,47,"ratio")),t.Q6J("readOnly",!0)("value",null==e.value?null:e.value.ratio),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.ratio),t.xp6(3),t.hij(" ",t.lcZ(28,49,"delete"),"")}}function wt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.clauses[0])}}function Lt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.units[0])}}function Mt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.category[0])}}function Vt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.price[0])}}function Nt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.quantity[0])}}function Jt(o,a){if(1&o&&(t.TgZ(0,"p",28),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.serverValidation?null:e.serverValidation.ratio[0])}}const Dt=[{path:"",component:ut},{path:"create",component:w},{path:"view/:id",component:gt,resolve:(o,a)=>(0,t.f3M)(P).get(o.params.id)},{path:"track/:id",component:ft},{path:"assign/:id",component:(()=>{class o{constructor(e,n,s,p,f){this.fb=e,this.toaster=n,this.projectsService=s,this.route=p,this.categoriesService=f,this.unsubscribe=new g.x,this.formGroup=this.initForm(),this.projectPhasesConfig=L.N,this.constructionNameConfig=Zt.N,this.workTypeConfig=ht.K,this.clausesConfig=F.N,this.categoryConfig=J.t,this.unitsConfig=D.R,this.isLoading=!1,this.projects=[]}ngOnInit(){this.route.snapshot.paramMap.get("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.title="update_journal_entry",this.route.data.pipe((0,x.R)(this.unsubscribe)).subscribe({next:e=>{this.data=e,this.fillDataToUpdate()},error:e=>{}})),this.projectsService.getCategories().pipe((0,x.R)(this.unsubscribe)).subscribe({next:e=>{this.categories=e.data,console.log(e)},error:e=>{}}),this.projectsService.getUnits().pipe((0,x.R)(this.unsubscribe)).subscribe({next:e=>{this.units=e.data},error:e=>{}}),this.projectsService.getClauses().pipe((0,x.R)(this.unsubscribe)).subscribe({next:e=>{console.log(e),this.clauses=e.data},error:e=>{}})}get workClauses(){return this.formGroup.get("works")}get workClause(){return this.formGroup.get("work")}addWorkToList(){console.log(this.workClause),this.workClauses.push(this.fb.group({clauses:this.workClause?.value.clauses,clause_name:this.workClause?.value.clause_name,category:this.workClause?.value.category,category_name:this.workClause?.value.category_name,units:this.workClause?.value.units,unit_name:this.workClause?.value.unit_name,work_types:this.workClause?.value.work_types,price:this.workClause?.value.price,quantity:this.workClause?.value.quantity,ratio:this.workClause?.value.ratio})),this.clearProductForm()}deleteProductFromList(e){this.workClauses.controls.forEach((n,s)=>{}),this.workClauses.removeAt(e)}reject(e){}onSubmit(){}initForm(){return this.fb.group({id:[Number],construction_name:[""],project_name:[""],project_phase:[""],work_types:[""],works:this.fb.array([]),work:this.fb.group({category:[""],units:[""],clauses:[""],clause_name:[""],unit_name:[""],category_name:[""],price:[""],quantity:[""],ratio:[""]})})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():(this.isLoading=!0,this.data?this.projectsService.update(this.formGroup.value).subscribe(e=>{this.toaster.success(e.message)},e=>{this.errors=e.error.errors,this.isLoading=!1}):(console.log(this.formGroup.value),this.projectsService.create(this.formGroup.value).subscribe(e=>{this.toaster.success(e.message)},e=>{this.errors=e.error.errors,this.isLoading=!1})))}clearProductForm(){this.workClause?.patchValue({units:"",clauses:"",category:"",price:"",ratio:"",quantity:""})}getCategories(e){let n=this.categories.find(s=>s.id===e.value);console.log(n),this.formGroup.get("work")?.patchValue({category_name:n.name})}getUnits(e){let n=this.units.find(s=>s.id===e.value);this.formGroup.get("work")?.patchValue({unit_name:n.name})}getClauses(e){let n=this.clauses.find(s=>s.id===e.value);this.formGroup.get("work")?.patchValue({clause_name:n.name})}fillDataToUpdate(){this.formGroup.patchValue({id:this.data?.id,project_name:this.data?.project_name,project_phase:this.data?.project_phase,start_date:this.data?.start_date,work_types:this.data?.work_types,end_date:this.data?.end_date,deduction_options:this.data?.deduction_options,downpayment_option:this.data?.downpayment_option,assigned_budget:this.data?.assigned_budget,assigned_engineer:this.data?.assigned_engineer,milestones:this.data?.milestones,suppliers:this.data?.suppliers,estimated_cost_for_resource:this.data?.estimated_cost_for_resource,project_description:this.data?.project_description})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.qu),t.Y36(y._W),t.Y36(P),t.Y36(m.gz),t.Y36(vt.G))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-assign-project"]],decls:62,vars:83,consts:[[1,"container-sm","main","rounded"],[1,"header","row","justify-content-between","align-items-center"],["routerLink","/key/project-management/projects",1,"title","pointer","col-md-6"],[1,"d-flex","align-items-center","justify-content-end","g-2","col-md-6"],[1,"px-1"],["routerLink","/key/project-management/projects",1,"btn-cancel",3,"iconPos","icon","text"],[1,"btn-filter",3,"text","iconPos","icon","click"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"fw-bold","mb-4"],[1,"col-md-4","col-12"],["optionLabel","name","optionValue","id","formControlName","project_phase","ngDefaultControl","","placeholder","select",3,"request","text"],["class","error",4,"ngIf"],["optionLabel","name","optionValue","id","formControlName","construction_name","ngDefaultControl","","placeholder","select",3,"request","text"],["optionLabel","name","optionValue","id","formControlName","work_types","ngDefaultControl","","placeholder","select",3,"request","text"],[1,"fw-bold","my-4"],["formArrayName","works",4,"ngFor","ngForOf"],["formGroupName","work",1,"row","mt-4"],["optionLabel","name","optionValue","id","formControlName","clauses","ngDefaultControl","","placeholder","select",3,"data","text","onDropDownChange"],["optionLabel","name","optionValue","id","formControlName","units","ngDefaultControl","","placeholder","select",3,"data","text","onDropDownChange"],["optionLabel","name","optionValue","id","formControlName","category","ngDefaultControl","","placeholder","select",3,"data","text","onDropDownChange"],["formControlName","price","ngDefaultControl","","placeholder","",3,"text"],["formControlName","quantity","ngDefaultControl","","placeholder","",3,"text"],["formControlName","ratio","ngDefaultControl","","placeholder","",3,"text"],[1,"text-center",3,"click"],[1,"fa","fa-plus"],[1,"text-error"],[1,"error"],["formArrayName","works"],["optionLabel","name","optionValue","id","ngDefaultControl","","placeholder","",3,"text","readOnly","value"],["optionLabel","name","optionValue","id","ng","","DefaultControl","","placeholder","",3,"text","readOnly","value"],["DefaultControl","","placeholder","",3,"text","readOnly","value"],["ngDefaultControl","","placeholder","",3,"text","readOnly","value"],[1,"fa","fa-trash"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"app-button",5),t.qZA(),t.TgZ(8,"div",4)(9,"app-button",6),t.NdJ("click",function(){return n.accept()}),t.qZA()()()(),t.TgZ(10,"app-form",7),t.NdJ("onSubmit",function(){return n.accept()}),t.YNc(11,xt,2,1,"div",8),t.ALo(12,"keyvalue"),t.TgZ(13,"div",9)(14,"h3",10),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",11),t._UZ(18,"app-dropdown",12),t.ALo(19,"translate"),t.YNc(20,Ct,2,1,"p",13),t.qZA(),t.TgZ(21,"div",11),t._UZ(22,"app-dropdown",14),t.ALo(23,"translate"),t.YNc(24,At,2,1,"p",13),t.qZA(),t.TgZ(25,"div",11),t._UZ(26,"app-dropdown",15),t.ALo(27,"translate"),t.YNc(28,Tt,2,1,"p",13),t.qZA(),t.TgZ(29,"h3",16),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.YNc(32,yt,29,51,"ng-container",17),t.qZA(),t.TgZ(33,"div",18)(34,"div",11)(35,"app-dropdown",19),t.NdJ("onDropDownChange",function(p){return n.getClauses(p)}),t.ALo(36,"translate"),t.qZA(),t.YNc(37,wt,2,1,"p",13),t.qZA(),t.TgZ(38,"div",11)(39,"app-dropdown",20),t.NdJ("onDropDownChange",function(p){return n.getUnits(p)}),t.ALo(40,"translate"),t.qZA(),t.YNc(41,Lt,2,1,"p",13),t.qZA(),t.TgZ(42,"div",11)(43,"app-dropdown",21),t.NdJ("onDropDownChange",function(p){return n.getCategories(p)}),t.ALo(44,"translate"),t.qZA(),t.YNc(45,Mt,2,1,"p",13),t.qZA(),t.TgZ(46,"div",11),t._UZ(47,"app-text",22),t.ALo(48,"translate"),t.YNc(49,Vt,2,1,"p",13),t.qZA(),t.TgZ(50,"div",11),t._UZ(51,"app-text",23),t.ALo(52,"translate"),t.YNc(53,Nt,2,1,"p",13),t.qZA(),t.TgZ(54,"div",11),t._UZ(55,"app-text",24),t.ALo(56,"translate"),t.YNc(57,Jt,2,1,"p",13),t.qZA()(),t.TgZ(58,"h3",25),t.NdJ("click",function(){return n.addWorkToList()}),t._UZ(59,"i",26),t._uU(60),t.ALo(61,"translate"),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,55,"work_clause_assignments")," "),t.xp6(4),t.Q6J("iconPos","left")("icon","fa-solid fa-ban")("text","cancel"),t.xp6(2),t.Q6J("text","save")("iconPos","left")("icon","fa-solid fa-check"),t.xp6(1),t.Q6J("formGroup",n.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(12,57,n.errors)),t.xp6(4),t.Oqu(t.lcZ(16,59,"project_assignment")),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(19,61,"project_phase")),t.Q6J("request",n.projectPhasesConfig.api.get),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.project_phase),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(23,63,"construction_name")),t.Q6J("request",n.constructionNameConfig.api.get),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.construction_name),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(27,65,"work_type")),t.Q6J("request",n.workTypeConfig.api.get),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.work_types),t.xp6(2),t.Oqu(t.lcZ(31,67,"work_clauses")),t.xp6(2),t.Q6J("ngForOf",n.workClauses.controls),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(36,69,"clauses")),t.Q6J("data",n.clauses),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.clauses),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(40,71,"Units")),t.Q6J("data",n.units),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.units),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(44,73,"category")),t.Q6J("data",n.categories),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.category),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(48,75,"price")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.price),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(52,77,"quantity")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.quantity),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.s9C("text",t.lcZ(56,79,"ratio")),t.xp6(2),t.Q6J("ngIf",null==n.serverValidation?null:n.serverValidation.ratio),t.xp6(3),t.hij(" ",t.lcZ(61,81,"add"),""))},dependencies:[i.sg,i.O5,m.rH,M.U,d.Fj,d.JJ,d.JL,d.sg,d.u,d.x0,d.CE,V.T,N.J,j.r,i.Nd,A.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .entry-no[_ngcontent-%COMP%]{padding-right:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{padding-left:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;padding:17px 5px;border:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background-color:var(--mainColor)!important;color:var(--white);font-size:14px;padding:10px}h3.text-center[_ngcontent-%COMP%]{cursor:pointer;margin-top:10px!important;margin-bottom:10px!important}"]}),o})()}];let Ft=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(Dt),m.Bz]}),o})();var kt=r(1383),Qt=r(4413),It=r(1890),Yt=r(1019),Gt=r(2115),Et=r(8096),St=r(1471);let Rt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[i.ez,Ft,St.X,Gt.u,Qt.e,It.f,Yt.i,Et.J,A.aw,kt.m]}),o})()},4896:(U,Z,r)=>{r.d(Z,{Y:()=>C});var i=r(9291),m=r(67),u=r(6223),_=r(6814),T=r(3999);function q(c,t){1&c&&i._UZ(0,"i",7)}function h(c,t){if(1&c&&(i.TgZ(0,"label",4),i._uU(1),i.ALo(2,"titlecase"),i.ALo(3,"translate"),i.TgZ(4,"span",5),i.YNc(5,q,1,0,"i",6),i.qZA()()),2&c){const l=i.oxw();i.xp6(1),i.hij("",i.lcZ(2,2,i.lcZ(3,4,l.label))," "),i.xp6(4),i.Q6J("ngIf",l.control&&(null==l.control.errors?null:l.control.errors.required))}}function v(c,t){if(1&c&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&c){const l=i.oxw();i.xp6(1),i.Oqu(i.lcZ(2,1,l.selectedFileCount+"files"))}}function b(c,t){if(1&c&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&c){const l=i.oxw();i.xp6(1),i.Oqu(l.selectedFileName?l.selectedFileName:i.lcZ(2,1,l.placeholder))}}let C=(()=>{class c extends m.t{set clear(l){l&&(this.selectedFileCount=0,this.selectedFileName="",this.value=null)}constructor(l){super(),this.formGroupDirective=l,this.uploadedFiles=[],this.multiple=!0,this.label="Upload",this.placeholder="drag_and_drop_you_file_or_Click_here_to_upload",this.accept=".jpg,.jpeg,.png,.pdf,.doc,.docx,.xls,.xlsx",this.onValueChange=new i.vpe,this.selectedFileName="",this.selectedFileCount=0}onFileSelected(l){this.onValueChange.emit(l),this.selectedFileName=l.target.files[0].name,l.target.files&&l.target.files.length>0&&(this.selectedFileCount=l.target.files.length)}onUpload(l){for(let g of l.files)this.uploadedFiles.push(g)}}return c.\u0275fac=function(l){return new(l||c)(i.Y36(u.sg,8))},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-file-upload"]],inputs:{value:"value",multiple:"multiple",label:"label",placeholder:"placeholder",accept:"accept",clear:"clear"},outputs:{onValueChange:"onValueChange"},features:[i._Bn([{provide:u.JU,useExisting:c,multi:!0},{provide:u.Cf,useExisting:c,multi:!0}]),i.qOj],decls:5,vars:6,consts:[[1,"file-input"],["for","file",4,"ngIf"],[4,"ngIf"],["id","file","type","file","id","file",1,"form-control",3,"multiple","ngModel","accept","ngModelChange","change"],["for","file"],[1,"required-aster"],["class","fa-solid fa-asterisk",4,"ngIf"],[1,"fa-solid","fa-asterisk"]],template:function(l,g){1&l&&(i.TgZ(0,"div",0),i.YNc(1,h,6,6,"label",1),i.YNc(2,v,3,3,"p",2),i.YNc(3,b,3,3,"p",2),i.TgZ(4,"input",3),i.NdJ("ngModelChange",function(O){return g.value=O})("change",function(O){return g.onFileSelected(O)}),i.qZA()()),2&l&&(i.xp6(1),i.Q6J("ngIf",g.label),i.xp6(1),i.Q6J("ngIf",g.selectedFileCount>1),i.xp6(1),i.Q6J("ngIf",g.selectedFileCount<=1),i.xp6(1),i.Q6J("multiple",g.multiple)("ngModel",g.value)("accept",g.accept))},dependencies:[_.O5,u.Fj,u.JJ,u.On,_.rS,T.X$],styles:[".file-input[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:0;width:100%;height:100%;min-width:200px!important}.file-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;padding:8px;border:1px dashed #7ca0c5;border-radius:8px;font-size:14px;cursor:pointer;min-width:200px!important;text-align:center;overflow:hidden}"]}),c})()},8718:(U,Z,r)=>{r.d(Z,{x:()=>i});const i={api:{create:"user/create",get:"user",getById:"user/",update:"user/update/",delete:"user/",exportCvs:"user/export/cvs",exportPdf:"user/export/pdf",import:"user/import",export:"user/data/export"},page:{list:"",view:"view/:id"}}},9773:(U,Z,r)=>{r.d(Z,{R:()=>T});var i=r(9360),m=r(8251),u=r(4829),_=r(2420);function T(q){return(0,i.e)((h,v)=>{(0,u.Xf)(q).subscribe((0,m.x)(v,()=>v.complete(),_.Z)),!v.closed&&h.subscribe(v)})}}}]);