"use strict";(self.webpackChunkkey=self.webpackChunkkey||[]).push([[4051],{4051:(rt,A,r)=>{r.r(A),r.d(A,{ChartsOfAccountModule:()=>Pe});var p=r(6814),C=r(8209),u=r(5861),b=r(8323),x=r(9686),y=r(5052),P=r(8730),g=r(5219),O=r(68),t=r(9291),ct=r(3636),Z=r(8763),m=r(3999),w=r(8275),N=r(2377),k=r(991),S=r(359),_=r(4779),G=r(5077),Q=r(3826),T=r(1732);let z=(()=>{class n{constructor(e){this.http=e,this.icon=g.dv}exportTree(){this.http.get("account/export/chart").subscribe({next:e=>{window.open(e.file_path)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-categories"]],inputs:{cat:"cat"},decls:18,vars:22,consts:[[1,"options-cat","d-md-flex","justify-content-between","align-items-center"],[1,"col-xl-8","table-responsive"],[1,"row","options","rounded-pill","p-1"],["routerLink","/key/accounting/charts-of-account/group-type",3,"ngClass"],["routerLink","/key/accounting/charts-of-account/groups",3,"ngClass"],["routerLink","/key/accounting/charts-of-account/accounts",3,"ngClass"],["routerLink","/key/accounting/charts-of-account/sup-accounts",3,"ngClass"],[1,"d-flex"],[1,"px-5",3,"iconPos","icon","text","click"],["routerLink","/key/accounting/charts-of-account/view-hierarchy",1,"btn-cancel",3,"iconPos","icon","text"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"span",4),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",6),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"div",7)(16,"app-button",8),t.NdJ("click",function(){return o.exportTree()}),t.qZA(),t._UZ(17,"app-button",9),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngClass","group-type"==o.cat?"col-3 rounded-pill pointer active-option":"col-3 rounded-pill pointer"),t.xp6(1),t.Oqu(t.lcZ(5,14,"groups_type_cat")),t.xp6(2),t.Q6J("ngClass","groups"==o.cat?"col-3 rounded-pill pointer active-option":"col-3 rounded-pill pointer"),t.xp6(1),t.Oqu(t.lcZ(8,16,"groups")),t.xp6(2),t.Q6J("ngClass","accounts"==o.cat?"col-3 rounded-pill pointer active-option":"col-3 rounded-pill pointer"),t.xp6(1),t.Oqu(t.lcZ(11,18,"accounts")),t.xp6(2),t.Q6J("ngClass","supAccounts"==o.cat?"col-3 rounded-pill pointer active-option":"col-3 rounded-pill pointer"),t.xp6(1),t.Oqu(t.lcZ(14,20,"sub_accounts")),t.xp6(3),t.Q6J("iconPos","left")("icon",o.icon.EYE)("text","download"),t.xp6(1),t.Q6J("iconPos","left")("icon",o.icon.EYE)("text","view"))},dependencies:[p.mk,C.rH,_.r,m.X$],styles:["[_nghost-%COMP%]{font-size:1.6rem}[_nghost-%COMP%]   .options-cat[_ngcontent-%COMP%]{margin:2rem 0}[_nghost-%COMP%]   .options-cat[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{border:2px solid var(--mainColor);margin:5px}[_nghost-%COMP%]   .options-cat[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;padding:4px;min-width:130px}[_nghost-%COMP%]   .options-cat[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .active-option[_ngcontent-%COMP%]{background-color:var(--mainColor);color:#fff;padding:4px}"]}),n})();function st(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"button",20),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ul",21)(5,"li",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exportExample())}),t._uU(6),t.ALo(7,"titlecase"),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.export())}),t._uU(10),t.ALo(11,"titlecase"),t.ALo(12,"translate"),t.qZA()()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"export")," "),t.xp6(4),t.hij(" ",t.lcZ(7,5,t.lcZ(8,7,"example"))," "),t.xp6(4),t.hij(" ",t.lcZ(11,9,t.lcZ(12,11,"data"))," "))}function pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-button",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.createAccount("add_account"))}),t.qZA()}2&n&&t.Q6J("text","new")}function lt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"app-import-data",23),t.NdJ("onlCoseSectionImport",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.closeSectionToImport(a))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("endPoint",e.fileConfig.api.importAccount)}}const D=function(n){return[n]};let dt=(()=>{class n{constructor(e,o,a){this.accountsService=e,this.toastr=o,this.translateService=a,this.tableConfig=(0,b.p)(this),this.filtersConfig=(0,y.a)(),this.sortConfig=(0,P.D)(),this.fileConfig=O.a,this.permissions=x.m,this.showImportForm=!1,this.icon=g.dv}createAccount(e){var o=this;return(0,u.Z)(function*(){(yield o.accountsService.openDialogToCreateAccount(e))&&(o.tableConfig=(0,b.p)(o))})()}openSectionToImportAccount(){this.showImportForm=!0}closeSectionToImport(e){e?(this.showImportForm=!1,this.tableConfig=(0,b.p)(this)):this.showImportForm=!1}exportExample(){this.accountsService.exportExample().subscribe(e=>{window.open(e.file_path)})}export(){this.accountsService.export().subscribe(e=>{window.open(e.file_path)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ct.i),t.Y36(Z._W),t.Y36(m.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-account"]],decls:23,vars:21,consts:[[1,"page-card"],["cat","accounts"],[1,"d-flex","justify-content-between","pb-5"],[1,"title"],[1,"d-flex","gap-2","align-items-center"],["class","dropdown",4,"hasPermissions"],[3,"text","click"],[3,"text","click",4,"hasPermissions"],[4,"ngIf"],[1,"d-flex","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"tableConfig","pagination","filter","sort"],["table",""],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-cancel","dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"pointer","dropdown-item",3,"click"],[3,"endPoint","onlCoseSectionImport"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-list-categories",1),t.TgZ(2,"div",2)(3,"h5",3),t._uU(4),t.ALo(5,"titlecase"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,st,13,13,"div",5),t.TgZ(9,"app-button",6),t.NdJ("click",function(){return o.openSectionToImportAccount()}),t.qZA(),t.YNc(10,pt,1,1,"app-button",7),t.qZA()(),t.YNc(11,lt,2,1,"div",8),t.TgZ(12,"div",9),t._UZ(13,"ukt-sort",10,11)(15,"ukt-filter",12,13),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"app-table",15,16),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"ukt-pagination",null,18),t.qZA()()),2&e){const a=t.MAs(14),c=t.MAs(16),d=t.MAs(22);t.xp6(4),t.Oqu(t.lcZ(5,13,t.lcZ(6,15,"list_of_accounts"))),t.xp6(4),t.Q6J("hasPermissions",t.VKq(17,D,o.permissions.list)),t.xp6(1),t.Tol("btn-cancel"),t.Q6J("text","import"),t.xp6(1),t.Q6J("hasPermissions",t.VKq(19,D,o.permissions.create)),t.xp6(1),t.Q6J("ngIf",o.showImportForm),t.xp6(2),t.Q6J("SortConfig",o.sortConfig),t.xp6(2),t.Q6J("config",o.filtersConfig),t.xp6(3),t.Q6J("tableConfig",o.tableConfig)("pagination",d)("filter",c)("sort",a)}},dependencies:[p.O5,w.z,N.a,k.M,S.Q,_.r,G.z,Q.x,z,p.rS,m.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}.import[_ngcontent-%COMP%]{padding:20px;border:2px solid var(--mainColor);border-radius:8px;margin:10px 0}.import[_ngcontent-%COMP%]   .import-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}.import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}.import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}.dropdown[_ngcontent-%COMP%]{background-color:transparent!important}.dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent!important;border:1px solid var(--mainColor);font-size:1.5rem;padding:6px}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.5rem}"]}),n})();var Y=r(3641),J=function(n){return n.list="View Groups",n.create="Create Group",n.update="Edit Group",n.delete="Delete Group",n.exportPdf="Generate PDF groups",n.exportCvs="Export groups",n.import="Import groups",n}(J||{});const U=n=>{return{cols:[{field:"code",label:"code",class:""},{field:"name",label:"group_name",class:""},{field:"group_type_name",label:"group_type",format:i=>i.group_type_name?i.group_type_name:"-"},{field:"creator",label:"created_by",format:i=>i.creator?i.creator:"-"},{field:"created_at",label:"created_at",class:""},{label:"action",actions:[{id:J.delete,icon:"trash",class:"main-color",fun:(i=(0,u.Z)(function*(e){return yield n.groupService.deleteGroup(e,"delete Group")}),function(o){return i.apply(this,arguments)})},{id:J.update,icon:"pen-to-square",class:"main-color",fun:function(){var i=(0,u.Z)(function*(e){return yield n.groupService.openDialogToUpdate(e)});return function(o){return i.apply(this,arguments)}}()}]}],Request:Y.l.api.get,titleRow:"name_code"};var i};var M=r(6924),V=r(9558),L=r(5946),mt=r(2525),l=r(6223);function ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",20)(1,"button",21),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ul",22)(5,"li",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exportExample())}),t._uU(6),t.ALo(7,"titlecase"),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exportGroups("csv"))}),t._uU(10),t.ALo(11,"titlecase"),t.ALo(12,"translate"),t.qZA()()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"export")," "),t.xp6(4),t.hij(" ",t.lcZ(7,5,t.lcZ(8,7,"example"))," "),t.xp6(4),t.hij(" ",t.lcZ(11,9,t.lcZ(12,11,"data"))," "))}function ft(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openSectionToImportGroupType())}),t._UZ(1,"i",25),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"import")," "))}function _t(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.newGroupType())}),t.qZA()}2&n&&(t.Tol("btn-filter"),t.Q6J("text","new"))}function Ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"app-import-data",27),t.NdJ("onlCoseSectionImport",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.closeSectionToImport(a))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("endPoint",e.fileConfig.api.importGroup)}}const F=function(n){return[n]};let xt=(()=>{class n{constructor(e,o,a){this.groupService=e,this.fb=o,this.toastr=a,this.sortConfig=[{optionLabel:"label",optionValue:"field",key:"sort_by",placeholder:"sort_by",data:[{label:"name",field:"name"},{label:"code",field:"code"},{label:"group_type",field:"group_type_id"},{label:"created_by",field:"creator"}]},{optionLabel:"label",optionValue:"field",key:"sort_type",placeholder:"sort_type",data:[{label:L.q.asc,field:L.q.asc},{label:L.q.desc,field:L.q.desc}]}],this.permissions=J,this.tableConfig=U(this),this.filtersConfig=[{field:"name",label:"name",type:M.W.TEXT,placeholder:"name"},{field:"from",label:"from",type:M.W.DATE,placeholder:"From"},{field:"to",label:"to",type:M.W.DATE,placeholder:"created_at"},{field:"code",label:"code",type:M.W.TEXT,placeholder:"code"},{field:"group_type_id",label:"group_type",type:M.W.SELECT,options:{value:"id",label:"name"},request:V.t.api.get,placeholder:"group_type"}],this.showImportForm=!1,this.fileConfig=Y.l}newGroupType(){var e=this;return(0,u.Z)(function*(){(yield e.groupService.openDialogToCreateGroup())&&(e.tableConfig=U(e))})()}openSectionToImportGroupType(){this.showImportForm=!0}closeSectionToImport(e){e?(this.showImportForm=!1,this.tableConfig=U(this)):this.showImportForm=!1}exportGroups(e){"csv"==e?this.groupService.exportGroupsCsv().subscribe(o=>{window.open(o.file_path)}):this.groupService.exportGroupsPdf().subscribe(o=>{window.open(o.file_path)})}exportExample(e){this.groupService.exportExample().subscribe(o=>{window.open(o.file_path)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(mt.l),t.Y36(l.qu),t.Y36(Z._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-group"]],decls:23,vars:19,consts:[[1,"page-card"],[1,"container-sm","main","rounded"],["cat","groups"],[1,"header"],[1,"d-sm-flex","justify-content-between"],[1,"title"],[1,"d-flex","gap-2","align-items-center"],["class","dropdown",4,"hasPermissions"],["class","btn p-3","type","button",3,"click",4,"hasPermissions"],[3,"text","class","click",4,"hasPermissions"],[4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"tableConfig","pagination","filter","sort"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-light","dropdown-toggle","p-3"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"pointer","dropdown-item",3,"click"],["type","button",1,"btn","p-3",3,"click"],[1,"fa-solid","fa-paperclip"],[3,"text","click"],[3,"endPoint","onlCoseSectionImport"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-list-categories",2),t.TgZ(3,"div",3)(4,"div",4)(5,"span",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",6),t.YNc(9,ht,13,13,"div",7),t.YNc(10,ft,4,3,"button",8),t.YNc(11,_t,1,3,"app-button",9),t.qZA()()(),t.YNc(12,Ct,2,1,"div",10),t.qZA(),t.TgZ(13,"div",11),t._UZ(14,"ukt-sort",12,13)(16,"ukt-filter",14,15),t.qZA(),t.TgZ(18,"div",16),t._UZ(19,"app-table",17),t.qZA(),t.TgZ(20,"div",18),t._UZ(21,"ukt-pagination",null,19),t.qZA()()),2&e){const a=t.MAs(15),c=t.MAs(17),d=t.MAs(22);t.xp6(6),t.Oqu(t.lcZ(7,11,"list_of_groups")),t.xp6(3),t.Q6J("hasPermissions",t.VKq(13,F,o.permissions.exportCvs)),t.xp6(1),t.Q6J("hasPermissions",t.VKq(15,F,o.permissions.import)),t.xp6(1),t.Q6J("hasPermissions",t.VKq(17,F,o.permissions.create)),t.xp6(1),t.Q6J("ngIf",o.showImportForm),t.xp6(2),t.Q6J("SortConfig",o.sortConfig),t.xp6(2),t.Q6J("config",o.filtersConfig),t.xp6(3),t.Q6J("tableConfig",o.tableConfig)("pagination",d)("filter",c)("sort",a)}},dependencies:[p.O5,w.z,N.a,k.M,S.Q,_.r,G.z,Q.x,z,p.rS,m.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{background-color:transparent!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px 0;background-color:transparent!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .export[_ngcontent-%COMP%]{width:115px;padding:5px;font-size:15px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:15px;height:-moz-fit-content;height:fit-content;text-align:center;font-weight:500;font-size:1.4rem;color:var(--mainColor);margin:5px 0;border:none;cursor:pointer;line-height:unset;border:1px solid var(--mainColor);border-radius:3.8px;padding:.7rem 1rem;padding:7px!important}"]}),n})();var I=function(n){return n.list="View GroupTypes",n.create="Create GroupType",n.update="Edit GroupType",n.delete="Delete GroupType",n.exportPdf="Generate PDF GroupTypes",n.exportCvs="Export GroupTypes",n.import="Import GroupTypes",n}(I||{});const j=n=>{return{cols:[{field:"code",label:"code",class:""},{field:"name",label:"type_name",class:""},{label:"action",actions:[{id:I.delete,icon:"trash",class:"main-color",fun:(i=(0,u.Z)(function*(e){return yield n.groupTypeService.deleteGroupType(e,"delete Group type")}),function(o){return i.apply(this,arguments)}),classCondition:"d-none",hideBasedOnCondition:!0,condition:i=>i.id<=5},{id:I.update,icon:"pen-to-square",class:"main-color",fun:function(){var i=(0,u.Z)(function*(e){return yield n.groupTypeService.openDialogToUpdate(e)});return function(o){return i.apply(this,arguments)}}()}]}],Request:V.t.api.get,titleRow:"code"};var i};var vt=r(2540);function bt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.newGroupType())}),t.qZA()}if(2&n){const e=t.oxw();t.Tol("btn-filter"),t.Q6J("text","new")("icon",e.icon.PLUS)("iconPos","left")}}const yt=function(n){return[n]};let K=(()=>{class n{constructor(e){this.groupTypeService=e,this.permissions=I,this.tableConfig=j(this),this.icon=g.dv}newGroupType(){var e=this;return(0,u.Z)(function*(){(yield e.groupTypeService.openDialogToCreateGroupType())&&(e.tableConfig=j(e))})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vt.Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-group-type"]],decls:14,vars:10,consts:[[1,"container-sm","main","rounded"],["cat","group-type"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"title"],[3,"text","class","icon","iconPos","click",4,"hasPermissions"],[1,"table"],[3,"tableConfig","pagination"],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""],[3,"text","icon","iconPos","click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-list-categories",1),t.TgZ(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5),t.ALo(6,"titlecase"),t.ALo(7,"translate"),t.qZA(),t.YNc(8,bt,1,5,"app-button",5),t.qZA()(),t.TgZ(9,"div",6),t._UZ(10,"app-table",7),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"ukt-pagination",null,9),t.qZA()()),2&e){const a=t.MAs(13);t.xp6(5),t.Oqu(t.lcZ(6,4,t.lcZ(7,6,"list_of_group_types"))),t.xp6(3),t.Q6J("hasPermissions",t.VKq(8,yt,o.permissions.create)),t.xp6(2),t.Q6J("tableConfig",o.tableConfig)("pagination",a)}},dependencies:[w.z,N.a,S.Q,_.r,z,p.rS,m.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor)}"]}),n})();var B=r(1396);const Ot=function(n){return[n]};function Zt(n,i){1&n&&t._UZ(0,"p-tree",2),2&n&&t.Q6J("value",t.VKq(1,Ot,i.$implicit))}let Tt=(()=>{class n{constructor(e){this.http=e}ngOnInit(){this.request&&this.http.get(this.request).subscribe({next:e=>{this.files=e.data},error:e=>{},complete:()=>{this.expandAll()}})}expandAll(){this.files.forEach(e=>{this.expandRecursive(e,!0)})}collapseAll(){this.files.forEach(e=>{this.expandRecursive(e,!1)})}expandRecursive(e,o){e.expanded=o,e.children&&e.children.forEach(a=>{this.expandRecursive(a,o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tree-node"]],inputs:{request:"request",files:"files",class:"class"},decls:2,vars:1,consts:[[1,"row"],["class","col",3,"value",4,"ngFor","ngForOf"],[1,"col",3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Zt,1,3,"p-tree",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.files))},dependencies:[p.sg,B.mp]}),n})();var s=r(6656),f=r(6825),H=r(8645),R=r(6005),X=r(5837),W=r(2076);const Mt=["pOrganizationChartNode",""];function At(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.node.label)}}function Pt(n,i){1&n&&t.GkF(0)}const $=function(n){return{$implicit:n}};function wt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Pt,1,0,"ng-container",7),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.chart.getTemplateForNode(e.node))("ngTemplateOutletContext",t.VKq(2,$,e.node))}}const q=function(){return{display:"inline"}};function Nt(n,i){1&n&&t._UZ(0,"ChevronDownIcon",11),2&n&&t.Q6J("styleClass","p-node-toggler-icon")("ngStyle",t.DdM(2,q))}function St(n,i){1&n&&t._UZ(0,"ChevronUpIcon",11),2&n&&t.Q6J("styleClass","p-node-toggler-icon")("ngStyle",t.DdM(2,q))}function zt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Nt,1,3,"ChevronDownIcon",10),t.YNc(2,St,1,3,"ChevronUpIcon",10),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.node.expanded),t.xp6(1),t.Q6J("ngIf",!e.node.expanded)}}function Jt(n,i){}function Lt(n,i){1&n&&t.YNc(0,Jt,0,0,"ng-template")}function It(n,i){if(1&n&&(t.TgZ(0,"span",12),t.YNc(1,Lt,1,0,null,7),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("ngStyle",t.DdM(3,q)),t.xp6(1),t.Q6J("ngTemplateOutlet",e.chart.togglerIconTemplate)("ngTemplateOutletContext",t.VKq(4,$,e.node.expanded))}}function kt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.toggleNode(a,c.node))})("keydown.enter",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.toggleNode(a,c.node))}),t.YNc(1,zt,3,2,"ng-container",0),t.YNc(2,It,2,6,"span",9),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.chart.togglerIconTemplate),t.xp6(1),t.Q6J("ngIf",e.chart.togglerIconTemplate)}}function Gt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td"),t._UZ(2,"div",4),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.uIk("colspan",e.colspan)}}const tt=function(n){return{"p-organizationchart-line-top":n}};function Qt(n,i){if(1&n&&(t.TgZ(0,"td",14),t._uU(1,"\xa0"),t.qZA(),t.TgZ(2,"td",15),t._uU(3,"\xa0"),t.qZA()),2&n){const o=i.last;t.Q6J("ngClass",t.VKq(2,tt,!i.first)),t.xp6(2),t.Q6J("ngClass",t.VKq(4,tt,!o))}}function Ut(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Qt,4,6,"ng-template",13),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.node.children)}}function Ft(n,i){if(1&n&&(t.TgZ(0,"td",16),t._UZ(1,"table",17),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("node",e)}}const qt=function(n,i){return{"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":n,"p-highlight":i}};function Et(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",1),t.NdJ("click",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onNodeClick(a,c.node))}),t.YNc(4,At,2,1,"div",0),t.YNc(5,wt,2,4,"div",0),t.YNc(6,kt,3,2,"a",2),t.qZA()()(),t.TgZ(7,"tr",3)(8,"td"),t._UZ(9,"div",4),t.qZA()(),t.TgZ(10,"tr",3),t.YNc(11,Gt,3,1,"ng-container",0),t.YNc(12,Ut,2,1,"ng-container",0),t.qZA(),t.TgZ(13,"tr",5),t.YNc(14,Ft,2,1,"td",6),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.uIk("colspan",e.colspan),t.xp6(1),t.Tol(e.node.styleClass),t.Q6J("ngClass",t.WLB(17,qt,e.chart.selectionMode&&!1!==e.node.selectable,e.isSelected())),t.xp6(1),t.Q6J("ngIf",!e.chart.getTemplateForNode(e.node)),t.xp6(1),t.Q6J("ngIf",e.chart.getTemplateForNode(e.node)),t.xp6(1),t.Q6J("ngIf",!e.leaf),t.xp6(1),t.Q6J("ngClass",!e.leaf&&e.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),t.xp6(1),t.uIk("colspan",e.colspan),t.xp6(2),t.Q6J("ngClass",!e.leaf&&e.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),t.xp6(1),t.Q6J("ngIf",e.node.children&&1===e.node.children.length),t.xp6(1),t.Q6J("ngIf",e.node.children&&e.node.children.length>1),t.xp6(1),t.Q6J("ngClass",!e.leaf&&e.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),t.xp6(1),t.Q6J("ngForOf",e.node.children)}}function Dt(n,i){if(1&n&&t._UZ(0,"table",2),2&n){const e=t.oxw();t.Q6J("node",e.root)}}const Yt=function(n){return{"p-organizationchart p-component":!0,"p-organizationchart-preservespace":n}};let Vt=(()=>{class n{constructor(e,o){(0,s.Z)(this,"cd",void 0),(0,s.Z)(this,"node",void 0),(0,s.Z)(this,"root",void 0),(0,s.Z)(this,"first",void 0),(0,s.Z)(this,"last",void 0),(0,s.Z)(this,"chart",void 0),(0,s.Z)(this,"subscription",void 0),this.cd=o,this.chart=e,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){if(this.node)return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){if(this.node)return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(e,o){this.chart.onNodeClick(e,o)}toggleNode(e,o){o.expanded=!o.expanded,o.expanded?this.chart.onNodeExpand.emit({originalEvent:e,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:e,node:this.node}),e.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}}return(0,s.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36((0,t.Gpc)(()=>et)),t.Y36(t.sBO))}),(0,s.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:"root",first:"first",last:"last"},attrs:Mt,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter",4,"ngIf"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter"],["class","p-node-toggler-icon",3,"ngStyle",4,"ngIf"],[3,"styleClass","ngStyle",4,"ngIf"],[3,"styleClass","ngStyle"],[1,"p-node-toggler-icon",3,"ngStyle"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(e,o){1&e&&t.YNc(0,Et,15,20,"tbody",0),2&e&&t.Q6J("ngIf",o.node)},dependencies:function(){return[p.mk,p.sg,p.O5,p.tP,p.PC,R.v,X.g,n]},styles:[".p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}\n"],encapsulation:2,data:{animation:[(0,f.X$)("childState",[(0,f.SB)("in",(0,f.oB)({opacity:1})),(0,f.eR)("void => *",[(0,f.oB)({opacity:0}),(0,f.jt)(150)]),(0,f.eR)("* => void",[(0,f.jt)(150,(0,f.oB)({opacity:0}))])])]},changeDetection:0})),n})(),et=(()=>{class n{get selection(){return this._selection}set selection(e){this._selection=e,this.initialized&&this.selectionSource.next(null)}constructor(e,o){(0,s.Z)(this,"el",void 0),(0,s.Z)(this,"cd",void 0),(0,s.Z)(this,"value",void 0),(0,s.Z)(this,"style",void 0),(0,s.Z)(this,"styleClass",void 0),(0,s.Z)(this,"selectionMode",void 0),(0,s.Z)(this,"preserveSpace",!0),(0,s.Z)(this,"selectionChange",new t.vpe),(0,s.Z)(this,"onNodeSelect",new t.vpe),(0,s.Z)(this,"onNodeUnselect",new t.vpe),(0,s.Z)(this,"onNodeExpand",new t.vpe),(0,s.Z)(this,"onNodeCollapse",new t.vpe),(0,s.Z)(this,"templates",void 0),(0,s.Z)(this,"templateMap",void 0),(0,s.Z)(this,"togglerIconTemplate",void 0),(0,s.Z)(this,"selectionSource",new H.x),(0,s.Z)(this,"_selection",void 0),(0,s.Z)(this,"initialized",void 0),(0,s.Z)(this,"selectionSource$",this.selectionSource.asObservable()),this.el=e,this.cd=o}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(e=>{"togglericon"===e.getType()?this.togglerIconTemplate=e.template:this.templateMap[e.getType()]=e.template}),this.initialized=!0}getTemplateForNode(e){return this.templateMap?e.type?this.templateMap[e.type]:this.templateMap.default:null}onNodeClick(e,o){let a=e.target;if((!a.className||!W.p.hasClass(a,"p-node-toggler")&&!W.p.hasClass(a,"p-node-toggler-icon"))&&this.selectionMode){if(!1===o.selectable)return;let c=this.findIndexInSelection(o),d=c>=0;"single"===this.selectionMode?d?(this.selection=null,this.onNodeUnselect.emit({originalEvent:e,node:o})):(this.selection=o,this.onNodeSelect.emit({originalEvent:e,node:o})):"multiple"===this.selectionMode&&(d?(this.selection=this.selection.filter((Ne,we)=>we!=c),this.onNodeUnselect.emit({originalEvent:e,node:o})):(this.selection=[...this.selection||[],o],this.onNodeSelect.emit({originalEvent:e,node:o}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(e){let o=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)o=this.selection==e?0:-1;else if("multiple"===this.selectionMode)for(let a=0;a<this.selection.length;a++)if(this.selection[a]==e){o=a;break}return o}isSelected(e){return-1!=this.findIndexInSelection(e)}}return(0,s.Z)(n,"\u0275fac",function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO))}),(0,s.Z)(n,"\u0275cmp",t.Xpm({type:n,selectors:[["p-organizationChart"]],contentQueries:function(e,o,a){if(1&e&&t.Suo(a,g.jx,4),2&e){let c;t.iGM(c=t.CRH())&&(o.templates=c)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",preserveSpace:"preserveSpace",selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Dt,1,1,"table",1),t.qZA()),2&e&&(t.Tol(o.styleClass),t.Q6J("ngStyle",o.style)("ngClass",t.VKq(5,Yt,o.preserveSpace)),t.xp6(1),t.Q6J("ngIf",o.root))},dependencies:[p.mk,p.O5,p.PC,Vt],encapsulation:2,changeDetection:0})),n})(),jt=(()=>{class n{}return(0,s.Z)(n,"\u0275fac",function(e){return new(e||n)}),(0,s.Z)(n,"\u0275mod",t.oAB({type:n})),(0,s.Z)(n,"\u0275inj",t.cJS({imports:[p.ez,R.v,X.g,g.m8,g.m8]})),n})(),Kt=(()=>{class n{constructor(e){this.http=e}ngOnInit(){this.request&&this.http.get(this.request).subscribe({next:e=>{this.files=[{label:"Account Type",children:e.data}]},error:e=>{},complete:()=>{this.expandAll()}})}expandAll(){this.files.forEach(e=>{this.expandRecursive(e,!0)})}collapseAll(){this.files.forEach(e=>{this.expandRecursive(e,!1)})}expandRecursive(e,o){e.expanded=o,e.children&&e.children.forEach(a=>{this.expandRecursive(a,o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-organization-chart"]],inputs:{request:"request",files:"files",class:"class"},decls:2,vars:1,consts:[[1,"row"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"p-organizationChart",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("value",o.files))},dependencies:[et],styles:[".p-organizationchart-table{border-collapse:collapse!important}"]}),n})();function Bt(n,i){1&n&&t.GkF(0)}function Ht(n,i){1&n&&(t.TgZ(0,"div",10),t._UZ(1,"app-tree-node",11),t.qZA()),2&n&&(t.xp6(1),t.Q6J("request","groupType/treeview"))}function Rt(n,i){1&n&&(t.TgZ(0,"div",10),t._UZ(1,"app-organization-chart",11),t.qZA()),2&n&&(t.xp6(1),t.Q6J("request","groupType/treeview"))}let Xt=(()=>{class n{constructor(e){this.http=e,this.simple=!0}changeChart(){this.simple=!this.simple}exportTree(){this.http.get("account/export/chart").subscribe({next:e=>{window.open(e.file_path)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-hierarchy"]],inputs:{simple:"simple"},decls:14,vars:8,consts:[[1,"d-flex","justify-content-between","pb-5"],["routerLink","/key/accounting/charts-of-account/group-type",1,"title","pointer"],[1,"fa-solid","fa-arrow-left","me-2"],[1,"new-btn"],[3,"text","class","click"],[3,"text","click"],[1,"scroll"],[4,"ngTemplateOutlet"],["simpleTemp",""],["complexTemp",""],[1,"row"],[3,"request"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"h5",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3)(6,"app-button",4),t.NdJ("click",function(){return o.changeChart()}),t.qZA(),t.TgZ(7,"app-button",5),t.NdJ("click",function(){return o.exportTree()}),t.qZA()()(),t.TgZ(8,"div",6),t.YNc(9,Bt,1,0,"ng-container",7),t.YNc(10,Ht,2,1,"ng-template",null,8,t.W1O),t.YNc(12,Rt,2,1,"ng-template",null,9,t.W1O),t.qZA()),2&e){const a=t.MAs(11),c=t.MAs(13);t.xp6(3),t.hij(" ",t.lcZ(4,6,"charts_of_account"),""),t.xp6(3),t.Q6J("text",o.simple?"hierarchy":"tree"),t.xp6(1),t.Tol("btn-cancel my-3"),t.Q6J("text","export"),t.xp6(2),t.Q6J("ngTemplateOutlet",o.simple?c:a)}},dependencies:[p.tP,C.rH,_.r,Tt,Kt,m.X$],styles:[".scroll[_ngcontent-%COMP%]{overflow-x:scroll}"]}),n})();var v=r(2127);const h={api:{create:"account/create",get:"account/sub/all",getNotParent:"not-parents/accounts",getParent:"parents/accounts",getById:"account/",update:"account/update/",delete:"account/",exportExample:"account/export/example/sub",export:"account/export/sub",exportPdf:"account/export/pdf",importAccount:"account/import"},page:{}},E=n=>{return{cols:[{field:"code",label:"code",class:""},{field:"name",label:"name",class:""},{field:"group",label:"account_group",class:""},{field:"parent",label:"account_parent",format:i=>i.parent?i.parent:"-"},{field:"is_parent",label:"is_parent",format:i=>i.is_parent?i.is_parent:"0"},{field:"total_debit",label:"balance_debit",format:i=>i.total_debit?i.total_debit:"0"},{field:"total_credit",label:"balance_credit",format:i=>i.total_credit?i.total_credit:"0"},{field:"account_type",label:"account_type",format:i=>i.account_type?i.account_type:"-"},{label:"action",actions:[{id:x.m.delete,icon:"trash",class:"main-color",fun:(i=(0,u.Z)(function*(e){return yield n.supAccountService.delete(e,"delete account")}),function(o){return i.apply(this,arguments)})},{id:x.m.update,icon:"pen-to-square",class:"main-color",fun:function(){var i=(0,u.Z)(function*(e){return yield n.supAccountService.openDialogToUpdateAccount(e)});return function(o){return i.apply(this,arguments)}}()}]}],Request:h.api.get,titleRow:"name_code"};var i};var Wt=r(5619),nt=r(5118),$t=r(2305),te=r(8614),ee=r(1904),ne=r(3838),oe=r(1771);function ie(n,i){if(1&n&&(t.TgZ(0,"p",22),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function ae(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",23)(1,"app-checkbox",24),t.NdJ("change",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.is_parent(a))}),t.qZA()()}2&n&&(t.xp6(1),t.Tol("d-flex align-items-center mt-2  flex-row-reverse justify-content-end gap-2"),t.Q6J("text","parent"))}function re(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",13),t._UZ(2,"app-number-input",26),t.qZA(),t.TgZ(3,"div",13),t._UZ(4,"app-number-input",27),t.qZA(),t.TgZ(5,"div",13),t._UZ(6,"app-dropdown",28),t.TgZ(7,"app-checkbox",29),t.NdJ("change",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.change_currency(a))}),t.qZA()()()}if(2&n){const e=t.oxw();let o;t.xp6(2),t.Q6J("mode","decimal")("maxFractionDigits",3)("minFractionDigits",2)("showButtons",!1)("text","opening_balance_debit"),t.xp6(2),t.Q6J("mode","decimal")("maxFractionDigits",3)("minFractionDigits",2)("showButtons",!1)("text","opening_balance_credit"),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","account_type")("data",e.types)("optionLabel","name")("optionValue","id")("placeholder","select"),t.xp6(1),t.Tol("d-flex align-items-center mt-2  flex-row-reverse justify-content-end gap-2"),t.Q6J("value",1==(null==(o=e.formGroup.get("change_currency"))?null:o.value))("text","change-currency")}}let ot=(()=>{class n{constructor(e,o,a,c,d){this.fb=e,this.toastr=o,this.supAccountService=a,this.config=c,this.dialogRef=d,this.accountConfig=O.a,this.getAccountRequest=O.a,this.unsubscribe=new H.x,this.formGroup=this.initForm(),this.isLoading=!1,this.types=[{name:"Both",id:"both"},{name:"Credit",id:"credit"},{name:"Debit",id:"debit"}],this.config.data?.data&&this.fillDataToUpdate()}ngOnInit(){}initForm(){return this.fb.group({id:[Number],name:["",[l.kI.required]],opening_balance_debit:[0,[l.kI.required,l.kI.pattern("^[0-9.]+$")]],opening_balance_credit:[0,[l.kI.required,l.kI.pattern("^[0-9.]+$")]],parent_id:[null,l.kI.required],account_type:["both",l.kI.required],is_parent:[0],change_currency:[0]})}accept(){this.formGroup.invalid?this.formGroup.markAllAsTouched():(this.isLoading=!0,this.config.data.data?this.supAccountService.update(this.formGroup.value).subscribe(e=>{this.toastr.success(e.message),this.ClosePopUp(!0),this.isLoading=!1},e=>{this.errors=e.error.errors,this.isLoading=!1}):this.supAccountService.addAccount(this.formGroup.value).subscribe(e=>{this.toastr.success(e.message),this.ClosePopUp(!0),this.isLoading=!1},e=>{this.errors=e.error.errors,this.isLoading=!1}))}is_parent(e){e.checked?(this.formGroup.get("is_parent")?.patchValue(1),this.formGroup.get("opening_balance_debit")?.clearValidators(),this.formGroup.get("opening_balance_credit")?.clearValidators(),this.formGroup.get("account_type")?.clearValidators(),this.formGroup.get("parent_id")?.clearValidators()):(this.formGroup.get("is_parent")?.patchValue(0),this.formGroup.get("opening_balance_debit")?.setValidators([l.kI.required,l.kI.pattern("^[0-9.]+$")]),this.formGroup.get("opening_balance_credit")?.setValidators([l.kI.required,l.kI.pattern("^[0-9.]+$")]),this.formGroup.get("account_type")?.setValidators(l.kI.required),this.formGroup.get("parent_id")?.setValidators(l.kI.required)),this.formGroup.get("opening_balance_debit")?.updateValueAndValidity(),this.formGroup.get("opening_balance_credit")?.updateValueAndValidity(),this.formGroup.get("account_type")?.updateValueAndValidity(),this.formGroup.get("parent_id")?.updateValueAndValidity()}change_currency(e){e.checked?this.formGroup.get("change_currency")?.patchValue(1):this.formGroup.get("change_currency")?.patchValue(0)}ClosePopUp(e){this.dialogRef.close(e)}fillDataToUpdate(){this.is_parent({checked:Number(this.config.data?.data?.is_parent)}),Number(this.config.data?.data?.is_parent)?this.formGroup.patchValue({id:this.config.data.data.id,name:this.config.data.data.name,parent_id:this.config.data?.data?.parent_id,is_parent:this.config?.data?.data?.is_parent,change_currency:this.config?.data?.data?.change_currency}):this.formGroup.patchValue({id:this.config.data.data.id,name:this.config.data.data.name,parent_id:this.config.data?.data?.parent_id,account_type:this.config.data.data?.account_type,opening_balance_debit:this.config.data.data?.opening_balance_debit,opening_balance_credit:this.config.data.data?.opening_balance_credit,is_parent:this.config?.data?.data?.is_parent,change_currency:this.config?.data?.data?.change_currency})}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(Z._W),t.Y36(it),t.Y36(nt.S),t.Y36(nt.E7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-sup-account"]],decls:25,vars:21,consts:[[1,"main"],[1,"header"],[1,"d-flex","justify-content-between"],[1,"icon"],["src","assets/Tabs/Icon/Active/craete-bank.png","alt","img"],[3,"click"],[1,"fa-solid","fa-xmark","pointer","fs-1"],[1,"title"],[1,"form"],[3,"formGroup","onSubmit"],["class","text-error",4,"ngFor","ngForOf"],["text","name","formControlName","name","ngDefaultControl","","placeholder","",3,"type"],[1,"row"],[1,"col-12","my-3"],["ngDefaultControl","","formControlName","parent_id",3,"text","request","optionLabel","optionValue","placeholder"],["class","my-3",4,"ngIf"],["class","row g-2 my-3",4,"ngIf"],[1,"footer","my-3"],[1,"cancel"],[1,"btn-cancel",3,"text","click"],[1,"create"],["translate","",3,"text","click"],[1,"text-error"],[1,"my-3"],[3,"text","change"],[1,"row","g-2","my-3"],["ngDefaultControl","","placeholder","","formControlName","opening_balance_debit",1,"d-block",3,"mode","maxFractionDigits","minFractionDigits","showButtons","text"],["ngDefaultControl","","placeholder","","formControlName","opening_balance_credit",1,"d-block",3,"mode","maxFractionDigits","minFractionDigits","showButtons","text"],["ngDefaultControl","","formControlName","account_type",3,"text","data","optionLabel","optionValue","placeholder"],[3,"value","text","change"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"span",5),t.NdJ("click",function(){return o.ClosePopUp(!1)}),t._UZ(6,"i",6),t.qZA()(),t.TgZ(7,"p",7),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",8)(11,"app-form",9),t.NdJ("onSubmit",function(){return o.accept()}),t.YNc(12,ie,2,1,"p",10),t.ALo(13,"keyvalue"),t._UZ(14,"app-text",11),t.TgZ(15,"div",12)(16,"div",13),t._UZ(17,"app-dropdown",14),t.qZA(),t.YNc(18,ae,2,3,"div",15),t.qZA(),t.YNc(19,re,8,21,"div",16),t.TgZ(20,"div",17)(21,"div",18)(22,"app-button",19),t.NdJ("click",function(){return o.ClosePopUp(!1)}),t.qZA()(),t.TgZ(23,"div",20)(24,"app-button",21),t.NdJ("click",function(){return o.accept()}),t.qZA()()()()()()),2&e){let a,c;t.xp6(8),t.Oqu(t.lcZ(9,17,null!==(a=o.config.header)&&void 0!==a?a:"")),t.xp6(3),t.Q6J("formGroup",o.formGroup),t.xp6(1),t.Q6J("ngForOf",t.lcZ(13,19,o.errors)),t.xp6(2),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("type","text"),t.xp6(3),t.Tol("d-flex flex-column justify-content-between"),t.Q6J("text","Parent")("request",o.getAccountRequest.api.getParent)("optionLabel","name")("optionValue","id")("placeholder","select"),t.xp6(1),t.Q6J("ngIf","update"!=o.config.data.acceptLabel),t.xp6(1),t.Q6J("ngIf","0"==(null==(c=o.formGroup.get("is_parent"))?null:c.value)),t.xp6(3),t.Q6J("text","Cancel"),t.xp6(2),t.Q6J("text",o.config.data.acceptLabel)}},dependencies:[p.sg,p.O5,l.Fj,l.JJ,l.JL,l.sg,l.u,m.Pi,$t.b,te.T,ee.D,ne.J,oe.U,_.r,p.Nd,m.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:1rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor);margin:2rem 0rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--red)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:1.6rem;background-color:var(--white);border:1px solid var(--mainColor);margin-bottom:1rem;height:50px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin:1rem 0;gap:20px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{width:50%;padding-right:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{width:50%;padding-left:5px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]     app-submit-btn .submit-btn{margin:0!important;max-width:100%}"]}),n})();var ce=r(3562);let it=(()=>{class n{constructor(e,o,a){this.http=e,this.dynamicDialog=o,this.toastr=a,this.latestAccounts=new Wt.X([])}getAccounts(e){return this.http.get(h.api.get)}getAccountsParents(e){return this.http.get(h.api.getParent)}getAccountsNotParent(e){return this.http.get(h.api.getNotParent)}openDialogToCreateAccount(e){return this.dynamicDialog.showDialogWithComponent({showHeader:!1,header:e,data:{acceptLabel:"Add",rejectLabel:"Cancel"},width:"500px",height:"auto"},ot)}addAccount(e){return this.http.post(h.api.create,e)}bulkDelete(e){}exportExampleSub(){return this.http.get(h.api.exportExample)}export(){return this.http.get(h.api.export)}delete(e){var o=this;return(0,u.Z)(function*(){const a={showHeader:!1,header:"delete",data:{message:"do_you_want_to_delete",acceptLabel:"delete",rejectLabel:"close",data:{...e},name:"name"},width:"480px",height:"164px"};if(!(yield o.dynamicDialog.confirm(a)))return!1;try{const d=yield o.http.delete(h.api.delete+e.id).toPromise();return o.toastr.success(d.message),d}catch(d){return o.toastr.error(d.error.message),d}})()}openDialogToUpdateAccount(e,o,a){var c=this;return(0,u.Z)(function*(){const d={showHeader:!1,header:"update_account",data:{acceptLabel:"update",rejectLabel:"Cancel",data:{...e}},width:"480px",height:"auto"};return yield c.dynamicDialog.showDialogWithComponent(d,ot)})()}update(e){return this.http.post(h.api.update+e.id,e)}importAccount(e){return this.http.post(h.api.importAccount,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T.O),t.LFG(ce.U),t.LFG(Z._W))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function se(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"button",20),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ul",21)(5,"li",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exportExample())}),t._uU(6),t.ALo(7,"titlecase"),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.export())}),t._uU(10),t.ALo(11,"titlecase"),t.ALo(12,"translate"),t.qZA()()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"export")," "),t.xp6(4),t.hij(" ",t.lcZ(7,5,t.lcZ(8,7,"example"))," "),t.xp6(4),t.hij(" ",t.lcZ(11,9,t.lcZ(12,11,"data"))," "))}function pe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.createAccount("add_account"))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("text","new")("icon",e.icon.PLUS)}}function le(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"app-import-data",24),t.NdJ("onlCoseSectionImport",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.closeSectionToImport(a))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("endPoint",e.fileConfig.api.importAccount)}}const at=function(n){return[n]},ue=[{path:"",component:K,canActivate:[v.t],data:{permission:"View GroupTypes"}},{path:"group-type",component:K,canActivate:[v.t],data:{permission:"View GroupTypes"}},{path:"groups",component:xt,canActivate:[v.t],data:{permission:"View Groups"}},{path:"accounts",component:dt,canActivate:[v.t],data:{permission:"View Accounts"}},{path:"sup-accounts",component:(()=>{class n{constructor(e,o,a){this.supAccountService=e,this.toastr=o,this.translateService=a,this.tableConfig=E(this),this.filtersConfig=(0,y.a)(),this.sortConfig=(0,P.D)(),this.fileConfig=h,this.permissions=x.m,this.showImportForm=!1,this.icon=g.dv}openSectionToImportAccount(){this.showImportForm=!0}exportExample(e){this.supAccountService.exportExampleSub().subscribe(o=>{window.open(o.file_path)})}export(e){this.supAccountService.export().subscribe(o=>{window.open(o.file_path)})}createAccount(e){var o=this;return(0,u.Z)(function*(){(yield o.supAccountService.openDialogToCreateAccount(e))&&(o.tableConfig=E(o))})()}closeSectionToImport(e){e?(this.showImportForm=!1,this.tableConfig=E(this)):this.showImportForm=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(it),t.Y36(Z._W),t.Y36(m.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-sup-account"]],decls:23,vars:21,consts:[[1,"page-card"],["cat","supAccounts"],[1,"d-flex","justify-content-between","pb-5"],[1,"title"],[1,"d-flex","align-items-center","gap-2"],["class","dropdown",4,"hasPermissions"],[3,"text","click"],[3,"text","icon","click",4,"hasPermissions"],[4,"ngIf"],[1,"d-flex","justify-content-between"],[3,"SortConfig"],["sort",""],[3,"config"],["filter",""],[1,"table"],[3,"tableConfig","pagination","filter","sort"],["table",""],[1,"d-flex","align-items-center","justify-content-center"],["pagination",""],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-cancel","dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"pointer","dropdown-item",3,"click"],[3,"text","icon","click"],[3,"endPoint","onlCoseSectionImport"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-list-categories",1),t.TgZ(2,"div",2)(3,"h5",3),t._uU(4),t.ALo(5,"titlecase"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,se,13,13,"div",5),t.TgZ(9,"app-button",6),t.NdJ("click",function(){return o.openSectionToImportAccount()}),t.qZA(),t.YNc(10,pe,1,2,"app-button",7),t.qZA()(),t.YNc(11,le,2,1,"div",8),t.TgZ(12,"div",9),t._UZ(13,"ukt-sort",10,11)(15,"ukt-filter",12,13),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"app-table",15,16),t.qZA(),t.TgZ(20,"div",17),t._UZ(21,"ukt-pagination",null,18),t.qZA()()),2&e){const a=t.MAs(14),c=t.MAs(16),d=t.MAs(22);t.xp6(4),t.Oqu(t.lcZ(5,13,t.lcZ(6,15,"list_of_sup_accounts"))),t.xp6(4),t.Q6J("hasPermissions",t.VKq(17,at,o.permissions.list)),t.xp6(1),t.Tol("btn-cancel"),t.Q6J("text","import"),t.xp6(1),t.Q6J("hasPermissions",t.VKq(19,at,o.permissions.create)),t.xp6(1),t.Q6J("ngIf",o.showImportForm),t.xp6(2),t.Q6J("SortConfig",o.sortConfig),t.xp6(2),t.Q6J("config",o.filtersConfig),t.xp6(3),t.Q6J("tableConfig",o.tableConfig)("pagination",d)("filter",c)("sort",a)}},dependencies:[p.O5,w.z,N.a,k.M,S.Q,_.r,G.z,Q.x,z,p.rS,m.X$],styles:["[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem 2.8rem!important}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1.8rem;line-height:24px;color:var(--mainColor)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}.import[_ngcontent-%COMP%]{padding:20px;border:2px solid var(--mainColor);border-radius:8px;margin:10px 0}.import[_ngcontent-%COMP%]   .import-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.import[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem}.import[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem;height:30px}.import[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--red);font-size:1.4rem}.dropdown[_ngcontent-%COMP%]{background-color:transparent!important}.dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent!important;border:1px solid var(--mainColor);font-size:1.5rem;padding:6px}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.5rem}"]}),n})(),canActivate:[v.t],data:{permission:"View Accounts"}},{path:"view-hierarchy",component:Xt,canActivate:[v.t],data:{permission:"View Chart Account"}}];let ge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.Bz.forChild(ue),C.Bz]}),n})();var me=r(1865),he=r(1383),fe=r(1471),_e=r(9293),Ce=r(9624),xe=r(2115),ve=r(4413),be=r(1890),ye=r(1019),Oe=r(3992),Ze=r(8096);let Te=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,B.xc]}),n})(),Me=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,jt]}),n})();var Ae=r(6145);let Pe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,ge,l.UX,he.m,m.aw,fe.X,_e.Q,Ce.U,xe.u,ve.e,be.f,ye.i,Ae.n,Oe.Z,Ze.J,Te,Me,m.aw,me.cc]}),n})()},6145:(rt,A,r)=>{r.d(A,{n:()=>P});var p=r(6814),C=r(4819),u=r(1890),b=r(9624),x=r(3999),y=r(9291);let P=(()=>{class g{}return g.\u0275fac=function(t){return new(t||g)},g.\u0275mod=y.oAB({type:g}),g.\u0275inj=y.cJS({imports:[p.ez,C.O,b.U,u.f,x.aw]}),g})()}}]);